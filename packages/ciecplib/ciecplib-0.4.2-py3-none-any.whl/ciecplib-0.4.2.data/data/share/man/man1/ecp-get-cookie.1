.TH ecp-get-cookie "1" Manual
.SH NAME
ecp-get-cookie \- authenticate and store saml/ecp session cookies
.SH SYNOPSIS
.B ecp-get-cookie
[-i IDENTITY_PROVIDER] [-k] [-u USERNAME] [-h] [-l] [-V] [-c cookiefile] [-d] [-r] [-v] [-X] URL
.SH DESCRIPTION
ecp\-get\-cookie queries a SAML/ECP\-enabled service, automatically performing
authentication where required, and records a session cookie to use in
future requests to the same service.

There are two usages:

    $ ecp\-get\-cookie \-i 'My Institution' \-u jsmith https://campus01.edu/my/secret/page

to authenticate with a password prompt, or

    $ ecp\-get\-cookie \-i 'My Institution' \-k https://campus01.edu/my/secret/page

to reuse an existing kerberos (``kinit``) credential.

By default the cookie file is created and stored in a location
defined by either

\- ``/tmp/ecpcookie.u{uid}`` (Unix), or
\- ``C:\\Windows\\Temp\\ecpcookie.{username}`` (Windows)
.SH OPTIONS
.TP
\fBURL\fR
service URL for which to generate cookies

.TP
\fB\-i\fR \fI\,IDENTITY_PROVIDER\/\fR, \fB\-\-identity\-provider\fR \fI\,IDENTITY_PROVIDER\/\fR
name of institution providing the identity (e.g. 'Cardiff University'), or domain name of IdP host (e.g. idp.cf.ac.uk), see \-\-list\-idps for a list of Identity Provider (IdPs) and their IdP URL. Shortened institution names (e.g. 'Cardiff') can be given as long as they uniquely match a full institution name known by CILogon

.TP
\fB\-k\fR, \fB\-\-kerberos\fR
enable kerberos negotiation

.TP
\fB\-u\fR \fI\,USERNAME\/\fR, \fB\-\-username\fR \fI\,USERNAME\/\fR
authentication username, will be prompted for if not given and not using \-\-kerberos

.TP
\fB\-c\fR cookiefile, \fB\-\-cookiefile\fR cookiefile
cookie file to create/reuse/destroy

.TP
\fB\-d\fR, \fB\-\-debug\fR
write debug output to stdout (implies \-\-verbose)

.TP
\fB\-r\fR, \fB\-\-reuse\fR
reuse existing cookies if possible

.TP
\fB\-v\fR, \fB\-\-verbose\fR
write verbose output to stdout

.TP
\fB\-X\fR, \fB\-\-destroy\fR
destroy existing cookie file

.TP
\fB\-l\fR, \fB\-\-list\-idps\fR
show IdP names and URLs and exit

.TP
\fB\-V\fR, \fB\-\-version\fR
show program's version number and exit

.SH AUTHORS
.B ciecplib
was written by Duncan Macleod <duncan.macleod@ligo.org>.
.SH DISTRIBUTION
The latest version of ciecplib may be downloaded from
.UR https://pypi.org/project/ciecplib
.UE
