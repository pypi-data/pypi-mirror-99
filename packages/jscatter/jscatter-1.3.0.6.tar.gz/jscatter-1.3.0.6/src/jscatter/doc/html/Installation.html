
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>17. Installation &#8212; Jscatter 1.3.0.6 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static//default.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="shortcut icon" href="_static/Jscatter-32x-32.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="18. Citing Jscatter" href="citing.html" />
    <link rel="prev" title="16. Intention and Remarks" href="Remarks.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="citing.html" title="18. Citing Jscatter"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Remarks.html" title="16. Intention and Remarks"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jscatter 1.3.0.6 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">17. </span>Installation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1><span class="section-number">17. </span>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="dependencies">
<h2><span class="section-number">17.1. </span>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>numpy, scipy  -&gt;  Mandatory, automatically installed by pip</p></li>
<li><p>cubature      -&gt;  Mandatory for multidimensional quadrature</p></li>
<li><p>Pillow        -&gt;  Mandatory, for reading of SAXS images, automatic install by pip</p></li>
<li><p>matplotlib    -&gt;  Mandatory, for 3D plots and on Windows</p></li>
<li><p>Ipython       -&gt;  Optional, for convenience as a powerful python shell</p></li>
<li><p>gfortran      -&gt;  Optional, without some functions dont work or use a slower python version</p></li>
<li><p>xmgrace       -&gt;  Optional, preferred plotting on Unix like (use matplotlib on Windows)</p></li>
</ul>
<p>Installation of gfortran/xmgrace may need root privileges. Use “sudo” on Linux and MacOS if needed.</p>
</div>
<div class="section" id="pip-installation-upgrade">
<h2><span class="section-number">17.2. </span>Pip installation/upgrade<a class="headerlink" href="#pip-installation-upgrade" title="Permalink to this headline">¶</a></h2>
<p>As user (without root access) this will install to your home directory (by default to path ~/.local/).
Prepend sudo if it should install to the system python.</p>
<p>(use pip3 if NOT your default Python, latest python2.7 compatible version was 1.1.0)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">jscatter</span>
</pre></div>
</div>
<p>To upgrade to latest version</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">jscatter</span> <span class="o">--</span><span class="n">upgrade</span>
</pre></div>
</div>
<p>Install from a local repository (development versions):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">jscatter</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">pre</span> <span class="o">--</span><span class="n">find</span><span class="o">-</span><span class="n">links</span> <span class="o">/</span><span class="n">where</span><span class="o">/</span><span class="n">the</span><span class="o">/</span><span class="n">file</span><span class="o">/</span><span class="ow">is</span><span class="o">/</span><span class="n">saved</span>

<span class="n">options</span>
<span class="o">--</span><span class="n">user</span>       <span class="p">:</span> <span class="n">Install</span> <span class="ow">in</span> <span class="n">user</span> <span class="n">directory</span> <span class="p">(</span><span class="n">folder</span> <span class="n">defined</span> <span class="n">by</span> <span class="n">PYTHONUSERBASE</span> <span class="ow">or</span> <span class="n">the</span> <span class="n">default</span> <span class="o">~/.</span><span class="n">local</span><span class="p">)</span>
<span class="o">--</span><span class="n">find</span><span class="o">-</span><span class="n">links</span> <span class="p">:</span> <span class="n">look</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">given</span> <span class="n">path</span> <span class="k">for</span> <span class="n">package</span> <span class="n">links</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span> <span class="n">development</span> <span class="n">releases</span>
<span class="o">--</span><span class="n">upgrade</span>    <span class="p">:</span> <span class="n">to</span> <span class="n">install</span> <span class="n">upgrades</span> <span class="n">also</span> <span class="k">for</span> <span class="n">dependencies</span>
<span class="o">--</span><span class="n">pre</span>        <span class="p">:</span> <span class="n">to</span> <span class="n">install</span> <span class="n">also</span> <span class="n">development</span> <span class="n">versions</span>
</pre></div>
</div>
<p>Installation directly from  from git repository branch. For different branch use branch name
e.g. as development version use dev.
(You may need a user account)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">gitlab</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">biehl</span><span class="o">/</span><span class="n">jscatter</span><span class="o">.</span><span class="n">git</span><span class="nd">@master</span>
</pre></div>
</div>
</div>
<div class="section" id="linux">
<h2><span class="section-number">17.3. </span>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Ubuntu, all Debian related</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span>  <span class="c1"># install gcc and more</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">gfortran</span> <span class="n">grace</span> <span class="n">python</span><span class="o">-</span><span class="n">matplotlib</span>  <span class="c1"># or python3-matplotlib e.g. Debian,Fedora, RedHat</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">cython</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">ipython</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">jscatter</span>
</pre></div>
</div>
</li>
<li><p>CentOs, Suse, Fedora … do same as above but with yum/zypper…</p></li>
<li><p>Manjaro Linux (yaourt asks for permission as root or prepend sudo as above)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># install gfortran</span>
<span class="n">yaourt</span> <span class="n">gcc</span><span class="o">-</span><span class="n">fortran</span>
<span class="c1"># install xmgrace (only found in AUR), fonts are needed for the interface, fonts are loaded after restart</span>
<span class="n">yaourt</span> <span class="n">xorg</span><span class="o">-</span><span class="n">fonts</span><span class="o">-</span><span class="mi">75</span> <span class="n">xorg</span><span class="o">-</span><span class="n">fonts</span><span class="o">-</span><span class="mi">100</span> <span class="n">grace</span><span class="o">-</span><span class="n">openmotif</span> <span class="n">python</span><span class="o">-</span><span class="n">matplotlib</span>
<span class="c1"># tk might be missing for tkinter as matplotlib backend</span>
<span class="n">sudo</span> <span class="n">pacman</span> <span class="o">-</span><span class="n">S</span> <span class="n">tk</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">ipython</span> <span class="n">cython</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">jscatter</span>
</pre></div>
</div>
</li>
<li><p>CONTIN in DLS module (Only if needed).</p>
<p>See DLS module documentation for details how to get and compile the original fortran code.</p>
</li>
</ul>
</div>
<div class="section" id="macos-intel">
<h2><span class="section-number">17.4. </span>MacOs (Intel)<a class="headerlink" href="#macos-intel" title="Permalink to this headline">¶</a></h2>
<p><strong>Homebrew</strong> is a MacOs package manager. The following should work on Catalina and BigSur.</p>
<p>Install Homebrew first as given on their web page (see <a class="reference external" href="https://brew.sh/">Homebrew</a>).
Homebrew installs things to /usr/local/ so you don’t need sudo permissions.</p>
<p>Append the following line to your .zshrc file and restart the terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># set Path to point to homebrew
export PATH=/usr/local/bin:/usr/local/share/python:$PATH
# XQuartz needs this to use flatNamespace correctly with grace (error was something with Vendorshell...)
export DYLD_LIBRARY_PATH=/opt/X11/lib/flat_namespace
</pre></div>
</div>
<p>Install XQuartz, gcc and xmgrace from Homebrew:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># install XQuartz from homebrew cask (NOT from the AppStore, because of above setting)</span>
<span class="n">brew</span> <span class="n">cask</span> <span class="n">install</span> <span class="n">xquartz</span>
<span class="c1"># install xmgrace and gfortran (included in gcc)</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">gcc</span> <span class="n">grace</span>
<span class="c1"># maybe its necessary to relink if old links from previous install are there</span>
<span class="n">brew</span> <span class="n">link</span> <span class="o">--</span><span class="n">overwrite</span> <span class="n">gcc</span>
<span class="n">brew</span> <span class="n">link</span> <span class="o">--</span><span class="n">overwrite</span> <span class="n">grace</span>
</pre></div>
</div>
<p>You may use the system python (omit the next line) or a new version from Homebrew which needs to be installed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># install python from homebrew (by default python3)</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">python</span>
</pre></div>
</div>
<p>Install needed things via pip.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># then use pip (this should call python3 and use pip3)</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">ipython</span> <span class="n">cython</span>
<span class="c1"># dependencies are installed automatically</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">jscatter</span>
<span class="c1"># check if which python is used ( brew: /usr/local/bin/python, MacOS: /usr/local/Library/Frameworks/..../python3 )</span>
<span class="n">which</span> <span class="n">python3</span>
</pre></div>
</div>
<p>Troubles</p>
<blockquote>
<div><ul>
<li><p>If you have trouble like <cite>missing xcrun ..</cite> you might have to re-register it or update it to the latest version.
Try <cite>xcode-select –install</cite>.</p></li>
<li><p>In newer MacOs (e.g. Catalina) you may get an error “stdio.h not found”
which is related to the missing /usr/local/include folder as decided by Apple.
Add to .zshrc or corresponding to include this path in CPATH:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">CPATH</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Developer</span><span class="o">/</span><span class="n">CommandLineTools</span><span class="o">/</span><span class="n">SDKs</span><span class="o">/</span><span class="n">MacOSX</span><span class="o">.</span><span class="n">sdk</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">include</span><span class="o">/</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="windows">
<h2><span class="section-number">17.5. </span>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<div class="section" id="windows-subsystem-for-linux-wsl-with-ubuntu-way">
<h3><span class="section-number">17.5.1. </span>Windows Subsystem for Linux (WSL) with Ubuntu way<a class="headerlink" href="#windows-subsystem-for-linux-wsl-with-ubuntu-way" title="Permalink to this headline">¶</a></h3>
<p>A new way is based on  Windows Subsystem for Linux (WSL), which
“lets developers run GNU/Linux environment
– including most command-line tools, utilities, and applications – directly on Windows,
unmodified, without the overhead of a virtual machine.”
(See <a class="reference external" href="https://docs.microsoft.com/de-de/windows/wsl/about">WSL</a> , use WSL2)</p>
<p>This allows to use any Linux application including XmGrace or Linux editors.
You work on the same filesystem as your Windows user account without the need of
syncing folders or using a shared folder from a virtual machine.
Also gfortran compiled code is working.</p>
<p>The basic procedure is to activate WSL, install Linux and Xserver, add your needed Linux software in the usual way.</p>
<ul>
<li><p>Install <strong>WSL1</strong> (Please check for the update to WSL2 on following site)</p>
<p>See <a class="reference external" href="https://docs.microsoft.com/de-de/windows/wsl/install-win10">https://docs.microsoft.com/de-de/windows/wsl/install-win10</a></p>
</li>
<li><p>Then <strong>install a linux distribution</strong> of choice from Windows store (tested with Ubuntu 18.04).
(The install is per user, so do it under your user account, NOT as administrator)</p>
<p>Open a terminal, start bash and set user and password for Linux.
(See <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/initialize-distro">https://docs.microsoft.com/en-us/windows/wsl/initialize-distro</a> )</p>
</li>
<li><p>For graphical applications: <strong>Install Xserver</strong> VcXsrv (or an other Xserver).</p>
<p>See e.g. <a class="reference external" href="https://seanthegeek.net/234/graphical-linux-applications-bash-ubuntu-windows/">https://seanthegeek.net/234/graphical-linux-applications-bash-ubuntu-windows/</a> .
Download from <a class="reference external" href="https://sourceforge.net/projects/vcxsrv/">https://sourceforge.net/projects/vcxsrv/</a> .
Install (start always manually or add to Windows autostart).</p>
<p>For WSL2 : If you start vcxsrv on windows check in the last option window that “Disable access controll” is checked
to allow connections from WSL. If you save the configuration it might remind the settings.</p>
<p>See <a class="reference external" href="https://techcommunity.microsoft.com/t5/windows-dev-appconsult/running-wsl-gui-apps-on-windows-10/ba-p/1493242">https://techcommunity.microsoft.com/t5/windows-dev-appconsult/running-wsl-gui-apps-on-windows-10/ba-p/1493242</a></p>
</li>
<li><p><strong>Configure bash</strong> to use the local X server</p>
<p>Add this to .bashrc  dependent on using WSL1 or WSL2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export DISPLAY=localhost:0.0 # WSL1
export DISPLAY=$(grep -m 1 nameserver /etc/resolv.conf | awk &#39;{print $2}&#39;):0.0 # WSL2
</pre></div>
</div>
<p>or run this inside bash with the above line in double quotes “” e.g for WSL1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s2">&quot;export DISPLAY=localhost:0.0&quot;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">bashrc</span>
</pre></div>
</div>
<p>Restart bash or load again .bashrc <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/.bashrc</span></code></p>
</li>
<li><p><strong>Install</strong> xmgrace, python3 and <strong>Jscatter</strong> in Linux subsystem</p>
<p>open terminal, start bash</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">&amp;&amp;</span> <span class="n">upgrade</span>                                   <span class="c1"># upgrade linux</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python3</span> <span class="n">python3</span><span class="o">-</span><span class="n">pip</span> <span class="n">ipython3</span> <span class="n">gfortran</span> <span class="n">gcc</span>   <span class="c1"># python, ipython and pip3</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">python3</span><span class="o">-</span><span class="n">matplotlib</span> <span class="n">xmgrace</span> <span class="n">python</span><span class="o">-</span><span class="n">tk</span>  <span class="c1"># mainly for graphical output</span>
<span class="n">pip3</span> <span class="n">install</span> <span class="n">cython</span>
<span class="n">pip3</span> <span class="n">install</span> <span class="n">jscatter</span>                                            <span class="c1"># jscatter, scipy, Pillow...</span>
</pre></div>
</div>
</li>
</ul>
<blockquote>
<div><p>Run test and example.</p>
</div></blockquote>
</div>
<div class="section" id="anaconda-way">
<h3><span class="section-number">17.5.2. </span>Anaconda way<a class="headerlink" href="#anaconda-way" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://www.anaconda.com/distribution">Anaconda</a> is a python distribution as alternative
with numpy, scipy, matplotlib, Ipython preinstalled.
Need of sudo depends on how Anaconda was installed (root or user).
Maybe the matplotlib backend needs to be configured on Windows to work properly.
XmGrace is not working on native Windows.</p>
<p>And there was more to adjust, when i stopped waisting my time.
In my testcase it was a pain, but test and examples work (no Xmgrace, no fortran).</p>
<p>I strongly advise to use the  <strong>WSL way</strong> from above, as it is easier to install, update and use.
And even gfortran is working in WSL!!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># install jscatter on working anaconda environment</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">jscatter</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="jupyter-notebook">
<h2><span class="section-number">17.6. </span>Jupyter Notebook<a class="headerlink" href="#jupyter-notebook" title="Permalink to this headline">¶</a></h2>
<p>Jscatter works on Jupyter Notebooks. You may try Jscatter live at <a class="reference external" href="https://mybinder.org/v2/gl/biehl%2Fjscatter/master?filepath=src%2Fjscatter%2Fexamples%2Fnotebooks"><img alt="link to mybinder" src="https://img.shields.io/badge/launch-jscatter-F5A252.svg?logo=data:image/png;base64,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" /></a>.</p>
<p>The example notebooks are included in the example subfolder of your Jscatter installation
or can be downloaded from
<a class="reference external" href="https://gitlab.com/biehl/jscatter/tree/master/src/jscatter/examples/notebooks">Gitlab/Jscatter</a> .</p>
<p>To install jscatter on a server Jupyter installation (Jscatter not preinstalled)
prepend this on your script</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import sys
# install jscatter as user in the current Jupyter kernel
!{sys.executable} -m pip install jscatter
</pre></div>
</div>
<p>There is some trouble with inline plots (which are not interactive and cannot be updated)
dependent on the installed backend. This is related to the used matplotlib backend.</p>
<p>Use this (before importing anything else) to get interactive plots inline.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">notebook</span>
</pre></div>
</div>
<p>Then import Jscatter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jscatter</span> <span class="k">as</span> <span class="nn">js</span>

<span class="n">js</span><span class="o">.</span><span class="n">usempl</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># use matplotlib</span>
<span class="n">js</span><span class="o">.</span><span class="n">usempl</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># default, use grace on your computer with xmgrace in external window.</span>
</pre></div>
</div>
<p>If you work over http on a server (usual no display of Xwindows applications) use the same to
switch to matplotlib.</p>
</div>
<div class="section" id="using-a-cluster-headless-mode">
<h2><span class="section-number">17.7. </span>Using a cluster/headless mode<a class="headerlink" href="#using-a-cluster-headless-mode" title="Permalink to this headline">¶</a></h2>
<p>For long running scripts or fitting one might want to use a
<a class="reference external" href="https://en.wikipedia.org/wiki/Computer_cluster">cluster</a>.</p>
<p>Cluster allow often no graphical output (as they are used e.g. trough ssh running a script.).
To run your script as usual (after testing on your PC) Jscatter implements a <em>headless</em> mode
which can be activated using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jscatter</span> <span class="k">as</span> <span class="nn">js</span>
<span class="n">js</span><span class="o">.</span><span class="n">headless</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>In <em>headless</em> mode all errPlots are saved automatically to <em>lastErrPlot.agr</em> and open matplotlib plots
are saved as <em>lastopenedplots_i.png</em> if js.mpl.show() is used.
Both allow to retrieve an updated graphical output as stored image instead of updated windows.</p>
<p>Please save important plots in the usual way to store them with a useful name.
Additional any data output should be saved in the usual way.
Xmgrace is advantageous as .agr format allows later change of the plots including rescaling.</p>
<p>Examples are also adapted and saved to jscatterExamples/example_name/
under the current working directory.</p>
<dl>
<dt>For experts:</dt><dd><p>Xmgrace uses <em>gracebat</em> and matplotlib uses the non-interactive backend “Agg”.</p>
<p>For matplotlib create figures using <em>fig=js.mpl.mplot</em> or <em>fig=matplotlib.figure.Figure</em>
and later save by <em>fig.savefig</em>. Dont use pyplot as it generates errors in headless mode without interactive loop.</p>
</dd>
</dl>
<p>To switch back it is best to restart ipython (at least for matplotlib).</p>
</div>
<div class="section" id="testing">
<h2><span class="section-number">17.8. </span>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>You can test basic functionality of jscatter after installation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jscatter</span> <span class="k">as</span> <span class="nn">js</span>
<span class="n">js</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">doTest</span><span class="p">()</span>
<span class="c1">#basic graphics and fitting</span>
<span class="n">js</span><span class="o">.</span><span class="n">examples</span><span class="o">.</span><span class="n">runExample</span><span class="p">(</span><span class="s1">&#39;example_SinusoidalFitting.py&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>The Example shows :</dt><dd><ul class="simple">
<li><p>3 sine fit plots with one sine</p></li>
<li><p>a fit plot with 5 sine curves fitted simultaneous</p></li>
<li><p>a simple plot with 5 points ( phase against Amplitude of the 5 sines)</p></li>
</ul>
</dd>
</dl>
<p>During development:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">test</span>
</pre></div>
</div>
</div>
<div class="section" id="troubleshooting-and-tips">
<h2><span class="section-number">17.9. </span>Troubleshooting and tips<a class="headerlink" href="#troubleshooting-and-tips" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>For testing and playing around without disturbing your productive environment you migth use
<a class="reference external" href="https://virtualenv.pypa.io">https://virtualenv.pypa.io</a> .</p>
<p>virtualenv is a tool to create isolated Python environments.</p>
</li>
<li><p>If xmgrace is not found by jscatter (<code class="docutils literal notranslate"><span class="pre">`module</span> <span class="pre">'jscatter'</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'grace'`</span></code>) the path to
the executable may be not on your PATH variable.</p>
<p>Check this by calling xmgrace in a shell, if it is started it should work.</p>
<p>If xmgrace is not starting, add accordingly the installation path to your PATH variable.
For e.g. bash add in your .bashrc (for zsh on MacOs .zshrc) on my CentOS</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PATH=/usr/local/bin:$(PATH)
</pre></div>
</div>
<p>Restart the shell after changing.</p>
</li>
<li><dl>
<dt>To open .agr files by klicking add a new file association e.g. to KDE.</dt><dd><ul>
<li><p>In SystemSettings/FileAssociations add a new type xmgrace.</p></li>
<li><p>Inside this add FilenamePatterns ‘<a href="#id1"><span class="problematic" id="id2">*</span></a>.agr’ and similar.</p></li>
<li><dl class="simple">
<dt>In ‘ApplicationPreferenceOrder’ add xmgrace and edit this new application :</dt><dd><p>In General :  edit name to “xmgrace” (keep it).
In Application : edit name to “xmgracefree” and command to “xmgrace -free”.
This will open files in free floating size format.</p>
</dd>
</dl>
<p>In ‘ApplicationPreferenceOrder’ add again application xmgrace (no changes)
The second opens files in fixed size format (no ‘-free’).</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/Jscatter1.gif" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BeginnersGuide.html">1. Beginners Guide / Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataArray.html">2. dataArray</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataList.html">3. dataList</a></li>
<li class="toctree-l1"><a class="reference internal" href="formel.html">4. formel</a></li>
<li class="toctree-l1"><a class="reference internal" href="sas.html">5. smallanglescattering (sas)</a></li>
<li class="toctree-l1"><a class="reference internal" href="formfactor.html">6. formfactor (ff)</a></li>
<li class="toctree-l1"><a class="reference internal" href="structurefactor.html">7. structurefactor (sf)</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic.html">8. dynamic</a></li>
<li class="toctree-l1"><a class="reference internal" href="dls.html">9. dls</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel.html">10. parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="GracePlot.html">11. Plotting in XmGrace</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpl.html">12. mpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">13. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="Extending.html">14. Extending/Contributing/Fortran</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">15. Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="Remarks.html">16. Intention and Remarks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">17. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">17.1. Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pip-installation-upgrade">17.2. Pip installation/upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux">17.3. Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#macos-intel">17.4. MacOs (Intel)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows">17.5. Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#windows-subsystem-for-linux-wsl-with-ubuntu-way">17.5.1. Windows Subsystem for Linux (WSL) with Ubuntu way</a></li>
<li class="toctree-l3"><a class="reference internal" href="#anaconda-way">17.5.2. Anaconda way</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jupyter-notebook">17.6. Jupyter Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-a-cluster-headless-mode">17.7. Using a cluster/headless mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">17.8. Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting-and-tips">17.9. Troubleshooting and tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">18. Citing Jscatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">19. Changelog</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Remarks.html"
                        title="previous chapter"><span class="section-number">16. </span>Intention and Remarks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="citing.html"
                        title="next chapter"><span class="section-number">18. </span>Citing Jscatter</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Installation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="citing.html" title="18. Citing Jscatter"
             >next</a> |</li>
        <li class="right" >
          <a href="Remarks.html" title="16. Intention and Remarks"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jscatter 1.3.0.6 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">17. </span>Installation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-19, Ralf Biehl.
      Last updated on Mar 18, 2021.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>