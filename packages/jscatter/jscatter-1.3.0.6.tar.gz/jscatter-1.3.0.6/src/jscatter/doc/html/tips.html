
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>15. Tips &#8212; Jscatter 1.3.0.6 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static//default.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="shortcut icon" href="_static/Jscatter-32x-32.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="16. Intention and Remarks" href="Remarks.html" />
    <link rel="prev" title="14. Extending/Contributing/Fortran" href="Extending.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Remarks.html" title="16. Intention and Remarks"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Extending.html" title="14. Extending/Contributing/Fortran"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jscatter 1.3.0.6 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">15. </span>Tips</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tips">
<h1><span class="section-number">15. </span>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h1>
<p>Some tips how to use Jscatter efficient.</p>
<p><strong>Configuration for xmgrace</strong></p>
<blockquote>
<div><p>A template can be saved to .grace/templates/Default.agr
This is opened whenever you open xmgrace as a standard layout.
If you open this file with a text editor you may change the order of colors.</p>
<p>To allow easier data loading in xmgrace a configuration file can be used that defines filters.
This prevents for most files that text lines make errors if ASCII is imported.
Set your desktop environment to open .agr files by click.
Save this to .grace/gracerc</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># define input filter</span>
<span class="c1"># the used endings were filtered to accept only lines starting with +,- or a number .123 also</span>
<span class="c1"># filters are used for files with given suffix</span>
<span class="n">DEFINE</span> <span class="n">IFILTER</span> <span class="s2">&quot;egrep &#39;*&#39; &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="n">PATTERN</span> <span class="s2">&quot;*.agr&quot;</span>
<span class="n">DEFINE</span> <span class="n">IFILTER</span> <span class="s2">&quot;egrep &#39;*&#39; &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="n">PATTERN</span> <span class="s2">&quot;*.user&quot;</span>
<span class="n">DEFINE</span> <span class="n">IFILTER</span> <span class="s2">&quot;tail -n+6 &#39;</span><span class="si">%s</span><span class="s2">&#39; | egrep &#39;^(\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+\s*$|^\s*$&#39;&quot;</span> <span class="n">PATTERN</span> <span class="s2">&quot;*.pdh&quot;</span>
<span class="n">DEFINE</span> <span class="n">IFILTER</span> <span class="s2">&quot;egrep &#39;^(\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+\s*$|^\s*$&#39; &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="n">PATTERN</span> <span class="s2">&quot;*.???&quot;</span>
<span class="n">DEFINE</span> <span class="n">IFILTER</span> <span class="s2">&quot;egrep &#39;^(\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+\s*$|^\s*$&#39; &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="n">PATTERN</span> <span class="s2">&quot;*&quot;</span>
<span class="c1">#  Device Setup    Menue Print setup</span>
<span class="c1"># default output format to print to</span>
<span class="n">HARDCOPY</span> <span class="n">DEVICE</span> <span class="s2">&quot;JPEG&quot;</span>
<span class="c1">#HARDCOPY DEVICE &quot;Postscript&quot;</span>
<span class="c1">#default set to</span>
<span class="c1">#PAGE LAYOUT FREE</span>
<span class="c1"># options for eps</span>
<span class="n">DEVICE</span> <span class="s2">&quot;EPS&quot;</span> <span class="n">OP</span> <span class="s2">&quot;bbox:tight&quot;</span>
<span class="n">DEVICE</span> <span class="s2">&quot;PNG&quot;</span> <span class="n">DPI</span> <span class="mi">300</span>
<span class="c1">#options for Postscript</span>
<span class="n">DEVICE</span> <span class="s2">&quot;PostScript&quot;</span> <span class="n">DPI</span> <span class="mi">300</span>
<span class="c1">#general page  -size  or do it with dafault.agr</span>
</pre></div>
</div>
</div></blockquote>
<dl>
<dt><strong>Reading data from a xmgrace figure</strong></dt><dd><p>and extracting the legend.
Just in case you didnt save your data :-)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aq</span><span class="o">=</span><span class="n">js</span><span class="o">.</span><span class="n">dL</span><span class="p">(</span><span class="s1">&#39;examples/effectiveDiffusion.agr&#39;</span><span class="p">)</span>
<span class="n">leg</span><span class="o">=</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">13</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">aq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">comment</span> <span class="k">if</span> <span class="s1">&#39;legend&#39;</span> <span class="ow">in</span> <span class="n">s</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">is</span> <span class="s1">&#39;s&#39;</span> <span class="p">]</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span><span class="s1">&#39;legend&#39;</span> <span class="ow">in</span> <span class="n">a</span> <span class="ow">and</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="n">aq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">comment</span><span class="p">):</span>
    <span class="n">i</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">aq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt><strong>Xmgrace special characters</strong></dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>make font oblique: \q Test \Q
use initial font (a.g. after using greek):  \B  or \f{}
use normal size (after super script): \N
greek: use \x w \B
superscript: use \S letters \N
subscript:   use \s letters \N
new line: \n

Examples:
 F\sX\N(\xe\B) = sin(\xe\B)\#{b7} e\S-X\N\ #{b7} cos(\xe\B)

Partial derivative of energy with respect to lambda: \x\c6\CE/\c6\C\xl
Point : #{b7}
Infinity symbol: \x\c%
Angstrom: \cE\C
degree symbol: \c0\C
not equal symbol ≠ : \x\c9\C\B
plus-minus sign ±:   \x\c1\C\B
infinity : \x¥
overlines : \oA\O
</pre></div>
</div>
</dd>
</dl>
<p><strong>Crop xmgrace plot</strong></p>
<blockquote>
<div><p>A snippet how to convert a bunch of .agr files to cropped pdf for publication.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>

<span class="c1"># print to ps and convert to pdf</span>
<span class="n">path</span><span class="o">=</span><span class="s1">&#39;./&#39;</span>
<span class="k">for</span> <span class="n">infile</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;*.agr&#39;</span><span class="p">)</span> <span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;xmgrace -hdevice PostScript -hardcopy -printfile &#39;</span><span class="o">+</span><span class="n">infile</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.ps &#39;</span><span class="o">+</span><span class="n">infile</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ps2pdf &#39;</span><span class="o">+</span><span class="n">infile</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.ps&#39;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;pdfcrop &#39;</span><span class="o">+</span><span class="n">infile</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span><span class="p">)</span>

<span class="c1">#with pdf printer installed</span>
<span class="n">path</span><span class="o">=</span><span class="s1">&#39;./&#39;</span>
<span class="k">for</span> <span class="n">infile</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;*.agr&#39;</span><span class="p">)</span> <span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;xmgrace -hdevice PDF -hardcopy -printfile &#39;</span><span class="o">+</span><span class="n">infile</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf &#39;</span><span class="o">+</span><span class="n">infile</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;pdfcrop &#39;</span><span class="o">+</span><span class="n">infile</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/Jscatter1.gif" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BeginnersGuide.html">1. Beginners Guide / Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataArray.html">2. dataArray</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataList.html">3. dataList</a></li>
<li class="toctree-l1"><a class="reference internal" href="formel.html">4. formel</a></li>
<li class="toctree-l1"><a class="reference internal" href="sas.html">5. smallanglescattering (sas)</a></li>
<li class="toctree-l1"><a class="reference internal" href="formfactor.html">6. formfactor (ff)</a></li>
<li class="toctree-l1"><a class="reference internal" href="structurefactor.html">7. structurefactor (sf)</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic.html">8. dynamic</a></li>
<li class="toctree-l1"><a class="reference internal" href="dls.html">9. dls</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel.html">10. parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="GracePlot.html">11. Plotting in XmGrace</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpl.html">12. mpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">13. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="Extending.html">14. Extending/Contributing/Fortran</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">15. Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="Remarks.html">16. Intention and Remarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">17. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">18. Citing Jscatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">19. Changelog</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Extending.html"
                        title="previous chapter"><span class="section-number">14. </span>Extending/Contributing/Fortran</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Remarks.html"
                        title="next chapter"><span class="section-number">16. </span>Intention and Remarks</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tips.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Remarks.html" title="16. Intention and Remarks"
             >next</a> |</li>
        <li class="right" >
          <a href="Extending.html" title="14. Extending/Contributing/Fortran"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jscatter 1.3.0.6 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">15. </span>Tips</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-19, Ralf Biehl.
      Last updated on Mar 18, 2021.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>