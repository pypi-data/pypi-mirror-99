webpackJsonp([40],{0:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}a(962);var o=a(80),n=_interopRequireDefault(o),r=a(414),c=_interopRequireDefault(r),d=a(5),i=_interopRequireDefault(d),l=a(31),s=_interopRequireDefault(l);new s.default({mixins:[n.default,c.default],ready:function(){i.default.debug("Topic display page")}})},400:function(e,t,a){var o,n;a(404),o=a(401),n=a(403),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},401:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function optionalMoment(e){return e?(0,n.default)(e):null}Object.defineProperty(t,"__esModule",{value:!0});var o=a(15),n=_interopRequireDefault(o),r=["days","months","years"],c="MMMM YYYY";t.default={name:"calendar",props:{selected:{type:n.default,coerce:optionalMoment,default:null},min:{type:n.default,coerce:optionalMoment,default:null},max:{type:n.default,coerce:optionalMoment,default:null},view:{type:String,default:"days"}},data:function(){var e=this.selected||(0,n.default)();return{current:e,today:(0,n.default)()}},computed:{days:function days(){for(var days=[],e=n.default.weekdaysMin(),t=n.default.localeData().firstDayOfWeek(),a=0;a<7;a++)days.push(e[(a+t)%7]);return days},months:function(){return n.default.monthsShort()},monthDisplay:function(){return this.current.format(c)},rangeDisplay:function(){if("days"==this.view)return this.current.format(c);if("months"==this.view)return this.current.year();if("years"==this.view){var e=this.current.clone().subtract(5,"years"),t=this.current.clone().add(6,"years");return e.year()+"-"+t.year()}},yearsRange:function(){for(var e=this.current.clone().subtract(5,"years"),t=[],a=0;a<12;a++)t.push(e.clone().add(a,"years").year());return t},nextValue:function(){var e=this.current.clone();return"days"===this.view?e.add(1,"months"):"months"===this.view?e.add(1,"years"):"years"===this.view&&e.add(12,"years"),e},previousValue:function(){var e=this.current.clone();return"days"===this.view?e.subtract(1,"months"):"months"===this.view?e.subtract(1,"year"):"years"===this.view&&e.subtract(12,"years"),e},nextDisabled:function(){if(this.max)switch(this.view){case"days":return this.nextValue.isAfter(this.max,"month");case"months":return this.nextValue.isAfter(this.max,"year");case"years":return this.yearsRange.slice(-1).pop()>=this.max.year()}},previousDisabled:function(){if(this.min)switch(this.view){case"days":return this.previousValue.isBefore(this.min,"month");case"months":return this.previousValue.isBefore(this.min,"year");case"years":return this.yearsRange[0]<=this.min.year()}}},methods:{monthDays:function(e){for(var t=e.clone().startOf("month").startOf("week"),a=e.clone().endOf("month").endOf("week"),o=[],n=void 0,r=0;r<=a.diff(t,"days");r++)r%7===0&&(n=[],o.push(n)),n.push(t.clone().add(r,"days"));return o},next:function(){this.current=this.nextValue},previous:function(){this.current=this.previousValue},zoomOut:function(){r.indexOf(this.view)+1<r.length&&(this.view=r[r.indexOf(this.view)+1])},pickDay:function(e){this.selected=e,this.$dispatch("calendar:date:selected",e)},pickMonth:function(e){this.current=this.current.month(e),this.view="days",this.$dispatch("calendar:month:selected",e)},pickYear:function(e){this.current=this.current.year(e),this.view="months",this.$dispatch("calendar:year:selected",e)},isOld:function(e){return e.isBefore(this.current.startOf("month"))},isNew:function(e){return e.isAfter(this.current.endOf("month"))},isDisabled:function(e){var t=this.min&&e.isBefore(this.min,"day"),a=this.max&&e.isAfter(this.max,"day");return t||a},isMonthDisabled:function(e){var t=this.current.clone().month(e),a=this.min&&t.isBefore(this.min,"month"),o=this.max&&t.isAfter(this.max,"month");return a||o},isYearDisabled:function(e){var t=this.min&&e<this.min.year(),a=this.max&&e>this.max.year();return t||a},dayClasses:function(e){return{old:this.isOld(e),new:this.isNew(e),today:e.isSame(this.today,"day"),active:e.isSame(this.selected,"day")}},focus:function(){var e=this.$el.querySelector("main button.active:not(:disabled)")||this.$el.querySelector("main button:not(:disabled)");e&&e.focus()},clear:function(){this.selected=null,this.current=this.today.clone(),this.view="days",this.$dispatch("calendar:date:cleared")}},watch:{selected:function(e){e&&(this.current=e.clone())}}}},402:function(e,t,a){t=e.exports=a(9)(),t.push([e.id,'.calendar{color:#000;min-width:210px;border-radius:4px}.calendar>*{display:block}.calendar .fa-remove{color:red}.calendar nav{font-weight:700;display:flex}.calendar nav .switch{flex:2 0 50%}.calendar nav .next,.calendar nav .prev{flex:1}.calendar main{display:flex;flex-wrap:wrap}.calendar main header{font-weight:700}.calendar main header span{height:30px;padding-top:10px;line-height:20px}.calendar main.days>*{display:flex;flex:1 0 100%}.calendar main.days button,.calendar main.days span{flex:1 0 30px;text-align:center}.calendar main.months,.calendar main.years{flex-wrap:wrap}.calendar main.months button,.calendar main.years button{flex:1 0 25%;text-align:center;height:54px;line-height:54px}.calendar footer{font-weight:700;display:flex}.calendar button{height:30px;width:100%;background:none;border:none;border-radius:4px}.calendar button:hover{background:#eee}.calendar button.new,.calendar button.old{color:#777}.calendar button.day:hover,.calendar button:focus{background:#eee;cursor:pointer}.calendar button:disabled,.calendar button:disabled:hover{background:none;color:#777;cursor:not-allowed}.calendar button.today{color:#000;background-color:#ffdb99;border-color:#ffb733;position:relative}.calendar button.today.focus,.calendar button.today:focus{color:#000;background-color:#ffc966;border-color:#b37400}.calendar button.today:hover{color:#000;background-color:#ffc966;border-color:#f59e00}.calendar button.today.active,.calendar button.today:active,.open>.dropdown-toggle.calendar button.today{color:#000;background-color:#ffc966;background-image:none;border-color:#f59e00}.calendar button.today.active.focus,.calendar button.today.active:focus,.calendar button.today.active:hover,.calendar button.today:active.focus,.calendar button.today:active:focus,.calendar button.today:active:hover,.open>.dropdown-toggle.calendar button.today.focus,.open>.dropdown-toggle.calendar button.today:focus,.open>.dropdown-toggle.calendar button.today:hover{color:#000;background-color:#ffbc42;border-color:#b37400}.calendar button.today.disabled.focus,.calendar button.today.disabled:focus,.calendar button.today.disabled:hover,.calendar button.today[disabled].focus,.calendar button.today[disabled]:focus,.calendar button.today[disabled]:hover,fieldset[disabled] .calendar button.today.focus,fieldset[disabled] .calendar button.today:focus,fieldset[disabled] .calendar button.today:hover{background-color:#ffdb99;border-color:#ffb733}.calendar button.today .badge{color:#ffdb99;background-color:#000}.calendar button.today:focus{background:#ffc966}.calendar button.today:disabled,.calendar button.today:disabled:active{background:#ffdb99;color:#777}.calendar button.today:before{content:"";display:inline-block;border:solid transparent;border-width:0 0 7px 7px;border-bottom-color:#000;border-top-color:#ffdb99;position:absolute;bottom:4px;right:4px}.calendar button.active{color:#fff;background-color:#337ab7;border-color:#2e6da4;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.calendar button.active.focus,.calendar button.active:focus{color:#fff;background-color:#286090;border-color:#122b40}.calendar button.active:hover{color:#fff;background-color:#286090;border-color:#204d74}.calendar button.active.active,.calendar button.active:active,.open>.dropdown-toggle.calendar button.active{color:#fff;background-color:#286090;background-image:none;border-color:#204d74}.calendar button.active.active.focus,.calendar button.active.active:focus,.calendar button.active.active:hover,.calendar button.active:active.focus,.calendar button.active:active:focus,.calendar button.active:active:hover,.open>.dropdown-toggle.calendar button.active.focus,.open>.dropdown-toggle.calendar button.active:focus,.open>.dropdown-toggle.calendar button.active:hover{color:#fff;background-color:#204d74;border-color:#122b40}.calendar button.active.disabled.focus,.calendar button.active.disabled:focus,.calendar button.active.disabled:hover,.calendar button.active[disabled].focus,.calendar button.active[disabled]:focus,.calendar button.active[disabled]:hover,fieldset[disabled] .calendar button.active.focus,fieldset[disabled] .calendar button.active:focus,fieldset[disabled] .calendar button.active:hover{background-color:#337ab7;border-color:#2e6da4}.calendar button.active .badge{color:#337ab7;background-color:#fff}.calendar button.active.today:before{border-bottom-color:#fff}',"",{version:3,sources:["/./js/components/calendar.vue"],names:[],mappings:"AAAA,UAAU,WAAY,gBAAgB,iBAAiB,CAAC,YAAY,aAAa,CAAC,qBAAqB,SAAS,CAAC,cAAc,gBAAiB,YAAY,CAAC,sBAAsB,YAAY,CAAC,wCAAwC,MAAM,CAAC,eAAe,aAAa,cAAc,CAAC,sBAAsB,eAAgB,CAAC,2BAA2B,YAAY,iBAAiB,gBAAgB,CAAC,sBAAsB,aAAa,aAAa,CAAC,oDAAoD,cAAc,iBAAiB,CAAC,2CAA2C,cAAc,CAAC,yDAAyD,aAAa,kBAAkB,YAAY,gBAAgB,CAAC,iBAAiB,gBAAiB,YAAY,CAAC,iBAAiB,YAAY,WAAW,gBAAgB,YAAY,iBAAiB,CAAC,uBAAuB,eAAe,CAAC,0CAA0C,UAAU,CAAC,kDAAkD,gBAAgB,cAAc,CAAC,0DAA0D,gBAAgB,WAAW,kBAAkB,CAAC,uBAAuB,WAAW,yBAAyB,qBAAqB,iBAAiB,CAAC,0DAA0D,WAAW,yBAAyB,oBAAoB,CAAC,6BAA6B,WAAW,yBAAyB,oBAAoB,CAAC,yGAAyG,WAAW,yBAAyB,sBAAsB,oBAAoB,CAAC,iXAAiX,WAAW,yBAAyB,oBAAoB,CAAC,uXAAuX,yBAAyB,oBAAoB,CAAC,8BAA8B,cAAc,qBAAqB,CAAC,6BAA6B,kBAAkB,CAAC,uEAAuE,mBAAmB,UAAU,CAAC,8BAA8B,WAAW,qBAAqB,yBAAyB,yBAAyB,yBAAyB,yBAAyB,kBAAkB,WAAW,SAAS,CAAC,wBAAwB,WAAW,yBAAyB,qBAAqB,oCAAqC,CAAC,4DAA4D,WAAW,yBAAyB,oBAAoB,CAAC,8BAA8B,WAAW,yBAAyB,oBAAoB,CAAC,4GAA4G,WAAW,yBAAyB,sBAAsB,oBAAoB,CAAC,0XAA0X,WAAW,yBAAyB,oBAAoB,CAAC,gYAAgY,yBAAyB,oBAAoB,CAAC,+BAA+B,cAAc,qBAAqB,CAAC,qCAAqC,wBAAwB,CAAC",file:"calendar.vue",sourcesContent:[".calendar{color:black;min-width:210px;border-radius:4px}.calendar>*{display:block}.calendar .fa-remove{color:red}.calendar nav{font-weight:bold;display:flex}.calendar nav .switch{flex:2 0 50%}.calendar nav .prev,.calendar nav .next{flex:1}.calendar main{display:flex;flex-wrap:wrap}.calendar main header{font-weight:bold}.calendar main header span{height:30px;padding-top:10px;line-height:20px}.calendar main.days>*{display:flex;flex:1 0 100%}.calendar main.days span,.calendar main.days button{flex:1 0 30px;text-align:center}.calendar main.months,.calendar main.years{flex-wrap:wrap}.calendar main.months button,.calendar main.years button{flex:1 0 25%;text-align:center;height:54px;line-height:54px}.calendar footer{font-weight:bold;display:flex}.calendar button{height:30px;width:100%;background:none;border:none;border-radius:4px}.calendar button:hover{background:#eee}.calendar button.old,.calendar button.new{color:#777}.calendar button.day:hover,.calendar button:focus{background:#eee;cursor:pointer}.calendar button:disabled,.calendar button:disabled:hover{background:none;color:#777;cursor:not-allowed}.calendar button.today{color:#000;background-color:#ffdb99;border-color:#ffb733;position:relative}.calendar button.today:focus,.calendar button.today.focus{color:#000;background-color:#ffc966;border-color:#b37400}.calendar button.today:hover{color:#000;background-color:#ffc966;border-color:#f59e00}.calendar button.today:active,.calendar button.today.active,.open>.dropdown-toggle.calendar button.today{color:#000;background-color:#ffc966;background-image:none;border-color:#f59e00}.calendar button.today:active:hover,.calendar button.today.active:hover,.open>.dropdown-toggle.calendar button.today:hover,.calendar button.today:active:focus,.calendar button.today.active:focus,.open>.dropdown-toggle.calendar button.today:focus,.calendar button.today:active.focus,.calendar button.today.active.focus,.open>.dropdown-toggle.calendar button.today.focus{color:#000;background-color:#ffbc42;border-color:#b37400}.calendar button.today.disabled:hover,.calendar button.today[disabled]:hover,fieldset[disabled] .calendar button.today:hover,.calendar button.today.disabled:focus,.calendar button.today[disabled]:focus,fieldset[disabled] .calendar button.today:focus,.calendar button.today.disabled.focus,.calendar button.today[disabled].focus,fieldset[disabled] .calendar button.today.focus{background-color:#ffdb99;border-color:#ffb733}.calendar button.today .badge{color:#ffdb99;background-color:#000}.calendar button.today:focus{background:#ffc966}.calendar button.today:disabled,.calendar button.today:disabled:active{background:#ffdb99;color:#777}.calendar button.today:before{content:'';display:inline-block;border:solid transparent;border-width:0 0 7px 7px;border-bottom-color:#000;border-top-color:#ffdb99;position:absolute;bottom:4px;right:4px}.calendar button.active{color:#fff;background-color:#337ab7;border-color:#2e6da4;text-shadow:0 -1px 0 rgba(0,0,0,0.25)}.calendar button.active:focus,.calendar button.active.focus{color:#fff;background-color:#286090;border-color:#122b40}.calendar button.active:hover{color:#fff;background-color:#286090;border-color:#204d74}.calendar button.active:active,.calendar button.active.active,.open>.dropdown-toggle.calendar button.active{color:#fff;background-color:#286090;background-image:none;border-color:#204d74}.calendar button.active:active:hover,.calendar button.active.active:hover,.open>.dropdown-toggle.calendar button.active:hover,.calendar button.active:active:focus,.calendar button.active.active:focus,.open>.dropdown-toggle.calendar button.active:focus,.calendar button.active:active.focus,.calendar button.active.active.focus,.open>.dropdown-toggle.calendar button.active.focus{color:#fff;background-color:#204d74;border-color:#122b40}.calendar button.active.disabled:hover,.calendar button.active[disabled]:hover,fieldset[disabled] .calendar button.active:hover,.calendar button.active.disabled:focus,.calendar button.active[disabled]:focus,fieldset[disabled] .calendar button.active:focus,.calendar button.active.disabled.focus,.calendar button.active[disabled].focus,fieldset[disabled] .calendar button.active.focus{background-color:#337ab7;border-color:#2e6da4}.calendar button.active .badge{color:#337ab7;background-color:#fff}.calendar button.active.today:before{border-bottom-color:#fff}"],sourceRoot:"webpack://"}])},403:function(e,t){e.exports=' <div class=calendar :class="[ \'view\' ]"> <div class=calendar-{{view}}> <nav> <button class=prev @click.prevent=previous :disabled=previousDisabled> <span class="fa fa-chevron-left"></span> </button> <button class=switch @click.prevent=zoomOut>{{ rangeDisplay }}</button> <button class=next @click.prevent=next :disabled=nextDisabled> <span class="fa fa-chevron-right"></span> </button> </nav> <main v-if="view == \'days\'" class=days> <header> <span class=dow v-for="day in days">{{ day }}</span> </header> <div v-for="week in monthDays(current)"> <button v-for="day in week" class=day :class=dayClasses(day) @click.prevent=pickDay(day) :disabled=isDisabled(day)> {{ day.date() }} </button> </div> </main> <main v-if="view == \'months\'" class=months> <button v-for="(idx, month) in months" class=month @click.prevent=pickMonth(idx) :disabled=isMonthDisabled(idx)> {{ month }} </button> </main> <main v-if="view == \'years\'" class=years> <button v-for="year in yearsRange" class=year @click.prevent=pickYear(year) :disabled=isYearDisabled(year)> {{ year }} </button> </main> <footer> <button @click.prevent=pickDay(today)>{{ _(\'Today\') }}</button> <button @click.prevent=clear> <span class="fa fa-remove"></span> {{ _(\'Clear\') }} </button> </footer> </div> </div> '},404:function(e,t,a){var o=a(402);"string"==typeof o&&(o=[[e.id,o,""]]);a(10)(o,{sourceMap:!0});o.locals&&(e.exports=o.locals)},414:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(328),n=_interopRequireDefault(o),r=a(491),c=_interopRequireDefault(r);t.default={components:{TemporalCoverageFacet:c.default},methods:{togglePanel:function(e,t){var a=document.getElementById("facet-"+e),o=document.getElementById("facet-"+e+"-remove");if(!o||!o.contains(t.target)){var r=document.getElementById("chevrons-"+e);a.classList.contains("in")?(0,n.default)(a,"slideUp",{duration:500}).then(function(){a.classList.remove("in")}):(0,n.default)(a,"slideDown",{duration:500}).then(function(){a.classList.add("in")}),r.classList.toggle("fa-chevron-up"),r.classList.toggle("fa-chevron-down")}},expandPanel:function(e,t){t.target.remove();var a=document.getElementById("facet-"+e+"-more");(0,n.default)(a,"slideDown",{duration:500}).then(function(){a.classList.add("in")})}}}},418:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(400),n=_interopRequireDefault(o),r=a(15),c=_interopRequireDefault(r),d="L",i="YYYY-MM-DD";t.default={replace:!0,components:{Calendar:n.default},props:{min:{type:c.default,coerce:function(e){return(0,c.default)(e)}},max:{type:c.default,coerce:function(e){return(0,c.default)(e)}},name:{type:String,required:!0}},data:function(){var e={min:void 0,max:void 0},t=new URLSearchParams(window.location.search);if(t.has(this.name)){var a=t.get(this.name).split("-");6===a.length&&(e.min=(0,c.default)(a.slice(0,3).join("-")),e.max=(0,c.default)(a.slice(3,6).join("-")))}return{picking:!1,pickedField:null,pickedMin:e.min,pickedMax:e.max,urlQuery:e,DATE_FORMAT:d}},computed:{changed:function(){var e=!this.currentMin.isSame(this.urlQuery.min||this.min),t=!this.currentMax.isSame(this.urlQuery.max||this.max);return e||t},currentValue:{get:function(){return this.pickedField===this.$els.startInput?this.currentMin:this.currentMax},set:function(e){this.pickedField===this.$els.startInput?this.pickedMin=e:this.pickedMax=e}},currentMin:function(){return this.pickedMin||this.min},currentMax:function(){return this.pickedMax||this.max},dateMin:function(){return this.pickedField===this.$els.endInput?this.currentMin:this.min},dateMax:function(){return this.pickedField===this.$els.startInput?this.currentMax:this.max}},events:{"calendar:date:selected":function(e){return this.currentValue=e,this.picking=!1,!0},"calendar:date:cleared":function(){return this.currentValue=null,this.picking=!1,!0}},methods:{apply:function(){var e=this.currentMin.format(i)+"-"+this.currentMax.format(i),t=new URLSearchParams(window.location.search);t.set(this.name,e),window.location.search=t.toString()},onFocus:function(e){this.picking&&e.target===this.pickedField||this.$nextTick(this.$refs.calendar.focus),this.picking=!0,this.pickedField=e.target},onChange:function(e){try{this.currentValue=(0,c.default)(e.target.value,d)}catch(e){}},onOutside:function(){this.picking=!1}}}},468:function(e,t,a){t=e.exports=a(9)(),t.push([e.id,".temporal-coverage-facet .btn-apply,.temporal-coverage-facet .calendar{margin-top:10px}.temporal-coverage-facet input[readonly]{cursor:pointer;background-color:#fff;text-align:center}","",{version:3,sources:["/./js/components/facets/temporal-coverage.vue"],names:[],mappings:"AAAA,uEAAuE,eAAe,CAAC,yCAAyC,eAAe,sBAAuB,iBAAiB,CAAC",file:"temporal-coverage.vue",sourcesContent:[".temporal-coverage-facet .calendar,.temporal-coverage-facet .btn-apply{margin-top:10px}.temporal-coverage-facet input[readonly]{cursor:pointer;background-color:white;text-align:center}"],sourceRoot:"webpack://"}])},480:function(e,t){e.exports=' <div class=temporal-coverage-facet v-outside=onOutside> <div class=input-group :class="{ \'open\': picking }"> <input type=text class="input-sm form-control" v-el:start-input :placeholder="_(\'Start\')" @focus=onFocus @input="onChange | debounce 500" :required=required :value="currentMin|dt DATE_FORMAT \'\'"> <span class=input-group-addon>{{ _(\'to\') }}</span> <input type=text class="input-sm form-control" v-el:end-input :placeholder="_(\'End\')" @focus=onFocus @input="onChange | debounce 500" :required=required :value="currentMax|dt DATE_FORMAT \'\'"> </div> <calendar v-ref:calendar v-show=picking :selected=currentValue :min=dateMin :max=dateMax></calendar> <div class=row v-show="changed && !picking"> <div class=col-xs-12> <button class="btn btn-default btn-block btn-apply" @click=apply> <span class="fa fa-refresh"></span> {{ _(\'Apply\') }} </button> </div> </div> </div> '},491:function(e,t,a){var o,n;a(500),o=a(418),n=a(480),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},500:function(e,t,a){var o=a(468);"string"==typeof o&&(o=[[e.id,o,""]]);a(10)(o,{sourceMap:!0});o.locals&&(e.exports=o.locals)},962:966});
//# sourceMappingURL=topic.77f56a277928828c78c6.js.map