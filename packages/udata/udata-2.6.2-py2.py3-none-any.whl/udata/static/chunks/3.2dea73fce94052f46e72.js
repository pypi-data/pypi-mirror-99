webpackJsonp([3],{623:function(e,t,s){var o,i;s(1842),o=s(1619),i=s(1720),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},1619:function(e,t,s){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(74),i=_interopRequireDefault(o),a=s(31),c=(_interopRequireDefault(a),s(122)),r=_interopRequireDefault(c),n=s(139),u=_interopRequireDefault(n),d=s(141),l=_interopRequireDefault(d);t.default={name:"issue-modal",components:{Modal:r.default,DatasetCard:u.default,ReuseCard:l.default},data:function(){return{issue:{},comment:null,next_route:null}},computed:{can_comment:function(){return!this.issue.closed},can_close:function(){return this.issue.subject&&!this.issue.closed&&this.$root.me.can_edit(this.issue.subject)},formValid:function(){return this.comment&&this.comment.length>0}},events:{"modal:closed":function(){this.$go(this.next_route)}},route:{data:function(){var e=this;if(this.$route.matched.length>1){var t=this.$route.matched.length-2,s=this.$route.matched[t];this.next_route={name:s.handler.name,params:s.params}}var o=this.$route.params.issue_id;i.default.issues.get_issue({id:o},function(t){e.issue=t.obj})}},methods:{close_issue:function(){this.send_comment(this.comment,!0)},comment_issue:function(){this.send_comment(this.comment)},send_comment:function(e,t){var s=this;this.formValid&&i.default.issues.comment_issue({id:this.issue.id,payload:{comment:e,close:t||!1}},function(e){s.issue=e.obj,s.comment=null},this.$root.handleApiError)}}}},1686:function(e,t,s){t=e.exports=s(9)(),t.push([e.id,".issue-modal h3{margin-top:0}.issue-modal .direct-chat-messages{height:auto}.issue-modal .direct-chat-timestamp{color:#eee}.issue-modal .direct-chat-text{background:#fff;border:1px solid #fff}.issue-modal .direct-chat-text:after,.issue-modal .direct-chat-text:before{border-right-color:#fff}.issue-modal .card-container{margin-bottom:1em}","",{version:3,sources:["/./js/components/issues/modal.vue"],names:[],mappings:"AAAA,gBAAgB,YAAY,CAAC,mCAAmC,WAAW,CAAC,oCAAoC,UAAU,CAAC,+BAA+B,gBAAgB,qBAAqB,CAAC,2EAA2E,uBAAuB,CAAC,6BAA6B,iBAAiB,CAAC",file:"modal.vue",sourcesContent:[".issue-modal h3{margin-top:0}.issue-modal .direct-chat-messages{height:auto}.issue-modal .direct-chat-timestamp{color:#eee}.issue-modal .direct-chat-text{background:#fff;border:1px solid #fff}.issue-modal .direct-chat-text:before,.issue-modal .direct-chat-text:after{border-right-color:#fff}.issue-modal .card-container{margin-bottom:1em}"],sourceRoot:"webpack://"}])},1720:function(e,t){e.exports=' <modal v-ref:modal :title="_(\'Issue\')" class="modal-info issue-modal" large> <div class=modal-body> <div class="row card-container"> <dataset-card class="col-xs-12 col-md-offset-3 col-md-6" v-if="issue.subject | is \'dataset\'" :datasetid=issue.subject.id></dataset-card> <reuse-card class="col-xs-12 col-md-offset-3 col-md-6" v-if="issue.subject | is \'reuse\'" :reuseid=issue.subject.id></reuse-card> </div> <h3>{{ issue.title }}</h3> <div class=direct-chat-messages> <div class=direct-chat-msg v-for="message in issue.discussion"> <div class="direct-chat-info clearfix"> <span class="direct-chat-name pull-left">{{message.posted_by | display}}</span> <span class="direct-chat-timestamp pull-right">{{message.posted_on | dt}}</span> </div> <img class=direct-chat-img :alt="_(\'User Image\')" :src="message.posted_by | avatar_url 40"/> <div class=direct-chat-text v-markdown=message.content></div> </div> </div> </div> <footer class="modal-footer text-center"> <form v-if=can_comment v-el:form> <div class=form-group> <textarea class=form-control rows=3 :class="{\'has-success\': formValid}" :placeholder="_(\'Type your comment\')" v-model=comment required>\n                </textarea> </div> </form> <button type=button class="btn btn-info btn-flat pull-left" @click=$refs.modal.close> {{ _(\'Close\') }} </button> <button type=button class="btn btn-outline btn-flat" :disabled=!formValid @click=comment_issue v-if=can_comment> {{ _(\'Comment the issue\') }} </button> <button type=button class="btn btn-outline btn-flat" :disabled=!formValid @click=close_issue v-if=can_close> {{ _(\'Comment and close issue\') }} </button> </footer> </modal> '},1842:function(e,t,s){var o=s(1686);"string"==typeof o&&(o=[[e.id,o,""]]);s(10)(o,{sourceMap:!0});o.locals&&(e.exports=o.locals)}});
//# sourceMappingURL=3.2dea73fce94052f46e72.js.map