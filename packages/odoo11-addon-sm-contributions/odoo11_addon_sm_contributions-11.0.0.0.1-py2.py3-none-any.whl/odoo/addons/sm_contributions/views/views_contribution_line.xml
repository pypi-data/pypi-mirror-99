<odoo>
  <data>
    <record id="view_contribution_line_window" model="ir.actions.act_window">
      <field name="name">Contribution line</field>
      <field name="res_model">sm_contributions.sm_contribution_line</field>
      <field name="view_mode">tree,form</field>
    </record>

    <record id="view_contribution_line_list" model="ir.ui.view">
      <field name="name">sm_contributions.sm_contribution_line.tree</field>
      <field name="model">sm_contributions.sm_contribution_line</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="year"/>
          <field name="initial_day"/>
          <field name="final_day"/>
          <field name="interest"/>
          <field name="year_report_sent"/>

        </tree>
      </field>
    </record>

    <record id="view_contribution_line_form" model="ir.ui.view">
      <field name="name">sm_contributions.sm_contribution_line.form</field>
      <field name="model">sm_contributions.sm_contribution_line</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Edit contribution line" version="7.0" delete="false">
          <sheet>
            <notebook>
              <page string="General">
                <group>
                  <field name="associated_contribution"/>
                  <field name="related_member_id"/>
                  <field name="name"/>
                </group>
                <group>
                  <field name="year_report_sent"/>
                </group>
                <group col="4">
                  <field name="initial_day"/>
                  <field name="final_day"/>
                  <field name="number_of_days"/>
                  <field name="year"/>
                </group>
                <group>
                  <field name="interest_model"/>
                </group>
                <group col="4">
                  <field name="import_free_tax"/>
                  <field name="tax"/>
                  <field name="import_to_deposit_to_account"/>
                </group>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <!--ACTIONS-->
    <record id="generate_invoice_contribution_line" model="ir.actions.server">
      <field name="name">Generate contribution invoice</field>
      <field name="type">ir.actions.server</field>
      <field name="model_id" ref="model_sm_contributions_sm_contribution_line"/>
      <field name="binding_model_id" ref="model_sm_contributions_sm_contribution_line"/>
    <field name="state">code</field>
      <field name="code">action = model.generate_related_invoice()</field>
    </record>

    <record id="view_contribution_line_search" model="ir.ui.view">
      <field name="name">sm_contributions.sm_contribution_line.search</field>
      <field name="model">sm_contributions.sm_contribution_line</field>
      <field name="arch" type="xml">
        <search string="Contribution line search">
          <field name="name"/>
          <field name="year"/>
        </search>
      </field>
    </record>


    <menuitem name="Contribution line"
          id="sm_contributions.contribution_line"
          parent="sm_contributions.contributions_parent"
          action="view_contribution_line_window"/>

  </data>
</odoo>
