{"version":3,"sources":["webpack://wagtail-tag-manager/./frontend/admin/variable_form_view.ts"],"names":["this","variableSelect","document","getElementById","valueInput","initialize","bind","handleVariableChange","addEventListener","event","options","selectedIndex","value","slice","disabled","VariableFormView"],"mappings":"YAEA,iBAIE,aACEA,KAAKC,eAAiBC,SAASC,eAAe,oBAC9CH,KAAKI,WAAaF,SAASC,eAAe,YAE1CH,KAAKK,WAAaL,KAAKK,WAAWC,KAAKN,MACvCA,KAAKO,qBAAuBP,KAAKO,qBAAqBD,KAAKN,MAE3DA,KAAKC,eAAeO,iBAAiB,SAAUR,KAAKO,sBAEpDP,KAAKK,aAiBT,OAdE,YAAAA,WAAA,WACEL,KAAKO,wBAGP,YAAAA,qBAAA,SAAqBE,QAAA,IAAAA,MAAA,MAGK,MAFVT,KAAKC,eAAeS,QAAQV,KAAKC,eAAeU,eAAeC,MAEnEC,OAAO,IACfb,KAAKI,WAAWU,UAAW,EAC3Bd,KAAKI,WAAWQ,MAAQ,IAExBZ,KAAKI,WAAWU,UAAW,GAGjC,EA9BA,GAgCAZ,SAASM,iBAAiB,oBAAoB,SAACC,GAC7C,IAAIM,K","file":"variable_form_view.bundle.js","sourcesContent":["// TODO: Turn this into something reusable.\n\nclass VariableFormView {\n  variableSelect: HTMLSelectElement;\n  valueInput: HTMLInputElement;\n\n  constructor() {\n    this.variableSelect = document.getElementById(\"id_variable_type\") as HTMLSelectElement;\n    this.valueInput = document.getElementById(\"id_value\") as HTMLInputElement;\n\n    this.initialize = this.initialize.bind(this);\n    this.handleVariableChange = this.handleVariableChange.bind(this);\n\n    this.variableSelect.addEventListener(\"change\", this.handleVariableChange);\n\n    this.initialize();\n  }\n\n  initialize() {\n    this.handleVariableChange();\n  }\n\n  handleVariableChange(event: Event = null) {\n    const value = this.variableSelect.options[this.variableSelect.selectedIndex].value;\n\n    if (value.slice(-1) !== \"+\") {\n      this.valueInput.disabled = true;\n      this.valueInput.value = \"\";\n    } else {\n      this.valueInput.disabled = false;\n    }\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\n  new VariableFormView();\n});\n"],"sourceRoot":""}