

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Demo projects &mdash; django-comments-xtd 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Control logic" href="logic.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> django-comments-xtd
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Demo projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simple-project">Simple project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-project">Custom project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#comp-project">Comp project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#threaded-comments">Threaded comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#render-xtdcomment-tree">render_xtdcomment_tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="#render-last-xtdcomments">render_last_xtdcomments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#javascript-plugin">JavaScript plugin</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="logic.html">Control logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="webapi.html">Web API</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html">JavaScript plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="templatetags.html">Filters and template tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating to django-comments-xtd</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Customizing django-comments-xtd</a></li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="usecases.html">Use cases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">django-comments-xtd</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Demo projects</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/example.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="demo-projects">
<span id="ref-example"></span><h1>Demo projects<a class="headerlink" href="#demo-projects" title="Permalink to this headline">¶</a></h1>
<p>There are three example projects available within <a class="reference external" href="https://github.com/danirus/django-comments-xtd/tree/master/example">django-comments-xtd’s GitHub
repository</a>.</p>
<p>The <strong>simple project</strong> provides non-threaded comment support to articles.
It’s an only-backend project, meant as a test case of the basic features
(confirmation by mail, follow-up notifications, mute link).</p>
<p>The <strong>custom project</strong> provides threaded comment support to articles using a
new comment class that inherits from django-comments-xtd’s. The new comment
model adds a <strong>title</strong> field to the <strong>XtdComment</strong> class. Find more details
in <a class="reference internal" href="extending.html#ref-extending"><span class="std std-ref">Customizing django-comments-xtd</span></a>.</p>
<p>The <strong>comp project</strong> provides comments to an Article model and a Quote model.
Comments for Quotes show how to use django-comments-xtd as a pure Django
backend application. However comments for Articles illustrate how to use the
app in combination with the provided JavaScript plugin. The project allows
nested comments and defines the maximum thread level on per app.model basis.
It uses moderation, removal suggestion flag, like/dislike flags, and list of
users who liked/disliked comments.</p>
<p>Visit the <strong>example</strong> directory within the repository <a class="reference external" href="http://github.com/danirus/django-comments-xtd/tree/master/example">in GitHub</a> for a
quick look.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#setup" id="id1">Setup</a></p></li>
<li><p><a class="reference internal" href="#simple-project" id="id2">Simple project</a></p></li>
<li><p><a class="reference internal" href="#custom-project" id="id3">Custom project</a></p></li>
<li><p><a class="reference internal" href="#comp-project" id="id4">Comp project</a></p></li>
</ul>
</div>
<div class="section" id="setup">
<span id="example-setup"></span><span id="index-0"></span><h2><a class="toc-backref" href="#id1">Setup</a><a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>The recommended way to run a demo site is within its own <a class="reference external" href="http://www.virtualenv.org/en/latest/">virtualenv</a>. Once in a new virtualenv, clone the
code and cd into any of the 3 demo sites. Then run the migrate command and
load the data in the fixtures directory:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ virtualenv venv
$ <span class="nb">source</span> venv/bin/activate
<span class="o">(</span>venv<span class="o">)</span>$ git clone git://github.com/danirus/django-comments-xtd.git
<span class="o">(</span>venv<span class="o">)</span>$ <span class="nb">cd</span> django-comments-xtd/
<span class="o">(</span>venv<span class="o">)</span>$ python setup.py install
<span class="o">(</span>venv<span class="o">)</span>$ npm install
<span class="o">(</span>venv<span class="o">)</span>$ node_modules/webpack/bin/webpack.js -p
<span class="o">(</span>venv<span class="o">)</span>$ <span class="nb">cd</span> django_comments_xtd
<span class="o">(</span>venv<span class="o">)</span>$ django-admin compilemessages -l <span class="k">fi</span>
<span class="o">(</span>venv<span class="o">)</span>$ django-admin compilemessages -l fr
<span class="o">(</span>venv<span class="o">)</span>$ django-admin compilemessages -l es
<span class="o">(</span>venv<span class="o">)</span>$ <span class="nb">cd</span> ../example/<span class="o">[</span>simple<span class="p">|</span>custom<span class="p">|</span>comp<span class="o">]</span>
<span class="o">(</span>venv<span class="o">)</span>$ pip install -r requirements.txt
<span class="o">(</span>venv<span class="o">)</span>$ python manage.py migrate
<span class="o">(</span>venv<span class="o">)</span>$ python manage.py loaddata ../fixtures/auth.json
<span class="o">(</span>venv<span class="o">)</span>$ python manage.py loaddata ../fixtures/sites.json
<span class="o">(</span>venv<span class="o">)</span>$ python manage.py loaddata ../fixtures/articles.json
<span class="o">(</span>venv<span class="o">)</span>$ <span class="c1"># The **comp** example project needs quotes.json too:</span>
<span class="o">(</span>venv<span class="o">)</span>$ python manage.py loaddata ../fixtures/quotes.json
<span class="o">(</span>venv<span class="o">)</span>$ python manage.py runserver
</pre></div>
</div>
</div></blockquote>
<p>Example projects make use of the package <a class="reference external" href="https://github.com/svetlyak40wt/django-markdown2">django-markdown2</a>, which in turn depends on
<a class="reference external" href="https://github.com/trentm/python-markdown2">Markdown2</a>, to render comments
using <a class="reference external" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> syntax.</p>
<dl class="simple">
<dt>Fixtures provide:</dt><dd><ul class="simple">
<li><p>A User <code class="docutils literal notranslate"><span class="pre">admin</span></code>, with password <code class="docutils literal notranslate"><span class="pre">admin</span></code>.</p></li>
<li><p>A default Site with domain <code class="docutils literal notranslate"><span class="pre">localhost:8000</span></code> so that comment confirmation
URLs are ready to hit the Django development web server.</p></li>
<li><p>A couple of article objects to which the user can post comments.</p></li>
</ul>
</dd>
</dl>
<p>By default mails are sent directly to the console using the <code class="docutils literal notranslate"><span class="pre">console.</span>
<span class="pre">EmailBackend</span></code>. Comment out <code class="docutils literal notranslate"><span class="pre">EMAIL_BACKEND</span></code> in the settings module to send
actual mails. You will need to provide working values for all <code class="docutils literal notranslate"><span class="pre">EMAIL_*</span></code>
settings.</p>
</div>
<div class="section" id="simple-project">
<span id="example-simple"></span><span id="index-1"></span><h2><a class="toc-backref" href="#id2">Simple project</a><a class="headerlink" href="#simple-project" title="Permalink to this headline">¶</a></h2>
<p>The simple example project features:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>An Articles App, with a model <code class="docutils literal notranslate"><span class="pre">Article</span></code> whose instances accept comments.</p></li>
<li><p>Confirmation by mail is required before the comment hit the database,
unless <code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_CONFIRM_EMAIL</span></code> is set to False. Authenticated users
don’t have to confirm comments.</p></li>
<li><p>Follow up notifications via mail.</p></li>
<li><p>Mute links to allow cancellation of follow-up notifications.</p></li>
<li><p>No nested comments.</p></li>
</ol>
</div></blockquote>
<p>This example project tests the initial features provided by
django-comments-xtd. Setup the project as explained above.</p>
<dl class="simple">
<dt>Some hints:</dt><dd><ul class="simple">
<li><p>Log out from the admin site to post comments, otherwise they will be
automatically confirmed and no email will be sent.</p></li>
<li><p>When adding new articles in the admin interface be sure to tick the box
<em>allow comments</em>, otherwise comments won’t be allowed.</p></li>
<li><p>Send new comments with the Follow-up box ticked and a different email
address. You won’t receive follow-up notifications for comments posted from
the same email address the new comment is being confirmed from.</p></li>
<li><p>Click on the Mute link on the Follow-up notification email and send another
comment. You will not receive further notifications.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="custom-project">
<span id="index-2"></span><h2><a class="toc-backref" href="#id3">Custom project</a><a class="headerlink" href="#custom-project" title="Permalink to this headline">¶</a></h2>
<p>The <strong>custom</strong> example project extends the <strong>simple</strong> project functionality
featuring:</p>
<blockquote>
<div><ul class="simple">
<li><p>Thread support up to level 2</p></li>
<li><p>A new comment class that inherits from <strong>XtdComment</strong> with a new <strong>Title</strong>
field and a new form class.</p></li>
</ul>
</div></blockquote>
<img alt="_images/extend-comments-app.png" src="_images/extend-comments-app.png" />
</div>
<div class="section" id="comp-project">
<span id="example-comp"></span><span id="index-3"></span><h2><a class="toc-backref" href="#id4">Comp project</a><a class="headerlink" href="#comp-project" title="Permalink to this headline">¶</a></h2>
<p>The Comp Demo implements two apps, each of which contains a model whose
instances can received comments:</p>
<blockquote>
<div><ul class="simple">
<li><p>App <strong>articles</strong> with the model <strong>Article</strong></p></li>
<li><p>App <strong>quotes</strong> with the model <strong>Quote</strong></p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Features:</dt><dd><ol class="arabic simple">
<li><p>Comments can be nested, and the maximum thread level is established to 2.</p></li>
<li><p>Comment confirmation via mail when the users are not authenticated.</p></li>
<li><p>Comments hit the database only after they have been confirmed.</p></li>
<li><p>Follow up notifications via mail.</p></li>
<li><p>Mute links to allow cancellation of follow-up notifications.</p></li>
<li><p>Registered users can like/dislike comments and can suggest comments removal.</p></li>
<li><p>Registered users can see the list of users that liked/disliked comments.</p></li>
<li><p>The homepage presents the last 5 comments posted either to the <cite>articles
.Article</cite> or the <cite>quotes.Quote</cite> model.</p></li>
</ol>
</dd>
</dl>
<div class="section" id="threaded-comments">
<h3>Threaded comments<a class="headerlink" href="#threaded-comments" title="Permalink to this headline">¶</a></h3>
<p>The setting <cite>COMMENTS_XTD_MAX_THREAD_LEVEL</cite> is set to 2, meaning that comments
may be threaded up to 2 levels below the the first level (internally known as
level 0):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">First</span> <span class="n">comment</span> <span class="p">(</span><span class="n">level</span> <span class="mi">0</span><span class="p">)</span>
    <span class="o">|--</span> <span class="n">Comment</span> <span class="n">to</span> <span class="s2">&quot;First comment&quot;</span> <span class="p">(</span><span class="n">level</span> <span class="mi">1</span><span class="p">)</span>
        <span class="o">|--</span> <span class="n">Comment</span> <span class="n">to</span> <span class="s2">&quot;Comment to First comment&quot;</span> <span class="p">(</span><span class="n">level</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="render-xtdcomment-tree">
<h3>render_xtdcomment_tree<a class="headerlink" href="#render-xtdcomment-tree" title="Permalink to this headline">¶</a></h3>
<p>By using the <cite>render_xtdcomment_tree</cite> templatetag, <cite>quote_detail.html</cite>, show
the tree of comments posted. Addind the argument <cite>allow_feedback</cite> users can
send like/dislike feedback. Adding the argument <cite>show_feedback</cite> allow visitors
see other users like/dislike feedback. And adding <cite>allow_flagging</cite> allow users
flag comments for removal.</p>
</div>
<div class="section" id="render-last-xtdcomments">
<h3>render_last_xtdcomments<a class="headerlink" href="#render-last-xtdcomments" title="Permalink to this headline">¶</a></h3>
<p>The <strong>Last 5 Comments</strong> shown in the block at the rigght uses the templatetag
<cite>render_last_xtdcomments</cite> to show the last 5 comments posted to either
<cite>articles.Article</cite> or <cite>quotes.Quote</cite> instances. The templatetag receives the
list of pairs <cite>app.model</cite> from which we want to gather comments and shows the
given N last instances posted. The templatetag renders the template
<cite>django_comments_xtd/comment.html</cite> for each comment retrieve.</p>
</div>
<div class="section" id="javascript-plugin">
<h3>JavaScript plugin<a class="headerlink" href="#javascript-plugin" title="Permalink to this headline">¶</a></h3>
<p>As opposed to the Quote model, the Article model receives comments via the
provided JavaScript plugin. Check the <a class="reference internal" href="javascript.html"><span class="doc">JavaScript plugin</span></a> page to know more.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="logic.html" class="btn btn-neutral float-right" title="Control logic" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial.html" class="btn btn-neutral float-left" title="Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Daniel Rus Morales

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>