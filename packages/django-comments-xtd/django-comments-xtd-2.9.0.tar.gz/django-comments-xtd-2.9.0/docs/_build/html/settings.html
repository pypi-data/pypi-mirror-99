

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Settings &mdash; django-comments-xtd 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Templates" href="templates.html" />
    <link rel="prev" title="Internationalization" href="i18n.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> django-comments-xtd
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Demo projects</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="logic.html">Control logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="webapi.html">Web API</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript.html">JavaScript plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="templatetags.html">Filters and template tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating to django-comments-xtd</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Customizing django-comments-xtd</a></li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">Internationalization</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Settings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-max-thread-level"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MAX_THREAD_LEVEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-max-thread-level-by-app-model"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MAX_THREAD_LEVEL_BY_APP_MODEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-confirm-email"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_CONFIRM_EMAIL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-from-email"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_FROM_EMAIL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-contact-email"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_CONTACT_EMAIL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-form-class"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_FORM_CLASS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-model"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MODEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-list-order"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_LIST_ORDER</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-markup-fallback-filter"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MARKUP_FALLBACK_FILTER</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-salt"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_SALT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-send-html-email"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_SEND_HTML_EMAIL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-threaded-emails"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_THREADED_EMAILS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-app-model-options"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_APP_MODEL_OPTIONS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-api-user-repr"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_API_USER_REPR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-api-get-user-avatar"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_API_GET_USER_AVATAR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments-xtd-publish-or-withhold-nested"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_PUBLISH_OR_WITHHOLD_NESTED</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#case-1">Case 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#case-2">Case 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#case-3">Case 3</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="usecases.html">Use cases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">django-comments-xtd</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Settings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/settings.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="settings">
<span id="settings-comments-xtd"></span><h1>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h1>
<p>To use django-comments-xtd it is necessary to declare the
<a class="reference external" href="https://django-contrib-comments.readthedocs.io/en/latest/settings.html#std:setting-COMMENTS_APP" title="(in Django Comments v1.8)"><code class="xref std std-setting docutils literal notranslate"><span class="pre">COMMENTS_APP</span></code></a> setting in your project’s settings module
as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_APP</span> <span class="o">=</span> <span class="s2">&quot;django_comments_xtd&quot;</span>
</pre></div>
</div>
<p>A number of additional settings are available to customize django-comments-xtd
behaviour.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#comments-xtd-max-thread-level" id="id1"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MAX_THREAD_LEVEL</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-max-thread-level-by-app-model" id="id2"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MAX_THREAD_LEVEL_BY_APP_MODEL</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-confirm-email" id="id3"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_CONFIRM_EMAIL</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-from-email" id="id4"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_FROM_EMAIL</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-contact-email" id="id5"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_CONTACT_EMAIL</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-form-class" id="id6"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_FORM_CLASS</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-model" id="id7"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MODEL</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-list-order" id="id8"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_LIST_ORDER</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-markup-fallback-filter" id="id9"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MARKUP_FALLBACK_FILTER</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-salt" id="id10"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_SALT</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-send-html-email" id="id11"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_SEND_HTML_EMAIL</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-threaded-emails" id="id12"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_THREADED_EMAILS</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-app-model-options" id="id13"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_APP_MODEL_OPTIONS</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-api-user-repr" id="id14"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_API_USER_REPR</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-api-get-user-avatar" id="id15"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_API_GET_USER_AVATAR</span></code></a></p></li>
<li><p><a class="reference internal" href="#comments-xtd-publish-or-withhold-nested" id="id16"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_PUBLISH_OR_WITHHOLD_NESTED</span></code></a></p></li>
</ul>
</div>
<div class="section" id="comments-xtd-max-thread-level">
<span id="std:setting-COMMENTS_XTD_MAX_THREAD_LEVEL"></span><h2><a class="toc-backref" href="#id1"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MAX_THREAD_LEVEL</span></code></a><a class="headerlink" href="#comments-xtd-max-thread-level" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>. Indicates the <strong>Maximum thread level</strong> for comments. In other
words, whether comments can be nested. This setting established the default
value for comments posted to instances of every model instance in Django. It
can be overriden on per app.model basis using the
<a class="reference internal" href="#std:setting-COMMENTS_XTD_MAX_THREAD_LEVEL_BY_APP_MODEL"><code class="xref std std-setting docutils literal notranslate"><span class="pre">COMMENTS_XTD_MAX_THREAD_LEVEL_BY_APP_MODEL</span></code></a>, introduced right after
this section.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_MAX_THREAD_LEVEL</span> <span class="o">=</span> <span class="mi">8</span>
</pre></div>
</div>
<p>It defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>. What means nested comments are not permitted.</p>
</div>
<div class="section" id="comments-xtd-max-thread-level-by-app-model">
<span id="std:setting-COMMENTS_XTD_MAX_THREAD_LEVEL_BY_APP_MODEL"></span><h2><a class="toc-backref" href="#id2"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MAX_THREAD_LEVEL_BY_APP_MODEL</span></code></a><a class="headerlink" href="#comments-xtd-max-thread-level-by-app-model" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>. The <strong>Maximum thread level on per app.model basis</strong> is a
dictionary with pairs <cite>app_label.model</cite> as keys and the maximum thread level
for comments posted to instances of those models as values. It allows
definition of max comment thread level on a per <cite>app_label.model</cite> basis.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_MAX_THREAD_LEVEL</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">COMMENTS_XTD_MAX_THREAD_LEVEL_BY_APP_MODEL</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;projects.release&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;blog.stories&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="s1">&#39;blog.quotes&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="s1">&#39;blog.diarydetail&#39;</span><span class="p">:</span> <span class="mi">0</span> <span class="c1"># Omit, defaults to COMMENTS_XTD_MAX_THREAD_LEVEL</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the example, comments posted to <code class="docutils literal notranslate"><span class="pre">projects.release</span></code> instances can go up to
level 2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">First</span> <span class="n">comment</span> <span class="p">(</span><span class="n">level</span> <span class="mi">0</span><span class="p">)</span>
    <span class="o">|--</span> <span class="n">Comment</span> <span class="n">to</span> <span class="s2">&quot;First comment&quot;</span> <span class="p">(</span><span class="n">level</span> <span class="mi">1</span><span class="p">)</span>
        <span class="o">|--</span> <span class="n">Comment</span> <span class="n">to</span> <span class="s2">&quot;Comment to First comment&quot;</span> <span class="p">(</span><span class="n">level</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>It defaults to <code class="docutils literal notranslate"><span class="pre">{}</span></code>. What means the maximum thread level is setup
with <a class="reference internal" href="#std:setting-COMMENTS_XTD_MAX_THREAD_LEVEL"><code class="xref std std-setting docutils literal notranslate"><span class="pre">COMMENTS_XTD_MAX_THREAD_LEVEL</span></code></a>.</p>
</div>
<div class="section" id="comments-xtd-confirm-email">
<span id="std:setting-COMMENTS_XTD_CONFIRM_EMAIL"></span><h2><a class="toc-backref" href="#id3"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_CONFIRM_EMAIL</span></code></a><a class="headerlink" href="#comments-xtd-confirm-email" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>. It specifies the <strong>confirm comment post by mail</strong> setting,
establishing whether a comment confirmation should be sent by mail. If set
to <code class="docutils literal notranslate"><span class="pre">True</span></code> a confirmation message is sent to the user with a link on which
she has to click to confirm the comment. If the user is already authenticated
the confirmation is not sent and the comment is accepted, if no moderation has
been setup up,  with no further confirmation needed.</p>
<p>If is set to False, and no moderation has been set up to potentially discard
it, the comment will be accepted.</p>
<p>Read about the <a class="reference internal" href="tutorial.html#moderation"><span class="std std-ref">Moderation</span></a> topic in the tutorial.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_CONFIRM_EMAIL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>It defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</div>
<div class="section" id="comments-xtd-from-email">
<span id="std:setting-COMMENTS_XTD_FROM_EMAIL"></span><h2><a class="toc-backref" href="#id4"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_FROM_EMAIL</span></code></a><a class="headerlink" href="#comments-xtd-from-email" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>. It specifies the <strong>from mail address</strong> setting used in the
<em>from</em> field when sending emails.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_FROM_EMAIL</span> <span class="o">=</span> <span class="s2">&quot;noreply@yoursite.com&quot;</span>
</pre></div>
</div>
<p>It defaults to <code class="docutils literal notranslate"><span class="pre">settings.DEFAULT_FROM_EMAIL</span></code>.</p>
</div>
<div class="section" id="comments-xtd-contact-email">
<span id="std:setting-COMMENTS_XTD_CONTACT_EMAIL"></span><h2><a class="toc-backref" href="#id5"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_CONTACT_EMAIL</span></code></a><a class="headerlink" href="#comments-xtd-contact-email" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional. It specifies a **contact mail address</strong> the user could use to get
in touch with a helpdesk or support personnel. It’s used in both templates,
<strong>email_confirmation_request.txt</strong> and <strong>email_confirmation_request.html</strong>,
from the <strong>templates/django_comments_xtd</strong> directory.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_FROM_EMAIL</span> <span class="o">=</span> <span class="s2">&quot;helpdesk@yoursite.com&quot;</span>
</pre></div>
</div>
<p>It defaults to <code class="docutils literal notranslate"><span class="pre">settings.DEFAULT_FROM_EMAIL</span></code>.</p>
</div>
<div class="section" id="comments-xtd-form-class">
<span id="std:setting-COMMENTS_XTD_FORM_CLASS"></span><h2><a class="toc-backref" href="#id6"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_FORM_CLASS</span></code></a><a class="headerlink" href="#comments-xtd-form-class" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>, form class to use when rendering comment forms. It’s a string
with the class path to the form class that will be used for comments.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_FORM_CLASS</span> <span class="o">=</span> <span class="s2">&quot;mycomments.forms.MyCommentForm&quot;</span>
</pre></div>
</div>
<p>It defaults to <cite>“django_comments_xtd.forms.XtdCommentForm”</cite>.</p>
</div>
<div class="section" id="comments-xtd-model">
<span id="std:setting-COMMENTS_XTD_MODEL"></span><h2><a class="toc-backref" href="#id7"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MODEL</span></code></a><a class="headerlink" href="#comments-xtd-model" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>, represents the model class to use for comments. It’s a string
with the class path to the model that will be used for comments.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_MODEL</span> <span class="o">=</span> <span class="s2">&quot;mycomments.models.MyCommentModel&quot;</span>
</pre></div>
</div>
<p>Defaults to <cite>“django_comments_xtd.models.XtdComment”</cite>.</p>
</div>
<div class="section" id="comments-xtd-list-order">
<span id="std:setting-COMMENTS_XTD_LIST_ORDER"></span><h2><a class="toc-backref" href="#id8"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_LIST_ORDER</span></code></a><a class="headerlink" href="#comments-xtd-list-order" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>, represents the field ordering in which comments are retrieve, a
tuple with field names, used by the <code class="docutils literal notranslate"><span class="pre">get_queryset</span></code> method of <code class="docutils literal notranslate"><span class="pre">XtdComment</span></code>
model’s manager.</p>
<p>It defaults to <code class="docutils literal notranslate"><span class="pre">('thread_id',</span> <span class="pre">'order')</span></code></p>
</div>
<div class="section" id="comments-xtd-markup-fallback-filter">
<span id="std:setting-COMMENTS_XTD_MARKUP_FALLBACK_FILTER"></span><h2><a class="toc-backref" href="#id9"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_MARKUP_FALLBACK_FILTER</span></code></a><a class="headerlink" href="#comments-xtd-markup-fallback-filter" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>, default filter to use when rendering comments. Indicates the
default markup filter for comments. This value must be a key in the
<code class="xref std std-setting docutils literal notranslate"><span class="pre">MARKUP_FILTER</span></code> setting. If not specified or None, comments that do
not indicate an intended markup filter are simply returned as plain text.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_MARKUP_FALLBACK_FILTER</span> <span class="o">=</span> <span class="s1">&#39;markdown&#39;</span>
</pre></div>
</div>
<p>It defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
<div class="section" id="comments-xtd-salt">
<span id="std:setting-COMMENTS_XTD_SALT"></span><h2><a class="toc-backref" href="#id10"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_SALT</span></code></a><a class="headerlink" href="#comments-xtd-salt" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>, it is the <strong>extra key to salt the comment form</strong>. It establishes
the bytes string extra_key used by <code class="docutils literal notranslate"><span class="pre">signed.dumps</span></code> to salt the comment form
hash, so that there an additional secret is in use to encode the comment before
sending it for confirmation within a URL.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_SALT</span> <span class="o">=</span> <span class="s1">&#39;G0h5gt073h6gH4p25GS2g5AQ2Tm256yGt134tMP5TgCX$&amp;HKOYRV&#39;</span>
</pre></div>
</div>
<p>It defaults to an empty string.</p>
</div>
<div class="section" id="comments-xtd-send-html-email">
<span id="std:setting-COMMENTS_XTD_SEND_HTML_EMAIL"></span><h2><a class="toc-backref" href="#id11"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_SEND_HTML_EMAIL</span></code></a><a class="headerlink" href="#comments-xtd-send-html-email" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>, enable/disable HTML mail messages. This boolean setting
establishes whether email messages have to be sent in HTML format. By the
default messages are sent in both Text and HTML format. By disabling the
setting, mail messages will be sent only in text format.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_SEND_HTML_EMAIL</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>It defaults to True.</p>
</div>
<div class="section" id="comments-xtd-threaded-emails">
<span id="std:setting-COMMENTS_XTD_THREADED_EMAILS"></span><h2><a class="toc-backref" href="#id12"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_THREADED_EMAILS</span></code></a><a class="headerlink" href="#comments-xtd-threaded-emails" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>, enable/disable sending mails in separated threads. For low
traffic websites sending mails in separate threads is a fine solution.
However, for medium to high traffic websites such overhead could be reduced
by using other solutions, like a Celery application or any other detached
from the request-response HTTP loop.</p>
<p>An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_THREADED_EMAILS</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</div>
<div class="section" id="comments-xtd-app-model-options">
<span id="std:setting-COMMENTS_XTD_APP_MODEL_OPTIONS"></span><h2><a class="toc-backref" href="#id13"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_APP_MODEL_OPTIONS</span></code></a><a class="headerlink" href="#comments-xtd-app-model-options" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>. Allow enabling/disabling commenting options on per
<strong>app_label.model</strong> basis. The options available are the following:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">allow_flagging</span></code>: Allow registered users to flag comments as inappropriate.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allow_feedback</span></code>: Allow registered users to like/dislike comments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_feedback</span></code>: Allow django-comments-xtd to report the list of users who
liked/disliked the comment. The representation of each user in the list
depends on the next setting :setting::<cite>COMMENTS_XTD_API_USER_REPR</cite>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">who_can_post</span></code>: Can be either ‘all’ or ‘users’. When it is ‘all’, all
users can post, whether registered users or mere visitors. When it is
‘users’, only registered users can post. Read the use case
<a class="reference internal" href="usecases/only-signed-in-can-comment.html#ref-recipe-only-signed-in-can-comment"><span class="std std-ref">Only signed in users can comment</span></a>, for details on how to set it
up.</p></li>
</ul>
</div></blockquote>
<p>An example use:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_APP_MODEL_OPTIONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;blog.post&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;allow_flagging&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;allow_feedback&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;show_feedback&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;who_can_post&#39;</span><span class="p">:</span> <span class="s1">&#39;users&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Defaults to:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_APP_MODEL_OPTIONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;allow_flagging&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;allow_feedback&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;show_feedback&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;who_can_post&#39;</span><span class="p">:</span> <span class="s1">&#39;all&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="comments-xtd-api-user-repr">
<span id="std:setting-COMMENTS_XTD_API_USER_REPR"></span><h2><a class="toc-backref" href="#id14"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_API_USER_REPR</span></code></a><a class="headerlink" href="#comments-xtd-api-user-repr" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>. Function that receives a user object and returns its string
representation. It’s used to produced the list of users who liked/disliked
comments. By default it outputs the username, but it could perfectly return the
full name:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_API_USER_REPR</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">get_full_name</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>Defaults to:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_API_USER_REPR</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">username</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="comments-xtd-api-get-user-avatar">
<span id="std:setting-COMMENTS_XTD_API_GET_USER_AVATAR"></span><h2><a class="toc-backref" href="#id15"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_API_GET_USER_AVATAR</span></code></a><a class="headerlink" href="#comments-xtd-api-get-user-avatar" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>. Path to the function used by the web API to retrieve the user’s image URL of the user associated with a comment. By default django-comments-xtd tries to retrieve images from <a class="reference external" href="http://gravatar.com/">Gravatar</a>. If you use the web API (the JavaScript plugin uses it) then you might want to write a function to provide the URL to the user’s image from a comment object. You might be interested on the use case <a class="reference internal" href="usecases/change-user-image-or-avatar.html#ref-change-user-image-or-avatar"><span class="std std-ref">Change user image or avatar</span></a>, which cover the topic in depth.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_API_GET_USER_AVATAR</span> <span class="o">=</span> <span class="s2">&quot;comp.utils.get_avatar_url&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>The function used by default, <strong>get_user_avatar</strong> in <code class="docutils literal notranslate"><span class="pre">django_comments_xtd/utils.py</span></code>, tries to fetch every user’s image from Gravatar:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_API_GET_USER_AVATAR</span> <span class="o">=</span> <span class="s2">&quot;django_comments_xtd.utils.get_user_avatar&quot;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="comments-xtd-publish-or-withhold-nested">
<span id="std:setting-COMMENTS_XTD_PUBLISH_OR_WITHHOLD_NESTED"></span><h2><a class="toc-backref" href="#id16"><code class="docutils literal notranslate"><span class="pre">COMMENTS_XTD_PUBLISH_OR_WITHHOLD_NESTED</span></code></a><a class="headerlink" href="#comments-xtd-publish-or-withhold-nested" title="Permalink to this headline">¶</a></h2>
<p><strong>Optional</strong>. When <code class="docutils literal notranslate"><span class="pre">True</span></code>, a removal or approval operation on a comment will
change the attribute <code class="docutils literal notranslate"><span class="pre">is_public</span></code> on all its nested comments.</p>
<p>Defaults to:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">COMMENTS_XTD_PUBLISH_OR_WITHHOLD_NESTED</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div></blockquote>
<p>This setting has to be considered in combination with <a class="reference external" href="https://django-contrib-comments.readthedocs.io/en/latest/settings.html#std:setting-COMMENTS_HIDE_REMOVED" title="(in Django Comments v1.8)"><code class="xref std std-setting docutils literal notranslate"><span class="pre">COMMENTS_HIDE_REMOVED</span></code></a>. The following table draws the relationship. Each case is explained below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 33%" />
<col style="width: 58%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Case</p></td>
<td><p>comments_hide_removed</p></td>
<td><p>xtd_coments_publish_or_withhold_nested</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>1</p></td>
<td><p>True</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>True</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>False</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>False</p></td>
<td><p>False</p></td>
</tr>
</tbody>
</table>
<div class="section" id="case-1">
<h3>Case 1<a class="headerlink" href="#case-1" title="Permalink to this headline">¶</a></h3>
<p>When Parent’s app setting <code class="docutils literal notranslate"><span class="pre">COMMENTS_HIDE_REMOVED</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, removing a comment has the effect of hiding it and its nested comments:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span>                           <span class="n">Removing</span>     <span class="o">|</span>
<span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">1</span>               <span class="n">comment</span> <span class="mi">1</span>    <span class="o">|</span>               <span class="o">//</span> <span class="n">hidden</span>
<span class="o">|</span>   <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mf">1.1</span>            <span class="o">-&gt;</span>        <span class="o">|</span>               <span class="o">//</span> <span class="n">hidden</span>
<span class="o">|</span>   <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mf">1.2</span>                      <span class="o">|</span>               <span class="o">//</span> <span class="n">hidden</span>
<span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">2</span>                            <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">2</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="case-2">
<h3>Case 2<a class="headerlink" href="#case-2" title="Permalink to this headline">¶</a></h3>
<p>In case 2 <a class="reference external" href="https://django-contrib-comments.readthedocs.io/en/latest/settings.html#std:setting-COMMENTS_HIDE_REMOVED" title="(in Django Comments v1.8)"><code class="xref std std-setting docutils literal notranslate"><span class="pre">COMMENTS_HIDE_REMOVED</span></code></a> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, but <code class="xref std std-setting docutils literal notranslate"><span class="pre">XTD_COMMENTS_PUBLISH_OR_WITHHOLD_NESTED</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, meaning that we don’t want to hide comments that have been removed, but we want to withhold nested comments. In such a case django-comments-xtd templates display a text indicating that the comment has been removed, and given that nested comments have been withheld they are not displayed:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span>                           <span class="n">Removing</span>     <span class="o">|</span>
<span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">1</span>               <span class="n">comment</span> <span class="mi">1</span>    <span class="o">|-&gt;</span> <span class="n">This</span> <span class="n">comment</span> <span class="n">has</span> <span class="n">been</span> <span class="n">removed</span>
<span class="o">|</span>   <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mf">1.1</span>            <span class="o">-&gt;</span>        <span class="o">|</span>               <span class="o">//</span> <span class="n">hidden</span>
<span class="o">|</span>   <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mf">1.2</span>                      <span class="o">|</span>               <span class="o">//</span> <span class="n">hidden</span>
<span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">2</span>                            <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">2</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="case-3">
<h3>Case 3<a class="headerlink" href="#case-3" title="Permalink to this headline">¶</a></h3>
<p>In case 3 the behaviour is to avoid publishing or withholding nested comments when parents are removed or approved. So removing comment 1 will not affect its nested comments:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span>                           <span class="n">Removing</span>     <span class="o">|</span>
<span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">1</span>               <span class="n">comment</span> <span class="mi">1</span>    <span class="o">|-&gt;</span> <span class="n">This</span> <span class="n">comment</span> <span class="n">has</span> <span class="n">been</span> <span class="n">removed</span>
<span class="o">|</span>   <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mf">1.1</span>            <span class="o">-&gt;</span>        <span class="o">|</span>   <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mf">1.1</span>
<span class="o">|</span>   <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mf">1.2</span>                      <span class="o">|</span>   <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mf">1.2</span>
<span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">2</span>                            <span class="o">|-&gt;</span> <span class="n">comment</span> <span class="mi">2</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="templates.html" class="btn btn-neutral float-right" title="Templates" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="i18n.html" class="btn btn-neutral float-left" title="Internationalization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Daniel Rus Morales

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>