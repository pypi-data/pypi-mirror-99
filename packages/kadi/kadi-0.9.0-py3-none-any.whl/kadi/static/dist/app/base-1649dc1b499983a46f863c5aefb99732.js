!function(){var t={3863:function(t,n,e){var i=e(4015),o=e(3645)(i);o.push([t.id,".clear-btn[data-v-6952d950],.search-btn[data-v-6952d950]{background-color:#1a252f !important;transition:none}.custom-input[data-v-6952d950]{background-color:#1a252f;border:none;box-shadow:none;cursor:pointer;-webkit-appearance:none}.dropdown.show .custom-input[data-v-6952d950],.dropdown.show .clear-btn[data-v-6952d950],.dropdown.show .search-btn[data-v-6952d950]{background-color:white !important}.dropdown-item[data-v-6952d950]{white-space:normal;word-break:break-all}.font-sm[data-v-6952d950]{font-size:90%}.input-group-append-content[data-v-6952d950]{background-color:white;border:none;color:#aab7b8;padding-left:0.75rem !important;padding-right:0.75rem !important}.reponsive-width[data-v-6952d950]{width:200px}@media (min-width: 1200px){.reponsive-width[data-v-6952d950]{width:300px}}\n","",{version:3,sources:["webpack://./kadi/assets/scripts/lib/components/BaseNavSearch.vue"],names:[],mappings:"AAuDA,yDACE,mCAAoC,CACpC,eAAgB,CACjB,+BAGC,wBAAyB,CACzB,WAAY,CACZ,eAAgB,CAChB,cAAe,CACf,uBAAwB,CACzB,qIAIG,iCAAkC,CACnC,gCAID,kBAAmB,CACnB,oBAAqB,CACtB,0BAGC,aAAc,CACf,6CAGC,sBAAuB,CACvB,WAAY,CACZ,aAAc,CACd,+BAAgC,CAChC,gCAAiC,CAClC,kCAGC,WAAY,CAEZ,2BAHF,kCAII,WAAY,CAEf",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.clear-btn, .search-btn {\n  background-color: #1a252f !important;\n  transition: none;\n}\n\n.custom-input {\n  background-color: #1a252f;\n  border: none;\n  box-shadow: none;\n  cursor: pointer;\n  -webkit-appearance: none;\n}\n\n.dropdown.show {\n  .custom-input, .clear-btn, .search-btn {\n    background-color: white !important;\n  }\n}\n\n.dropdown-item {\n  white-space: normal;\n  word-break: break-all;\n}\n\n.font-sm {\n  font-size: 90%;\n}\n\n.input-group-append-content {\n  background-color: white;\n  border: none;\n  color: #aab7b8;\n  padding-left: 0.75rem !important;\n  padding-right: 0.75rem !important;\n}\n\n.reponsive-width {\n  width: 200px;\n\n  @media (min-width: 1200px) {\n    width: 300px;\n  }\n}\n"],sourceRoot:""}]),t.exports=o},3645:function(t){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);i&&o[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),n.push(c))}},n}},4015:function(t){"use strict";function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}t.exports=function(t){var e,i,o=(i=4,function(t){if(Array.isArray(t))return t}(e=t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return e}}(e,i)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[1],a=o[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),d="/*# ".concat(c," */"),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[r].concat(l).concat([d]).join("\n")}return[r].join("\n")}},3876:function(t,n,e){t.exports=e(6253)},9661:function(t){var n,e;n=-1,e={onVisible:function(t){var n=e.isSupported();if(!n||!e.hidden())return t(),n;var i=e.change((function(n,o){e.hidden()||(e.unbind(i),t())}));return i},change:function(t){if(!e.isSupported())return!1;var i=n+=1;return e._callbacks[i]=t,e._listen(),i},unbind:function(t){delete e._callbacks[t]},afterPrerendering:function(t){var n=e.isSupported(),i="prerender";if(!n||i!=e.state())return t(),n;var o=e.change((function(n,r){i!=r&&(e.unbind(o),t())}));return o},hidden:function(){return!(!e._doc.hidden&&!e._doc.webkitHidden)},state:function(){return e._doc.visibilityState||e._doc.webkitVisibilityState||"visible"},isSupported:function(){return void 0!==e._doc.hidden||void 0!==e._doc.webkitHidden},_doc:document||{},_callbacks:{},_change:function(t){var n=e.state();for(var i in e._callbacks)e._callbacks[i].call(e._doc,t,n)},_listen:function(){if(!e._init){var t="visibilitychange";e._doc.webkitVisibilityState&&(t="webkit"+t);var n=function(){e._change.apply(e,arguments)};e._doc.addEventListener?e._doc.addEventListener(t,n):e._doc.attachEvent(t,n),e._init=!0}}},t.exports?t.exports=e:this.Visibility=e},6253:function(t,n,e){!function(n){var i=-1,o=function(t){return t.every=function(n,e,o){t._time(),o||(o=e,e=null);var r=i+=1;return t._timers[r]={visible:n,hidden:e,callback:o},t._run(r,!1),t.isSupported()&&t._listen(),r},t.stop=function(n){return!!t._timers[n]&&(t._stop(n),delete t._timers[n],!0)},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change((function(){t._stopRun(),t._wasHidden=t.hidden()})))},t._run=function(e,i){var o,r=t._timers[e];if(t.hidden()){if(null===r.hidden)return;o=r.hidden}else o=r.visible;var a=function(){r.last=new Date,r.callback.call(n)};if(i){var s=new Date-r.last;o>s?r.delay=setTimeout((function(){r.id=setInterval(a,o),a()}),o-s):(r.id=setInterval(a,o),a())}else r.id=setInterval(a,o)},t._stop=function(n){var e=t._timers[n];clearInterval(e.id),clearTimeout(e.delay),delete e.id,delete e.delay},t._stopRun=function(n){var e=t.hidden(),i=t._wasHidden;if(e&&!i||!e&&i)for(var o in t._timers)t._stop(o),t._run(o,!e)},t};t.exports?t.exports=o(e(9661)):o(n.Visibility||e(9661))}(window)},1425:function(t,n,e){var i=e(3863);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,e(5346).Z)("797df1f8",i,!1,{})},5346:function(t,n,e){"use strict";function i(t,n){for(var e=[],i={},o=0;o<n.length;o++){var r=n[o],a=r[0],s={id:t+":"+o,css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):e.push(i[a]={id:a,parts:[s]})}return e}e.d(n,{Z:function(){return h}});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,d=!1,l=function(){},u=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,n,e,o){d=e,u=o||{};var a=i(t,n);return m(a),function(n){for(var e=[],o=0;o<a.length;o++){var s=a[o];(c=r[s.id]).refs--,e.push(c)}for(n?m(a=i(t,n)):a=[],o=0;o<e.length;o++){var c;if(0===(c=e[o]).refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete r[c.id]}}}}function m(t){for(var n=0;n<t.length;n++){var e=t[n],i=r[e.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](e.parts[o]);for(;o<e.parts.length;o++)i.parts.push(b(e.parts[o]));i.parts.length>e.parts.length&&(i.parts.length=e.parts.length)}else{var a=[];for(o=0;o<e.parts.length;o++)a.push(b(e.parts[o]));r[e.id]={id:e.id,refs:1,parts:a}}}}function v(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function b(t){var n,e,i=document.querySelector("style["+p+'~="'+t.id+'"]');if(i){if(d)return l;i.parentNode.removeChild(i)}if(f){var o=c++;i=s||(s=v()),n=C.bind(null,i,o,!1),e=C.bind(null,i,o,!0)}else i=v(),n=y.bind(null,i),e=function(){i.parentNode.removeChild(i)};return n(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;n(t=i)}else e()}}var g,_=(g=[],function(t,n){return g[t]=n,g.filter(Boolean).join("\n")});function C(t,n,e,i){var o=e?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(n,o);else{var r=document.createTextNode(o),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(r,a[n]):t.appendChild(r)}}function y(t,n){var e=n.css,i=n.media,o=n.sourceMap;if(i&&t.setAttribute("media",i),u.ssrId&&t.setAttribute(p,n.id),o&&(e+="\n/*# sourceURL="+o.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={id:i,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.exports}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},function(){"use strict";var t=e(3876),n=e.n(t),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"dropdown",staticClass:"dropdown"},[e("div",{staticClass:"input-group input-group-sm reponsive-width",attrs:{"data-toggle":"dropdown"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"form-control custom-input",attrs:{placeholder:t.i18n.t("misc.quickSearch")},domProps:{value:t.query},on:{input:function(n){n.target.composing||(t.query=n.target.value)}}}),t._v(" "),t.query?e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-sm clear-btn input-group-append-content",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),t.clearQuery(n)}}},[e("i",{staticClass:"fas fa-times"})])]):e("div",{staticClass:"input-group-append"},[t._m(0)])]),t._v(" "),e("div",{staticClass:"dropdown-menu reponsive-width p-0"},[t.initialized?e("div",[0===t.items.length?e("div",{staticClass:"px-2 my-1"},[e("strong",{staticClass:"text-muted font-sm"},[t._v(t._s(t.i18n.t("misc.noResults")))])]):t._l(t.items,(function(n,i){return e("div",{key:n.endpoint},[e("a",{staticClass:"dropdown-item p-2",attrs:{href:n.endpoint}},[e("div",{staticClass:"d-flex justify-content-between"},[e("strong",{staticClass:"font-sm"},[t._v(t._s(n.identifier))]),t._v(" "),e("div",[e("span",{staticClass:"badge badge-light border border-muted font-weight-normal"},[t._v(t._s(n.type))])])]),t._v(" "),e("small",[t._v("\n            "+t._s(t.i18n.t("misc.lastModified"))+" "),e("from-now",{attrs:{timestamp:n.timestamp}})],1)]),t._v(" "),i<t.items.length-1?e("div",{staticClass:"dropdown-divider m-0"}):t._e()])}))],2):t._e(),t._v(" "),t.initialized?t._e():e("i",{staticClass:"fas fa-circle-notch fa-spin text-muted p-2"})])])};i._withStripped=!0;var o={data:()=>({query:"",items:[],timeoutHandle:null,initialized:!1}),props:{endpoint:String},methods:{clearQuery(){this.query="",this.$refs.input.focus()},search(){null!==this.timeoutHandle&&clearTimeout(this.timeoutHandle),this.timeoutHandle=setTimeout((()=>{axios.get(`${this.endpoint}?query=${this.query}`).then((t=>{this.items=t.data,this.initialized=!0}))}),500)}},watch:{query(){this.search()}},mounted(){$(this.$refs.dropdown).on("show.bs.dropdown",(()=>this.search()))}};function r(t,n,e,i,o,r,a,s){var c,d="function"==typeof t?t.options:t;if(n&&(d.render=n,d.staticRenderFns=e,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=c):o&&(c=s?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,n){return c.call(n),l(t,n)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:d}}e(1425);var a=r(o,i,[function(){var t=this.$createElement,n=this._self._c||t;return n("span",{staticClass:"search-btn input-group-text input-group-append-content"},[n("i",{staticClass:"fas fa-sm fa-search"})])}],!1,null,"6952d950",null);a.options.__file="kadi/assets/scripts/lib/components/BaseNavSearch.vue";var s=a.exports,c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.active?e("div",{staticClass:"mb-4"},[e("div",{staticClass:"alert fade show",class:"alert-"+t.type},[t.icon?e("i",{staticClass:"fa",class:"fa-"+t.icon}):t._e(),t._v(" "+t._s(t.message)+"\n  ")])]):t._e()};c._withStripped=!0;var d=r({data:()=>({icon:null,active:!0}),props:{message:String,type:{type:String,default:"info"},timeout:{type:Number,default:5e3}},mounted(){"info"===this.type?this.icon="exclamation-circle":"danger"===this.type?this.icon="times-circle":"warning"===this.type?this.icon="exclamation-triangle":"success"===this.type&&(this.icon="check-circle"),null!==this.timeout&&setTimeout((()=>this.active=!1),this.timeout)}},c,[],!1,null,null,null);d.options.__file="kadi/assets/scripts/lib/components/NotificationAlert.vue";var l=d.exports,u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"notification",staticClass:"toast",staticStyle:{"min-width":"100%"},attrs:{"data-autohide":"false"}},[e("div",{staticClass:"toast-header bg-primary"},[e("span",{staticClass:"mr-auto"},[t._v(t._s(t.notification.data.title))]),t._v(" "),e("button",{staticClass:"ml-2 close text-white",attrs:{type:"button","data-dismiss":"toast"},on:{click:function(n){return t.dismiss(t.notification)}}},[e("i",{staticClass:"fas fa-xs fa-times"})])]),t._v(" "),e("div",{staticClass:"toast-body py-2"},[e("div",{domProps:{innerHTML:t._s(t.notification.data.body)}}),t._v(" "),e("div",{staticClass:"mt-1"},[e("small",{staticClass:"text-muted"},[e("from-now",{attrs:{timestamp:t.notification.created_at}})],1)])])])};u._withStripped=!0;var p=r({props:{notification:Object},methods:{dismiss(){axios.delete(this.notification._actions.dismiss).catch((t=>kadi.alert("Error dismissing notification.",{xhr:t.request})))}},mounted(){$(this.$refs.notification).toast("show")},beforeDestroy(){$(this.$refs.notification).toast("dispose")}},u,[],!1,null,null,null);p.options.__file="kadi/assets/scripts/lib/components/NotificationToast.vue";var f=p.exports;const h=()=>[].forEach.call(document.querySelectorAll(".kadi-logo"),(t=>{t.style.animation="none"}));[].forEach.call(document.querySelectorAll(".kadi-logo"),(t=>{t.addEventListener("animationiteration",h),t.addEventListener("webkitAnimationIteration",h)})),document.addEventListener("invalid",(t=>kadi.utils.scrollIntoView(t.target)),!0);const m=new Vue({el:"#notification-alerts",components:{NotificationAlert:l},data:{alerts:[]},methods:{alert(t,n){let e=t;const i={xhr:null,type:"danger",timeout:5e3,scrollTo:!0,...n};if(null!==i.xhr){if(0===i.xhr.status)return;e=`${t} (${i.xhr.status})`}this.alerts.push({id:kadi.utils.randomAlnum(),message:e,type:i.type,timeout:i.timeout}),i.scrollTo&&kadi.utils.scrollIntoView(this.$el,"bottom")}}});if(kadi.alert=m.alert,kadi.globals.user_active){const t={H:"",R:"records",C:"collections",G:"groups",T:"templates",U:"users"};document.addEventListener("keydown",(n=>{if(!["INPUT","SELECT","TEXTAREA"].includes(n.target.tagName)&&n.shiftKey&&!n.ctrlKey&&!n.altKey&&!n.metaKey)for(const[e,i]of Object.entries(t))if(n.key===e)return n.preventDefault(),void(document.location.href=`/${i}`)})),new Vue({el:"#base-nav-search",components:{BaseNavSearch:s}});const e=new Vue({el:"#notification-toasts",components:{NotificationToast:f},data:{notifications:[],title:null},methods:{getNotifications(t=!0){axios.get("/api/notifications").then((n=>{this.notifications=n.data;const e=this.notifications.length;t&&e>0&&this.$nextTick((()=>kadi.utils.scrollIntoView(this.$el,"bottom"))),document.title=e>0?`(${e}) ${this.title}`:this.title}))}},mounted(){this.title=document.title,n().every(5e3,(()=>this.getNotifications(!1))),this.getNotifications(!1)}});kadi.getNotifications=e.getNotifications}}()}();
//# sourceMappingURL=base.js.map