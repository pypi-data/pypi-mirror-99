[tox]
#envlist = py27, py34, py35, py36, pypy, jython
envlist = py3, pep8, mypy

[testenv]
deps = -rrequirements.txt
       -rtest-requirements.txt
commands =
    coverage run --source=gitlabracadabra/ setup.py test
    coverage report

[testenv:pep8]
deps =  -r pep8-requirements.txt
commands = flake8

[testenv:mypy]
deps =  mypy
commands = mypy gitlabracadabra

[flake8]
format = wemake
max-line-length = 120
extend-exclude = .git,.venv,.tox,dist,doc,*egg,build,venv
ignore =
    # D100 Missing docstring in public module
    D100
    # D104 Missing docstring in public package
    D104
    # W504 line break after binary operator
    W504
    # WPS323 Found `%` string formatting
    WPS323
per-file-ignores=
    # D101 Missing docstring in public class
    # D102 Missing docstring in public method
    # D103 Missing docstring in public function
    # D107 Missing docstring in __init__
    # E800: Found commented out code
    # WPS1 Naming
    # WPS2 Complexity
    # WPS3 Consistency
    # WPS4 Best practices
    # WPS5 Refactoring
    # WPS6 OOP
    gitlabracadabra/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/cli.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/dictutils.py:WPS110,WPS204,WPS231,WPS232,WPS529
    gitlabracadabra/mixins/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/boards.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/groups.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/labels.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/members.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/mirrors.py:WPS201,WPS226,WPS232
    gitlabracadabra/mixins/milestones.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/pipeline_schedules.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/rename_branches.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/variables.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/mixins/webhooks.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/application_settings.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/group.py:D101,D102,D103,D107,E800,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/object.py:D101,D102,D103,D107,E800,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/project.py:D101,D102,D103,D107,E800,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/objects/user.py:D101,E800,WPS115,WPS226,WPS428,WPS462
    gitlabracadabra/parser.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/patchfuncs.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/__init__.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_application_settings.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_blob.py:D101,D102
    gitlabracadabra/tests/unit/test_dictutils.py:WPS226
    gitlabracadabra/tests/unit/test_group_boards.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_group.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_matchers.py:WPS204,WPS226
    gitlabracadabra/tests/unit/test_parser.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_project_boards.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_project_mirror.py:D101,D102,WPS204,WPS210,WPS221,WPS226
    gitlabracadabra/tests/unit/test_project_rename_branches.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_project.py:D101,D102,D103,D107,E800,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    gitlabracadabra/tests/unit/test_project_image_mirrors.py:E501,WPS226
    gitlabracadabra/tests/unit/test_registry.py:D101,D102,WPS201
    gitlabracadabra/tests/unit/test_registries.py:D101,D102
    gitlabracadabra/tests/unit/test_user.py:D101,D102,WPS110,WPS226
    gitlabracadabra/tests/vcrfuncs.py:D101,D102,D103,D107,WPS1,WPS2,WPS3,WPS4,WPS5,WPS6
    setup.py:WPS609

show-source = true
enable-extensions=G
application-import-names = gitlabracadabra

[isort]
line_length = 120
sections = FUTURE,STDLIB,GITLAB,THIRDPARTY,FIRSTPARTY,LOCALFOLDER
known_gitlab = gitlab
multi_line_output = 3
include_trailing_comma = true
lines_after_imports = 2
combine_as_imports = true
