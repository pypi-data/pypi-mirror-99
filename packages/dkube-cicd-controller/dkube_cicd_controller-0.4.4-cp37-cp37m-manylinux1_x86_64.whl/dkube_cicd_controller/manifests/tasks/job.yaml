apiVersion: tekton.dev/v1alpha1
kind: Task
metadata:
  name: job
  namespace: dkube-cicd
spec:
  resources:
    inputs:
      - name: git-source
        type: git
  params:
    - name: path
    - name: image_url
    - name: commit_id
    - name: build_image
    - name: component
    - name: repo
  steps:
    - name: dkube-job-add
      image: $(inputs.params.build_image)
      imagePullPolicy: Always
      workingDir: $(inputs.resources.git-source.path)/
      command: ["dcc","job","$(inputs.params.component)", "add"]