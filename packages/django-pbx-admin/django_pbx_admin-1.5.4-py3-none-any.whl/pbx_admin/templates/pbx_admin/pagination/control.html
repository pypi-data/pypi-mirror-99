{% block pagination %}
<div class="col-lg-6">
  <div class="pagination">
    Display
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
      {{ paginator.per_page }}
      <i class="icon-caret-down"></i>
    </button>
    <ul class="dropdown-menu">
      {% for choice in pagination_choices %}
      <li {% if choice == paginator.per_page %} class="active" {% endif %}>
        <a href="javascript:setPerPage({{ choice }});" class="pagination-items-page">{{ choice }}</a>
      </li>
      {% endfor %}
    </ul>
    / {{ paginator.count }} result(s)
    <input type="hidden" id="order-pagination-items-page" name="order_pagination" value="50">
  </div>
  <ul class="pagination pull-right pagination-flat">
    {% if page_obj.has_previous %}
    <li>
      <a href="?{{ params_for_page }}1" class="pagination-link"><i class="icon-double-angle-left"></i></a>
    </li>
    <li>
      <a href="?{{ params_for_page }}{{ page_obj.previous_page_number }}" class="pagination-link">
        <i class="icon-angle-left"></i>
      </a>
    </li>
    {% else %}
    <li class="disabled"><a class="pagination-link"><i class="icon-double-angle-left"></i></a></li>
    <li class="disabled"><a class="pagination-link"><i
      class="icon-angle-left"></i></a></li>
    {% endif %}

    {% if hidden_pages_before %}
    {% include "pbx_admin/pagination/dropdown.html" with page_numbers=hidden_pages_before %}
    {% endif %}

    {% for page_number in adjacent_pages_before %}
    <li><a href="?{{ params_for_page }}{{ page_number }}" class="pagination-link">{{ page_number }}</a></li>
    {% endfor %}

    <li class="active">
      <a href="?{{ params_for_page }}{{ page_obj.number }}" class="pagination-link">{{ page_obj.number }}</a>
    </li>

    {% for page_number in adjacent_pages_after %}
    <li><a href="?{{ params_for_page }}{{ page_number }}" class="pagination-link">{{ page_number }}</a></li>
    {% endfor %}

    {% if hidden_pages_after %}
    {% include "pbx_admin/pagination/dropdown.html" with page_numbers=hidden_pages_after %}
    {% endif %}

    {% if page_obj.has_next %}
    <li><a href="?{{ params_for_page }}{{ page_obj.next_page_number }}" class="pagination-link">
      <i class="icon-angle-right"></i>
    </a></li>
    <li><a href="?{{ params_for_page }}{{ page_obj.paginator.num_pages }}" class="pagination-link">
      <i class="icon-double-angle-right"></i>
    </a></li>
    {% else %}
    <li class="disabled"><a class="pagination-link"><i class="icon-angle-right"></i></a></li>
    <li class="disabled"><a class="pagination-link"><i class="icon-double-angle-right"></i></a></li>
    {% endif %}
  </ul>
</div>


{% endblock pagination %}
{% block extra_bottom_js %}
<script>
  window.onload = () => {
    document.getElementById("per-page-dropdown").addEventListener('change', get_results_quantity)
  }
</script>
{% endblock extra_bottom_js %}
