{% load i18n %}

<div class="modal fade" id="{{ id }}-modal" tabindex="-1" role="dialog"
     aria-labelledby="{{ id }}-modal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="modal-label">
                    {{ title }} {{ opts.verbose_name }}
                </h4>
            </div>
            <form id="{{ id }}-form" class="form-horizontal"
                  method="{{ method|default:'post' }}" action="{{ action }}"
                  {% for attr, val in form_attrs.items %} {{ attr }}="{{ val }}"{% endfor %}>
                <div>
                    <div class="modal-body">
                        <fieldset class="module aligned ">
                            {% if method|lower != 'get' %}{% csrf_token %}{% endif %}
                            {% for field in form %}
                                {% include 'pbx_admin/forms/fields/field.html' %}
                            {% endfor %}
                        </fieldset>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default"
                            data-dismiss="modal">{% trans 'Close' %}</button>
                    <button id="modal-{{ id }}" type="submit" value="{{ id }}"
                            class="btn btn-primary"
                            data-warn="Refresh page to see newly created {{ opts.verbose_name_plural }}.">
                        {% if button_title %}{{ button_title }}{% else %}{{ title }}{% endif %}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
