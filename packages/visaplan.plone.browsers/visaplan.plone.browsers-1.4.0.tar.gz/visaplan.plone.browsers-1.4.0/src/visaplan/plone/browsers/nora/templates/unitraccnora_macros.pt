<tal:page>
<tal:comment replace="nothing"><!--
Makros f체r UnitraccArticle-Darstellung:

brain-info-data - entnommen aus listing_article.pt
brain-main - entnommen aus listing_article.pt
item - f체r Karusseldarstellung

Anmerkungen:
- die div-Klassen .item und ggf. .active sowie
  col-md-* kommen aus dem carousel-Makro
- erforderlich im Aufrufkontext (tal:define):
  article nocall:context/@@article;
  getFirstImage nocall:article/getFirstImage;
  industrialsector nocall:context/@@industrialsector;
  industrialsector_getValue nocall:industrialsector/getValue;
  contact nocall:context/@@contact;
  contactPerson python:contact.getContactPerson;
  totime python:here.getAdapter('totime');
nora nocall:nora | nocall:context/@@nora;
getImageUrl python:nora.getImageUrl;

../../../skins/unitracc_templates/unitraccmacros.pt
../../mediathek/templates/unitraccmedia_macros.pt
--></tal:comment>
<tal:testdata define="
nora nocall:here/@@nora;
brains python:nora.search()[:10];
">
<metal:mac define-macro="item"
           extend-macro="context/unitraccmacros/macros/unitraccitem_generic">
<tal:ns define="
url brain/getURL;
">
<div class="article-box">
<h3><a href="#"
       tal:attributes="href url"
       tal:content="brain/Title">
       Artikeltitel
</a></h3>
<div class="info-data"
     metal:define-macro="brain-info-data">
    <p class="info date"
       metal:define-slot="date"
       tal:content="python:totime(brain.effective)">
     1.4.2014
    </p>
    <p class="info type"
       tal:content="brain/portal_type"
       i18n:translate="">
        News
    </p>
    <tal:ns tal:define="
code python:brain.getCode;
code python:code != '**' and code or None;
" tal:condition="code">
    <p class="info subject"
         tal:define="industrialsector_getValue industrialsector_getValue | nocall:context/@@industrialsector/getValue"
         tal:content="python:industrialsector_getValue(code)"
         i18n:translate="">
         Fachbereich
    </p>
    </tal:ns>
    <p class="info author"
        tal:define="content brain/getContactCompany"
        tal:condition="content"
        tal:content="content">
        S &amp; P Consult GmbH
    </p>
    <p class="info author"
        tal:define="content python:contactPerson(brain)"
        tal:condition="content"
        tal:content="content">
        Dr. Hase Caesar
    </p>
</div><!-- .info-data -->
<p tal:content="structure brain/Description"
   >
Beschreibung des Artikels.
Gegenw채rtig wird kein HTML-Text unterst체tzt.
</p>
</div><!-- .article-box -->
</tal:ns>
</metal:mac>


<metal:mac define-macro="brain-main">
<h3><a tal:content="brain/Title"
       tal:attributes="href brain/getURL">
       Artikel- oder News-Titel
    </a>
</h3>
<p tal:content="structure brain/Description"/>
<p></p>
<div class="listing-keywords"
     tal:condition="brain/Subject">
    <metal:slot define-slot="miniheader-keywords"/>
    <tal:block tal:repeat="subject brain/Subject">
    <a href="/search?Subject=..." target="_blank"
       class="label"
       tal:attributes="href string:${here/portal_url}/search?Subject=${subject}"
       tal:content="subject"
       >
       Schlagwort
    </a>
    </tal:block>
</div>
<a tal:attributes="href brain/getURL" class="btn btn-primary">
    <i class="glyphicon glyphicon-chevron-right icon-white"></i>
    <tal:block i18n:translate="">more</tal:block>
</a>
</metal:mac>

<metal:mac5 define-macro="others_carousel">
        <div class="row" tal:define="brains here/@@nora/search_others"
             id="see-also"
                         tal:condition="brains">
            <div class="col-md-12" tal:define="
unitraccmacros nocall:unitraccmacros | nocall:here/unitraccmacros/macros;
carousel_simple nocall:unitraccmacros/carousel_simple;
carousel_batched nocall:unitraccmacros/carousel_batched;
noraitem nocall:here/unitraccnora_macros/macros/item;
carousel_id string:news-carousel;
  article nocall:context/@@article;
  getFirstImage nocall:article/getFirstImage;
  industrialsector nocall:context/@@industrialsector;
  industrialsector_getValue nocall:industrialsector/getValue;
  contact nocall:context/@@contact;
  contactPerson python:contact.getContactPerson;
  totime python:here.getAdapter('totime');
  toTime nocall:totime;
show_date python:True;
">
<h2 metal:define-slot="header"
    i18n:translate="">
More News and Articles
</h2>
<metal:carousel use-macro="carousel_simple">
<div class="item active">
 <div class="col-md-4">
<metal:item fill-slot="item">
<metal:mac use-macro="noraitem"><!-- 
./unitraccmacros.pt
-->
</metal:mac>
</metal:item>
 </div>
</div>
</metal:carousel>
            </div><!-- .col-md-12 -->
        </div><!-- .row -->
</metal:mac5>

</tal:testdata>
</tal:page>
