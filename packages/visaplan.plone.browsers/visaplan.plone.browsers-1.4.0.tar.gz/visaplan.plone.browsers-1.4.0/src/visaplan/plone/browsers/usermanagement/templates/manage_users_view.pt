<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

    <metal:no-ads fill-slot="ad-block-above-content"/>
    <metal:no-ads fill-slot="column_two_slot"/>

    <metal:block fill-slot="top_slot"
                 tal:define="dummy python:request.set('disable_border', 1)" />

<body>

<metal:main fill-slot="main"
            tal:define="dummy context/@@usermanagement/authManageUsers">

    <div class="area-title">
        <h1 i18n:translate="">
            Manage Users
        </h1>
    </div>
    <div id="area-content">
        <form method="post" class="form-action"
              action="/manage_users_add">
            <button class="btn btn-primary"
               type="submit">
                <i class="glyphicon glyphicon-plus icon-white"></i>
                <tal:block i18n:translate="">Add user</tal:block>
            </button>
        </form>
        <form method="post" id="search-form" action="manage_users_view"
              enctype="application/x-www-form-urlencoded"
              accept-charset="UTF-8">
            <div class="input-group">
                <input id="appendedInputButton" class="col-md-6" type="text" name="SearchableText"
                   tal:attributes="value request/SearchableText | nothing"/>
                <button type="submit" class="btn btn-default search-button" id="appendedInputButton">
                    <i class="glyphicon glyphicon-search"></i>
                    <tal:block i18n:translate="">Search</tal:block>
                </button>
            </div>
            <div>
                <label for="getLocked" i18n:translate="">Locked</label>
                <select name="getLocked" id="getLocked"
                        tal:define="val request/getLocked | nothing">
                    <option value=""
                            i18n:translate="">Show all</option>
                    <option value="False"
                            tal:attributes="selected python:val == 'False'"
                            i18n:translate="">Exclude locked entries</option>
                    <option value="True"
                            tal:attributes="selected python:val == 'True'"
                            i18n:translate="">Show locked entries only</option>
                </select>
            </div>
            <input type="hidden" name="sort_on" id="sort_on"
                   tal:attributes="value request/sort_on | string:getLastnameIndex"/>
            <input type="hidden" name="sort_order" id="sort_order"
                   tal:attributes="value request/sort_order | string:"/>
            <input type="hidden" name="b_start" id="b_start"
                   tal:attributes="value request/form/b_start | python:0"
                   />

            <input class="btn btn-primary"
                   id="user-download"
                   type="button"
                   value="Download"
                   i18n:attributes="value"/>
        </form>
        <div id="js-listing-user">
            <!-- -->
        </div>

        <script type="text/javascript"
                src="../resource/manage_users_view.js"
                tal:attributes="src string:$portal_url/++resource++usermanagement/manage_users_view.js"></script>
    </div>

</metal:main>

</body>
</html>
