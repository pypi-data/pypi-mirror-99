Metadata-Version: 2.1
Name: redturtle.volto
Version: 1.2.2
Summary: Helper package to setup a RedTurtle's Plone site ready to work with Volto.
Home-page: https://github.com/collective/redturtle.volto
Author: RedTurtle Technology
Author-email: sviluppo@redturtle.it
License: GPL version 2
Project-URL: PyPI, https://pypi.python.org/pypi/redturtle.volto
Project-URL: Source, https://github.com/RedTurtle/redturtle.volto
Project-URL: Tracker, https://github.com/RedTurtle/redturtle.volto/issues
Description: .. This README is meant for consumption by humans and pypi. Pypi can render rst files so please do not use Sphinx features.
           If you want to learn more about writing documentation, please check out: http://docs.plone.org/about/documentation_styleguide.html
           This text does not appear on pypi or github. It is a comment.
        
        ===============
        redturtle.volto
        ===============
        
        This is an helper package that setup a RedTurtle's Plone site ready to work with Volto.
        
        Features
        ========
        
        Content-types
        -------------
        
        - Disabled **Collection**
        - **Document**, **News Item** and **Event** are folderish types (thanks to collective.folderishtypes.dx)
        - News Item and Event can only contain **Links**, **Images** and **Files**
        - **Plone Site** is a DX content
        - Revert **News Item** and **Event** to be non-folderish (collective.folderishtypes.dx makes them folderish)
        
        Blocks
        ------
        
        **volto.blocks** behavior is enabled by default for these content-types:
        
        - Document
        - News Item
        - Event
        
        Links
        -----
        
        There is a custom adapter for TextLine field that return the proper widget for **remoteUrl**.
        
        Custom blocks transformers
        --------------------------
        
        There are custom transformers for serializer and deserializer to better manage resolveuids.
        
        There is an edge-case when a block refers its context: in this case, to avoid maximum recursion depth
        in uids resolving, that uid will be expanded with the Summary json version and not the full object.
        
        
        @context-navigation endpoint
        ----------------------------
        
        plone.restapi's **@navigation** endpoint always return the navigation tree from the site root.
        
        There is a **@context-navigation** endpoint that returns the contextual navigation tree:
        
            > curl -i http://localhost:8080/Plone/folder?context-navigation -H 'Accept: application/json'
        
        This is the result::
        
            {
                '@id': 'http://localhost:8080/Plone/folder',
                'items': [
                    {'@id': 'http://localhost:8080/Plone/folder/folder-a',
                        'description': '',
                        'title': 'Folder A'},
                    {'@id': 'http://localhost:8080/Plone/folder/folder-b',
                        'description': '',
                        'title': 'Folder B'},
                    {'@id': 'http://localhost:8080/Plone/folder/folder-c',
                        'description': '',
                        'title': 'Folder C'}
                ]
            }
        
        By default only first level is shown.
        You can pass an **expand.navigation.depth** parameter to set the depth::
        
            > curl -i http://localhost:8080/Plone/folder?context-navigation?expand.navigation.depth=2 -H 'Accept: application/json'
        
        And this is the result::
        
            {
                '@id': 'http://localhost:8080/Plone/folder',
                'items': [
                    {
                        '@id': 'http://localhost:8080/Plone/folder/folder-a',
                        'description': '',
                        'items': [
                            {
                                '@id': 'http://localhost:8080/Plone/folder/folder-a/folder-aa',
                                'description': '',
                                'title': 'Folder AA',
                            },
                            {
                                '@id': 'http://localhost:8080/Plone/folder/folder-a/folder-ab',
                                'description': '',
                                'title': 'Folder AB',
                            },
                        ],
                        'title': 'Folder A',
                    },
                    {
                        '@id': 'http://localhost:8080/Plone/folder/folder-b',
                        'description': '',
                        'title': 'Folder B',
                    },
                    {
                        '@id': 'http://localhost:8080/Plone/folder/folder-c',
                        'description': '',
                        'title': 'Folder C',
                    },
                ],
            }
        
        @site-search endpoint
        ---------------------
        
        This endpoint works exactly like **@search** but take care of types not searchable settings.
        
        
        @sitemap-settings
        -----------------
        
        Endpoint that returns sitemap settings for anonymous users (that can't access registry entries).
        
        Returns a data structure like this::
        
            {
                'depth': 3,
            }
        
        Keywords vocabulary patch
        --------------------------
        
        We copied the patch from kitconcept.volto_ for special characters in keywords vocabulary
        (used for example in Subjects field).
        
        .. _kitconcept.volto: https://github.com/kitconcept/kitconcept.volto/blob/master/src/kitconcept/volto/vocabularies/subject.py
        
        
        Products.PortalTransforms patch
        -------------------------------
        
        See https://github.com/plone/Products.PortalTransforms/pull/43
        
        There is a monkeypatch to apply that changes.
        
        
        @search endpoint
        ----------------
        
        We customized @search endpoint for that bug: https://github.com/plone/plone.restapi/pull/1066
        
        @events-search endpoint
        -----------------------
        
        Endpoint similar to `@querystring-search` that is used to make queries for events.
        
        This uses `get_events` method to search events: that method handle recurrences and avoid wrong results.
        
        The usage is similar to `@querystring-search`.
        
        
        Disallow bot indexing
        ---------------------
        
        There is a custom viewlet that add a <meta> tag in the <head> section to prevent bot indexing.
        
        For reference: https://developers.google.com/search/docs/advanced/crawling/block-indexing?visit_id=637489966041845317-1328107746&rd=1
        
        
        
        Fixed dependencies versions
        ===========================
        
        There are some dependencies fixed in setup.py file.
        When Plone 5.2 will be released, we can remove these:
        
        - waitress >= 1.4.3
        - plone.app.contenttypes >= 2.1.6
        - plone.rest >= 1.6.1
        - plone.dexterity >= 2.9.5
        - Products.ZCatalog >= 5.1
        - plone.namedfile >= 5.4.0
        - Products.PloneHotfix20200121 >= 1.0
        
        New Criteria
        ============
        
        There is one new criteria for Collections and Listing blocks that search on **exclude_from_nav** index.
        
        Events recurrence patch
        =======================
        
        There is a monkeypatch for Events recurrences that fix their duration.
        
        If it works well, we can make a pr in p.a.event.
        
        
        Installation
        ============
        
        Install redturtle.volto by adding it to your buildout::
        
            [buildout]
        
            ...
        
            eggs =
                redturtle.volto
        
        
        and then running ``bin/buildout``
        
        
        Contribute
        ==========
        
        - Issue Tracker: https://github.com/RedTurtle/redturtle.volto/issues
        - Source Code: https://github.com/RedTurtle/redturtle.volto
        
        
        License
        =======
        
        The project is licensed under the GPLv2.
        
        Authors
        =======
        
        This product was developed by **RedTurtle Technology** team.
        
        .. image:: https://avatars1.githubusercontent.com/u/1087171?s=100&v=4
           :alt: RedTurtle Technology Site
           :target: http://www.redturtle.it/
        
        
        Contributors
        ============
        
        - RedTurtle Technology, sviluppo@redturtle.it
        
        
        Changelog
        =========
        
        1.2.2 (2021-03-25)
        ------------------
        
        - Added upgrade step to import p.a.c. profile.
          [daniele]
        
        1.2.1 (2021-03-17)
        ------------------
        
        - Monkeypatch for Events recurrences.
          [cekk]
        - Fix profile name in upgrade-steps.
          [cekk]
        
        1.2.0 (2021-03-02)
        ------------------
        
        - New endpoint to search Events: @events-search.
        - Better handle serialization for recursion problems: now only serialize with ISerializeToJsonSummary
          if the referred item is the current context.
          [cekk]
        
        
        1.1.0 (2021-03-01)
        ------------------
        
        - Expand uids with ISerializeToJsonSummary and not with fullobject to gain space and
          avoid maximum recursion depth it a block has an internal reference to the current context.
          [cekk]
        
        
        1.0.9 (2021-02-23)
        ------------------
        
        - Handle unauthorized in blocks serializer.
          [cekk]
        
        
        1.0.8 (2021-02-19)
        ------------------
        
        - Fix typo.
          [cekk]
        
        
        1.0.7 (2021-02-19)
        ------------------
        
        - Do not run dependencies when upgrading plone.app.registry.
          [cekk]
        
        1.0.6 (2021-02-15)
        ------------------
        
        - Disallow Plone site indexing: add noindex in <head>
          [cekk]
        - Revert robots.txt customization because is in conflict to noindex directive.
          [cekk]
        
        1.0.5 (2021-02-11)
        ------------------
        
        - Custom @search endpoint to fix bug with Access inactive portal content permission
          (https://github.com/plone/plone.restapi/pull/1066)
          [cekk]
        
        
        1.0.4 (2021-02-10)
        ------------------
        
        - Customize robots.txt to disallow /api entry.
          [cekk]
        
        1.0.3 (2021-02-09)
        ------------------
        
        - Patched Products.PortalTransforms
          (https://github.com/plone/Products.PortalTransforms/pull/43).
          [cekk]
        
        
        
        1.0.2 (2021-02-09)
        ------------------
        
        - Re-add remoteUrl field serializer.
          [cekk]
        
        
        1.0.1 (2021-02-08)
        ------------------
        
        - [new] Add here from modena the RSS.pt template override
          [lucabel]
        - Remove text block serializer that is already merged into plone.restapi.
          [cekk]
        - Register generic serializer also for site root.
          [cekk]
        
        1.0.0 (2020-12-07)
        ------------------
        
        - Add exclude_from_nav as Collection criteria (used also in Volto's listing blocks).
          [cekk]
        - Add custom TextLine adapter to return the proper widget for **remoteUrl** field.
          [cekk]
        
        0.1.6 (2020-11-25)
        ------------------
        
        - Allow Products.PloneHotfix20200121 versions greater than 1.0.
          [pnicolli]
        - Fix generic serializer/deserializer.
          [cekk]
        - Skip also "calendar" when check for url deserializing blocks
          [lucabel]
        - Fix document template.
          [cekk]
        
        0.1.5 (2020-10-20)
        ------------------
        
        - Remove resolveuid serializer/deserializer for blocks: now they are integrated in plone.restapi.
          [cekk]
        - Add custom transformers for blocks to handle link in generic blocks.
          [cekk]
        - Enable Editor and Contributor to access Plone vocabularies with restapi.
          [cekk]
        - Add @sitemap-settings endpoint.
          [cekk]
        
        0.1.4 (2020-07-16)
        ------------------
        
        - Add keywords vocabulary patch.
          [cekk]
        
        
        0.1.3 (2020-06-22)
        ------------------
        
        - Added default homepages
          [nzambello]
        - Added blocks behavior to LRF
          [nzambello]
        - Made editable and viewable Plone Site with blocks behavior
          [nzambello]
        - Remove richtext behavior from News Items, Events and Documents.
          [cekk]
        - News Item and Event are folderish and can only contain Links, Images and Files.
          [cekk]
        
        0.1.2 (2020-05-25)
        ------------------
        
        - Revert to Event and News Item default behaviors.
          [cekk]
        
        
        0.1.1 (2020-05-22)
        ------------------
        
        - Install also collective.volto.cookieconsent.
          [cekk]
        
        
        0.1.0 (2020-05-22)
        ------------------
        
        - Initial release.
          [cekk]
        
Keywords: Python Plone
Platform: UNKNOWN
Classifier: Environment :: Web Environment
Classifier: Framework :: Plone
Classifier: Framework :: Plone :: Addon
Classifier: Framework :: Plone :: 5.2
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Operating System :: OS Independent
Classifier: License :: OSI Approved :: GNU General Public License v2 (GPLv2)
Requires-Python: >=3.7
Provides-Extra: test
