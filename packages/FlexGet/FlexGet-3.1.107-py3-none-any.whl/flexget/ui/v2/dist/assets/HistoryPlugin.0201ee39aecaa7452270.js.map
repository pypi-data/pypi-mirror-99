{"version":3,"sources":["webpack:///./node_modules/react-infinite-scroller/index.js","webpack:///./node_modules/react-infinite-scroller/dist/InfiniteScroll.js","webpack:///./node_modules/@material-ui/core/esm/ListSubheader/ListSubheader.js","webpack:///./src/common/inputs/formik/DirectionButton.tsx","webpack:///./src/plugins/history/types.ts","webpack:///./src/plugins/history/FilterNav.tsx","webpack:///./src/plugins/history/utils.ts","webpack:///./src/utils/array.ts","webpack:///./src/plugins/history/hooks.ts","webpack:///./src/plugins/history/HistoryList.tsx","webpack:///./src/plugins/history/History.tsx","webpack:///./src/utils/query.ts","webpack:///./src/common/inputs/formik/TextField.tsx","webpack:///./src/common/inputs/formik/SelectField.tsx","webpack:///./node_modules/@material-ui/icons/esm/ExpandMore.js","webpack:///./src/common/ExpandButton.tsx"],"names":["module","exports","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","InfiniteScroll","_Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scrollListener","bind","eventListenerOptions","mousewheelListener","subClass","superClass","create","constructor","setPrototypeOf","_inherits","pageLoaded","pageStart","options","attachScrollListener","isReverse","loadMore","parentElement","getParentElement","scrollComponent","scrollTop","scrollHeight","beforeScrollHeight","beforeScrollTop","detachScrollListener","detachMousewheelListener","passive","testOptions","document","addEventListener","removeEventListener","e","useCapture","isPassiveSupported","loader","defaultLoader","scrollEl","window","useWindow","parentNode","el","scrollParent","getScrollParent","hasMore","initialLoad","deltaY","preventDefault","offset","doc","documentElement","body","undefined","pageYOffset","calculateOffset","clientHeight","Number","threshold","offsetParent","calculateTopPosition","offsetHeight","innerHeight","offsetTop","_this2","renderProps","filterProps","children","element","ref","keys","indexOf","hasOwnProperty","_objectWithoutProperties","node","childrenArray","unshift","push","createElement","Component","propTypes","isRequired","bool","func","number","defaultProps","ListSubheader","forwardRef","classes","className","_props$color","color","_props$component","component","_props$disableGutters","disableGutters","_props$disableSticky","disableSticky","_props$inset","inset","other","root","concat","sticky","gutters","theme","boxSizing","lineHeight","listStyle","palette","text","secondary","fontFamily","typography","fontWeight","fontWeightMedium","fontSize","pxToRem","colorPrimary","primary","main","colorInherit","paddingLeft","paddingRight","position","top","zIndex","backgroundColor","name","GroupByFields","SortByFields","DirectionButton","onClick","useField","setValue","open","useMemo","Direction","Desc","handleClick","useCallback","toggleDirection","ExpandButton","fieldWrapper","textField","selectField","groupByFields","Task","label","Time","sortByFields","Details","Filename","Id","Title","Url","FilterNav","tasks","useContainer","TaskContainer","useDebounceFormikSubmit","Toolbar","css","SelectField","autoFocus","id","map","Tooltip","title","aria-label","getGroupedHistory","items","grouping","array","transform","f","reduce","curr","modKey","groupBy","split","historyReducer","state","total","reset","useHistoryPlugin","useReducer","dispatch","useFlexgetAPI","stringify","requestState","request","useEffect","resp","ok","data","parseInt","headers","get","page","fn","subheader","background","paper","wrapper","HistoryList","scrollRef","loading","history","LoadingSpinner","entries","header","histories","List","time","task","ListItem","ListItemText","Date","toString","History","useInjectPageTitle","scroll","useRef","useMergeState","sort","order","setOptions","current","findDOMNode","scrollIntoView","initialValues","onSubmit","values","d","Asc","TextField","field","touched","error","helperText","SelectProps","useTheme","sp","native","useMediaQuery","breakpoints","down","select","option","createSvgIcon","iconBase","transitions","rotate","iconCss","IconButton","ExpandMore"],"mappings":"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","file":"HistoryPlugin.0201ee39aecaa7452270.js","sourcesContent":["module.exports = require('./dist/InfiniteScroll')\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {\n        // ignore\n      }\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n      return options;\n    }\n\n    // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n\n      var offset = void 0;\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      }\n\n      // Here we make sure the element is visible as well as checking the offset\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop;\n        // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      boxSizing: 'border-box',\n      lineHeight: '48px',\n      listStyle: 'none',\n      color: theme.palette.text.secondary,\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(14)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the root element if `inset={true}`. */\n    inset: {\n      paddingLeft: 72\n    },\n\n    /* Styles applied to the root element if `disableSticky={false}`. */\n    sticky: {\n      position: 'sticky',\n      top: 0,\n      zIndex: 1,\n      backgroundColor: 'inherit'\n    }\n  };\n};\nvar ListSubheader = React.forwardRef(function ListSubheader(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$disableSticky = props.disableSticky,\n      disableSticky = _props$disableSticky === void 0 ? false : _props$disableSticky,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"disableGutters\", \"disableSticky\", \"inset\"]);\n\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], inset && classes.inset, !disableSticky && classes.sticky, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListSubheader.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'inherit']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the List Subheader will not have gutters.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will not stick to the top during scroll.\n   */\n  disableSticky: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will be indented.\n   */\n  inset: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListSubheader'\n})(ListSubheader);","import React, { useCallback, forwardRef, useMemo } from 'react';\nimport { useField } from 'formik';\nimport { Direction, toggleDirection } from 'utils/query';\nimport ExpandButton from 'common/ExpandButton';\nconst DirectionButton = forwardRef(({ name, onClick = () => { }, ...props }, ref) => {\n    const [{ value }, , { setValue }] = useField(name);\n    const open = useMemo(() => value === Direction.Desc, [value]);\n    const handleClick = useCallback((e) => {\n        setValue(toggleDirection(value));\n        onClick(e);\n    }, [onClick, setValue, value]);\n    return <ExpandButton {...props} open={open} onClick={handleClick} name={name} ref={ref}/>;\n});\nexport default DirectionButton;\n","export var GroupByFields;\n(function (GroupByFields) {\n    GroupByFields[\"Task\"] = \"task\";\n    GroupByFields[\"Time\"] = \"time\";\n})(GroupByFields || (GroupByFields = {}));\nexport var SortByFields;\n(function (SortByFields) {\n    SortByFields[\"Task\"] = \"task\";\n    SortByFields[\"Time\"] = \"time\";\n    SortByFields[\"Url\"] = \"url\";\n    SortByFields[\"Details\"] = \"details\";\n    SortByFields[\"Id\"] = \"id\";\n    SortByFields[\"Filename\"] = \"filename\";\n    SortByFields[\"Title\"] = \"title\";\n})(SortByFields || (SortByFields = {}));\n","import React from 'react';\nimport { Toolbar, Tooltip } from '@material-ui/core';\nimport { css } from '@emotion/core';\nimport SelectField from 'common/inputs/formik/SelectField';\nimport { Spacer } from 'common/styles';\nimport { useDebounceFormikSubmit } from 'utils/hooks';\nimport DirectionButton from 'common/inputs/formik/DirectionButton';\nimport { TaskContainer } from 'plugins/tasks/hooks';\nimport { useContainer } from 'unstated-next';\nimport { GroupByFields, SortByFields } from './types';\nconst fieldWrapper = css `\n  padding: 0.5rem 2rem 0.5rem;\n`;\nconst textField = css `\n  width: 7.5rem;\n`;\nconst selectField = css `\n  min-width: 20rem;\n`;\nconst groupByFields = [\n    {\n        value: GroupByFields.Task,\n        label: 'Task',\n    },\n    {\n        value: GroupByFields.Time,\n        label: 'Time',\n    },\n];\nconst sortByFields = [\n    {\n        value: SortByFields.Details,\n        label: 'Details',\n    },\n    {\n        value: SortByFields.Filename,\n        label: 'Filename',\n    },\n    {\n        value: SortByFields.Id,\n        label: 'ID',\n    },\n    {\n        value: SortByFields.Task,\n        label: 'Task',\n    },\n    {\n        value: SortByFields.Time,\n        label: 'Time',\n    },\n    {\n        value: SortByFields.Title,\n        label: 'Title',\n    },\n    {\n        value: SortByFields.Url,\n        label: 'URL',\n    },\n];\nconst FilterNav = () => {\n    const { tasks } = useContainer(TaskContainer);\n    useDebounceFormikSubmit();\n    return (<Toolbar>\n      <div css={fieldWrapper}>\n        <SelectField css={selectField} autoFocus id=\"task\" label=\"Task Name\" name=\"task\" options={tasks.map(({ name }) => ({ value: name, label: name }))}/>\n      </div>\n      <Spacer />\n      <div css={fieldWrapper}>\n        <SelectField id=\"sort\" name=\"sort\" label=\"Sort By\" options={sortByFields} css={textField}/>\n      </div>\n      <div>\n        <SelectField id=\"grouping\" label=\"Group By\" name=\"grouping\" options={groupByFields} css={textField}/>\n      </div>\n      <Tooltip title=\"Toggle Direction\">\n        <DirectionButton color=\"inherit\" name=\"order\" id=\"order\" aria-label=\"Toggle Direction\"/>\n      </Tooltip>\n    </Toolbar>);\n};\nexport default FilterNav;\n","import { groupBy } from 'utils/array';\nimport { GroupByFields } from './types';\nexport const getGroupedHistory = (items, grouping) => groupBy(items, grouping, grouping === GroupByFields.Time ? (i) => i.split('T')[0] : undefined);\n","export function groupBy(array, key, transform = f => `${f}`) {\n    return array.reduce((obj, curr) => {\n        const modKey = transform(curr[key]);\n        return {\n            ...obj,\n            [modKey]: obj[modKey] ? [...obj[modKey], curr] : [curr],\n        };\n    }, {});\n}\n","import { useReducer, useEffect } from 'react';\nimport { stringify } from 'qs';\nimport { useFlexgetAPI } from 'core/api';\nconst historyReducer = (state, { items, total, reset }) => {\n    if (reset) {\n        return {\n            items,\n            total,\n        };\n    }\n    return {\n        items: [...state.items, ...items],\n        total,\n    };\n};\nexport const useHistoryPlugin = (options) => {\n    const [state, dispatch] = useReducer(historyReducer, { items: [], total: 0 });\n    const [requestState, request] = useFlexgetAPI(`/history?${stringify(options)}`);\n    useEffect(() => {\n        const fn = async () => {\n            const resp = await request();\n            if (resp.ok) {\n                dispatch({\n                    items: resp.data,\n                    total: parseInt(resp.headers.get('total-count') ?? '0', 10),\n                    reset: options.page === 1,\n                });\n            }\n        };\n        fn();\n    }, [options.page, request]);\n    return { ...state, ...requestState };\n};\n","import React, { forwardRef, useMemo } from 'react';\nimport { ListItemText, ListItem, ListSubheader, List } from '@material-ui/core';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { GroupByFields } from 'plugins/history/types';\nimport LoadingSpinner from 'common/LoadingSpinner';\nimport { css } from '@emotion/core';\nimport { getGroupedHistory } from 'plugins/history/utils';\nimport { useHistoryPlugin } from './hooks';\nconst subheader = (theme) => css `\n  background-color: ${theme.palette.background.paper};\n`;\nconst wrapper = css `\n  overflow-y: scroll;\n  flex: 1;\n`;\nconst HistoryList = forwardRef(({ options, loadMore }, scrollRef) => {\n    const { items, total, loading } = useHistoryPlugin(options);\n    const history = useMemo(() => getGroupedHistory(items, options.grouping), [\n        items,\n        options.grouping,\n    ]);\n    return (<div css={wrapper}>\n      <InfiniteScroll hasMore={loading ? false : items.length < total} loadMore={loadMore} loader={<LoadingSpinner key={0}/>} ref={scrollRef} useWindow={false}>\n        {Object.entries(history).map(([header, histories]) => (<List key={header} subheader={<ListSubheader color=\"primary\" css={subheader}>\n                {header}\n              </ListSubheader>}>\n            {histories.map(({ id, title, time, task }) => (<ListItem key={id}>\n                <ListItemText primary={title} secondary={options.grouping === GroupByFields.Time ? task : new Date(time).toString()}/>\n              </ListItem>))}\n          </List>))}\n      </InfiniteScroll>\n    </div>);\n});\nexport default HistoryList;\n","import React, { useRef, useEffect, useCallback } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { hot } from 'react-hot-loader/root';\nimport { useInjectPageTitle } from 'core/layout/AppBar/hooks';\nimport { NoPaddingWrapper } from 'common/styles';\nimport { useMergeState } from 'utils/hooks';\nimport { Direction } from 'utils/query';\nimport { Formik } from 'formik';\nimport FilterNav from './FilterNav';\nimport HistoryList from './HistoryList';\nimport { GroupByFields, SortByFields } from './types';\nconst History = () => {\n    useInjectPageTitle('History');\n    const scroll = useRef(null);\n    const [options, setOptions] = useMergeState({\n        page: 1,\n        grouping: GroupByFields.Time,\n        sort: SortByFields.Time,\n        order: Direction.Desc,\n        task: '',\n    });\n    useEffect(() => {\n        if (scroll.current && options.page === 1) {\n            const node = findDOMNode(scroll.current); // eslint-disable-line react/no-find-dom-node\n            if (node && 'scrollIntoView' in node) {\n                node.scrollIntoView();\n            }\n            scroll.current.pageLoaded = 1;\n        }\n    }, [options.page]);\n    const loadMore = useCallback((page) => setOptions({ page }), [setOptions]);\n    return (<NoPaddingWrapper>\n      <Formik initialValues={options} onSubmit={values => setOptions({\n        ...values,\n        page: 1,\n    })}>\n        <FilterNav />\n      </Formik>\n      <HistoryList options={options} ref={scroll} loadMore={loadMore}/>\n    </NoPaddingWrapper>);\n};\nexport default hot(History);\n","export var Direction;\n(function (Direction) {\n    Direction[\"Desc\"] = \"desc\";\n    Direction[\"Asc\"] = \"asc\";\n})(Direction || (Direction = {}));\nexport const toggleDirection = (d) => d === Direction.Asc ? Direction.Desc : Direction.Asc;\n","import React from 'react';\nimport BaseTextField from '@material-ui/core/TextField';\nimport { useField } from 'formik';\nconst TextField = ({ name, ...props }) => {\n    const [field, { touched, error }] = useField(name);\n    return <BaseTextField error={touched && !!error} helperText={error} {...field} {...props}/>;\n};\nexport default TextField;\n","import React from 'react';\nimport { MenuItem, useMediaQuery, useTheme } from '@material-ui/core';\nimport TextField from './TextField';\nconst SelectField = ({ options, SelectProps = {}, ...props }) => {\n    const theme = useTheme();\n    const native = useMediaQuery(theme.breakpoints.down('sm'));\n    const sp = {\n        native,\n        ...SelectProps,\n    };\n    return (<TextField {...props} select SelectProps={sp}>\n      {options.map(option => sp.native ? (<option key={option.value} value={option.value}>\n            {option.label}\n          </option>) : (<MenuItem key={option.value} value={option.value}>\n            {option.label}\n          </MenuItem>))}\n    </TextField>);\n};\nexport default SelectField;\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","import React, { useCallback, forwardRef } from 'react';\nimport { css } from '@emotion/core';\nimport { ExpandMore } from '@material-ui/icons';\nimport { IconButton } from '@material-ui/core';\nconst iconBase = (theme) => css `\n  transition: ${theme.transitions.create(['transform'])};\n`;\nconst rotate = css `\n  transform: rotate(180deg);\n`;\nconst ExpandButton = forwardRef(({ open, ...props }, ref) => {\n    const iconCss = useCallback((theme) => [iconBase(theme), open && rotate], [open]);\n    return (<IconButton {...props} css={iconCss} ref={ref}>\n      <ExpandMore />\n    </IconButton>);\n});\nexport default ExpandButton;\n"],"sourceRoot":""}