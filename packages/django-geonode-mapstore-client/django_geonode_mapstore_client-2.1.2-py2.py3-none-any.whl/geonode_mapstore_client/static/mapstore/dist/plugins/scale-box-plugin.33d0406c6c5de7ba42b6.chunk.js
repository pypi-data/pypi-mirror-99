(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4593],{98939:(e,t,n)=>{"use strict";n.d(t,{d2:()=>r,yX:()=>o,Uo:()=>i,n2:()=>c,SA:()=>u});var r="CHANGE_HELP_STATE",o="CHANGE_HELP_TEXT",i="CHANGE_HELPWIN_VIZ";function c(e){return{type:o,helpText:e}}function u(e){return{type:i,helpwinViz:e}}},1550:(e,t,n)=>{"use strict";n.d(t,{pP:()=>o,TR:()=>i,N7:()=>c,mq:()=>u,uv:()=>a,Qy:()=>p,IL:()=>s,Li:()=>l,OW:()=>f,ZO:()=>y,Um:()=>m,TF:()=>b,Ls:()=>h,Ec:()=>g,Eu:()=>d,JJ:()=>v,nZ:()=>O,YD:()=>E,GI:()=>x,Jb:()=>_,LP:()=>T,xy:()=>S,o6:()=>P,FP:()=>w,Mo:()=>C,sO:()=>R,Px:()=>j,hd:()=>I,BV:()=>N,SO:()=>Z,H0:()=>A,$X:()=>H,ou:()=>L,NE:()=>M});var r=n(97395),o="CHANGE_MAP_VIEW",i="CLICK_ON_MAP",c="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",a="PAN_TO",p="ZOOM_TO_EXTENT",s="ZOOM_TO_POINT",l="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",y="CHANGE_MAP_STYLE",m="CHANGE_ROTATION",b="CREATION_ERROR_LAYER",h="UPDATE_VERSION",g="INIT_MAP",d="RESIZE_MAP",v="CHANGE_MAP_LIMITS",O="SET_MAP_RESOLUTIONS",E="REGISTER_EVENT_LISTENER",x="UNREGISTER_EVENT_LISTENER",_="MOUSE_MOVE";function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{family:""};return(0,r.vU)({title:"warning",message:"map.errorLoadingFont",values:e,position:"tc",autoDismiss:10})}function S(e,t,n){return{type:s,pos:e,zoom:t,crs:n}}function P(e,t,n,r,i,c,u,a){return{type:o,center:e,zoom:t,bbox:n,size:r,mapStateSource:i,projection:c,viewerOptions:u,resolution:a}}function w(e,t){return{type:i,point:e,layer:t}}function C(e){return{type:c,pointer:e}}function R(e,t){return{type:u,zoom:e,mapStateSource:t}}function j(e,t,n){return{type:p,extent:e,crs:t,maxZoom:n}}function I(e,t){return{type:y,style:e,mapStateSource:t}}function N(e){var t=e.restrictedExtent,n=e.crs,r=e.minZoom;return{type:v,restrictedExtent:t,crs:n,minZoom:r}}function Z(e){return{type:O,resolutions:e}}var A=function(e,t){return{type:E,eventName:e,toolName:t}},H=function(e,t){return{type:x,eventName:e,toolName:t}},L=function(e){return{type:_,position:e}},M=function(){return{type:"MOUSE_OUT"}}},83606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(96486),o=n(45697),i=n.n(o),c=n(67294),u=n.n(c),a=n(30294),p=n(86638);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,o,i,c=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(o);if(i){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return g(b(e=c.call.apply(c,[this].concat(n))),"onMouseOver",(function(){var t=(0,r.isString)(e.props.helpText)?e.props.helpText:(0,p.S$)(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=s,(n=[{key:"render",value:function(){return u().createElement(a.Badge,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&f(t.prototype,n),s}(u().Component);g(d,"propTypes",{id:i().string,helpText:i().oneOfType([i().string,i().element]),isVisible:i().bool,changeHelpText:i().func,changeHelpwinVisibility:i().func,className:i().string}),g(d,"contextTypes",{messages:i().object}),g(d,"defaultProps",{helpText:"",isVisible:!1});const v=d},75964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(96486),o=n(45697),i=n.n(o),c=n(67294),u=n.n(c),a=n(30294),p=n(52259);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,o,i,c=(o=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(o);if(i){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function p(){var e;l(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(b(e=c.call.apply(c,[this].concat(n))),"onComboChange",(function(t){var n=parseInt(t.nativeEvent.target.value,10);e.props.onChange(n,e.props.scales[n])})),g(b(e),"getOptions",(function(){return e.props.scales.map((function(t,n){return u().createElement("option",{value:n,key:n},e.props.template(t,n))})).filter((function(t,n){return n>=e.props.minZoom}))})),e}return t=p,(n=[{key:"shouldComponentUpdate",value:function(e){return!(0,r.isEqual)(e,this.props)}},{key:"render",value:function(){var e;return e=this.props.readOnly?u().createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?u().createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):u().createElement(a.Form,{inline:!0},u().createElement(a.FormGroup,{bsSize:"small"},u().createElement(a.ControlLabel,null,this.props.label),u().createElement(a.FormControl,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),u().createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&f(t.prototype,n),p}(u().Component);g(d,"propTypes",{id:i().string,style:i().object,scales:i().array,currentZoomLvl:i().number,minZoom:i().number,onChange:i().func,readOnly:i().bool,label:i().oneOfType([i().func,i().string,i().object]),template:i().func,useRawInput:i().bool}),g(d,"defaultProps",{id:"mapstore-scalebox",scales:(0,p.getGoogleMercatorScales)(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1});const v=d},58888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>G});var r=n(67294),o=n.n(r),i=n(22843),c=n(22222),u=n(827),a=n(1550),p=n(33664),s=n(98939),l=n(45697),f=n.n(l),y=n(83606);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(41165);var O,E,x,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(u,e);var t,n,r,i,c=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(i){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(){return b(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return o().createElement("div",{id:this.props.id},o().createElement(y.Z,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}])&&h(t.prototype,n),u}(o().Component);O=_,E="propTypes",x={id:f().string,helpText:f().oneOfType([f().string,f().element]),helpEnabled:f().bool,changeHelpText:f().func,changeHelpwinVisibility:f().func},E in O?Object.defineProperty(O,E,{value:x,enumerable:!0,configurable:!0,writable:!0}):O[E]=x;const T=_,S=(0,p.connect)((function(e){return{helpEnabled:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:s.n2,changeHelpwinVisibility:s.SA})(T);var P=n(81756),w=n(75964),C=n(52259),R=n(27418),j=n.n(R);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(87231);var k=(0,c.P1)([u.Od,u._e],(function(e,t){return{minZoom:t,currentZoomLvl:e&&e.zoom,scales:(0,C.getScales)(e&&e.projection||"EPSG:3857",e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null)}})),V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(u,e);var t,n,r,i,c=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(i){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(){return Z(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return o().createElement(S,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:o().createElement(P.Z,{msgId:"helptexts.scaleBox"})},o().createElement(w.Z,N({key:"scaleBox",label:o().createElement(P.Z,{msgId:"mapScale"})},this.props)))}}])&&A(t.prototype,n),u}(o().Component),z=(0,i.$j)(k,{onChange:a.sO})(V);const G={ScaleBoxPlugin:j()(z,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:2,tool:!0,priority:1}}),reducers:{}}},81756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(33664),o=n(5346);const i=(0,r.connect)((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(o.Z)},827:(e,t,n)=>{"use strict";n.d(t,{Od:()=>c,uy:()=>u,J9:()=>a,_H:()=>p,HJ:()=>s,pb:()=>l,zj:()=>y,A0:()=>m,S:()=>b,_e:()=>h,up:()=>g,Zs:()=>d,x9:()=>O,zT:()=>E,Mc:()=>x});var r=n(90183),o=n(22222),i=n(96486),c=function(e){return e.map&&e.map.present||e.map||e.config&&e.config.map||null},u=(0,o.P1)([c],(function(e){return e&&e.projection})),a=function(e){return(0,i.get)(e,"mapInitialConfig.mapId")&&parseInt((0,i.get)(e,"mapInitialConfig.mapId"),10)||function(e){return(0,i.get)(c(e),"mapId")&&parseInt((0,i.get)(c(e),"mapId"),10)||null}(e)},p=function(e){return(0,i.get)(c(e),"info")},s=function(e){var t=(0,i.get)(p(e),"canEdit");return void 0===t?(0,i.get)(e,"context.resource.canEdit"):t},l=function(e){return e.localConfig&&e.localConfig.projectionDefs||[]},f=function(e){return e.localConfig&&e.localConfig.mapConstraints||{}},y=function(e){return f(e).restrictedExtent},m=function(e){return f(e).crs},b=function(e){var t=f(e),n=u(e);return n&&(0,i.get)(t,'projectionsConstraints["'.concat(n,'"].minZoom'))||(0,i.get)(t,"minZoom")},h=function(e){return(0,i.get)(function(e){return(0,i.get)(c(e),"limits")}(e),"minZoom")},g=(0,o.P1)([function(e){return(0,i.get)(c(e),"resolutions")},u],(function(e,t){if(e&&t){var n=r.default.getUnits(t);return e.map((function(e){return 3779.527559055118*e*("degrees"===n?111194.87428468118:1)}))}return[]})),d=function(e){return e.map&&e.map.present&&e.map.present.info&&e.map.present.info.name||""},v=function(e){return(0,i.get)(c(e),"eventListeners.mousemove",[])},O=function(e){return!!v(e).length},E=function(e){return v(e).includes("mouseposition")},x=function(e){return v(e).includes("identifyFloatingTool")}},8439:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .mapToolbar .mapstore-tb-helpbadge {\r\n    display: block;\r\n    background-color: #777;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    top : -10px;\r\n    left: -10px;\r\n}\r\n\r\n\r\n.msgapi #helpbadge-zoomToMaxExtent {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 34px;\r\n    top: 72px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 116px;\r\n    bottom: 48px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-seachBar {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 46px;\r\n    top: 10px;\r\n    z-index: 100000\r\n}\r\n\r\n\r\n.msgapi .btn .badge {\r\n    position: absolute;\r\n    top: -10px;\r\n    left: -10px;\r\n}\r\n\r\n.msgapi .themed .btn .badge {\r\n    top: -35px;\r\n    left: -50px;\r\n}\r\n\r\n.msgapi .badge {\r\n    cursor: pointer;\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    left: 0 !important;\r\n}\r\n\r\n.msgapi #mapstore-navbar #helpbadge-search-help {\r\n    position: absolute;\r\n    left: -10px;\r\n    bottom: -8px;\r\n    z-index: 1;\r\n}\r\n",""])},85488:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mapstore-scalebox {\r\n    /*z-index: 10;\r\n    bottom: 6px;\r\n    left: -2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n\r\n.msgapi #mapstore-scalebox-container {\r\n    /*z-index: 10;\r\n    bottom: -16px;\r\n    right: 55px;\r\n    left: auto;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n",""])},41165:(e,t,n)=>{var r=n(8439);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},87231:(e,t,n)=>{var r=n(85488);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);