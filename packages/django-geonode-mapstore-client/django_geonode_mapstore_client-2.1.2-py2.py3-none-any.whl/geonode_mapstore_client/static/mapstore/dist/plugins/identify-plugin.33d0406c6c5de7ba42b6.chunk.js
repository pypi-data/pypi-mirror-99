(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[127],{42780:(e,t,n)=>{"use strict";n.d(t,{g:()=>r}),n(96486);var r=function(){return{type:"ANNOTATIONS:CLOSE"}}},81808:(e,t,n)=>{"use strict";n.d(t,{eD:()=>r,AM:()=>o,ok:()=>a,Gg:()=>i,nT:()=>l,TL:()=>s,KS:()=>c,EB:()=>u,DZ:()=>f,Aw:()=>d,V_:()=>p,H0:()=>m,jW:()=>y,JZ:()=>b,fQ:()=>g,HK:()=>v,YO:()=>h,I6:()=>O,$D:()=>P,SI:()=>w});var r="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",a="MAP_CONFIG_LOADED",i="MAP_CONFIG_LOAD_ERROR",l="MAP_LOAD_INFO",s="MAP_INFO_LOAD_START",c="MAP_INFO_LOADED",u="MAP_INFO_LOAD_ERROR",f="MAP:MAP_SAVE_ERROR",d="MAP:MAP_SAVED",p="MAP:RESET_MAP_SAVE_ERROR";function m(e,t,n){return{type:a,config:e,legacy:!!t,mapId:t,zoomToExtent:n}}function y(e,t){return{type:i,error:e,mapId:t}}function b(e,t,n,r,a){return{type:o,configName:e,mapId:t,config:n,mapInfo:r,overrideConfig:a}}function g(e,t){return{type:c,mapId:t,info:e}}function v(e,t){return{type:u,mapId:e,error:t}}function h(e){return{type:s,mapId:e}}function O(e){return{type:l,mapId:e}}var P=function(e){return{type:f,error:e}},w=function(e){return{type:d,resourceId:e}}},49243:(e,t,n)=>{"use strict";n.d(t,{y:()=>m});var r=n(96486),o=n(89255),a=n(7412),i=n(75875),l=n.n(i),s=n(90183);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=i.attachJSON,f=i.itemId,p=void 0===f?null:f,m=function(t){return o.Observable.defer((function(){return l().get(e,{params:t})}))},y=function(t){return(0,a.pf)(n,e,t)},b=(0,a.pf)(n,e,t)?y:m;return u&&"application/json"!==t.info_format&&"application/json"!==t.outputFormat?o.Observable.forkJoin(b(t),b(d(d({},t),{},{info_format:"application/json"})).map((function(e){return e.data})).catch((function(){return o.Observable.of({})}))).map((function(e){var t=c(e,2),n=t[0],o=t[1];return d(d({},n),{},{features:o&&o.features&&o.features.filter((function(e){return!!(0,r.isNil)(p)||e.id===p})),featuresCrs:o&&o.crs&&(0,s.parseURN)(o.crs)})})):b(t).map((function(e){return e.data})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:(0,r.isString)(e)?e:d(d({},e),{},{features:e.features&&e.features.filter((function(e){return!p||e.id===p}))}),features:e.features&&e.features.filter((function(e){return!p||e.id===p})),featuresCrs:e&&e.crs&&(0,s.parseURN)(e.crs)}}))}},21751:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IDENTIFY_POPUP:()=>h,default:()=>O});var r=n(67294),o=n.n(r),a=n(73014),i=n(11196),l=n(18093),s=n(33664),c=n(22222),u=n(7877),f=n(21914),d=n(42872),p=n(96486),m=n(79870),y=n(827),b=(0,l.compose)((0,s.connect)((0,c.P1)(u.Qf,(function(e){return{index:e}})),{setIndex:f.oO}),(0,l.defaultProps)({index:0,responses:[]})),g=(0,c.P1)([u.q7,u.o9,u.OK,u.us,u.x0,y.Mc,u.vR],(function(e,t,n,r,o,a,i){return{responses:e,validResponses:t,requests:n,format:r,showEmptyMessageGFI:o,missingResponses:(n||[]).length-(e||[]).length,renderEmpty:a,loaded:i}}));const v=(0,l.compose)((0,s.connect)(g),(0,l.defaultProps)({responses:[],container:function(e){var t=e.index,n=e.children;return o().createElement(o().Fragment,null,(0,p.isArray)(n)&&n[t]||n)},header:m.Z}),b,i.Yy,i.mI,(0,a.Z)((function(e){var t=e.loaded;return(0,p.isUndefined)(t)})))(d.Z);var h="identify";const O={identify:v}},75480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),o=n.n(r);const a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{display:"inline-block"}:t;return o().createElement("div",{style:n,className:"mapstore-inline-loader"})}},94745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n.n(r),a=n(30294),i=n(7472),l=n(80717),s=n(18093),c=n(19081),u=n.n(c),f=n(75480),d={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},p={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}};const m=(0,s.withState)("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,n=void 0!==t&&t,r=e.loading,s=e.loadingText,c=e.onClose,m=void 0===c?function(){}:c,y=e.title,b=void 0===y?"":y,g=e.clickOutEnabled,v=void 0===g||g,h=e.showClose,O=void 0===h||h,P=e.disabledClose,w=void 0!==P&&P,E=e.showFullscreen,I=void 0!==E&&E,j=e.fullscreenType,A=void 0===j?"full":j,C=e.buttons,M=void 0===C?[]:C,N=e.size,S=void 0===N?"":N,x=e.bodyClassName,R=void 0===x?"":x,_=e.children,F=e.draggable,z=void 0!==F&&F,D=e.fullscreenState,k=e.onFullscreen,T=e.fade,Z=void 0!==T&&T,L=e.fitContent,G=e.modalClassName,q=void 0===G?"":G,B=e.dialogClassName,V=void 0===B?"":B,U=e.enableFooter,H=void 0===U||U,K=d[S]||"",Y=I&&"expanded"===D&&p.className[A]||"",W=n?o().createElement("div",{className:"modal-fixed ".concat(q," ")+(z?"ms-draggable":"")},o().createElement(i.Z,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:v?m:function(){},containerClassName:"ms-resizable-modal",draggable:z,modal:!0,className:"modal-dialog modal-content"+K+Y+V+(L?" ms-fit-content":"")},o().createElement("span",{role:"header"},o().createElement("h4",{className:"modal-title"},o().createElement("div",{className:"ms-title"},b),I&&p.className[A]&&o().createElement(a.Glyphicon,{className:"ms-header-btn",onClick:function(){return k("expanded"===D?"collapsed":"expanded")},glyph:p.glyph[D][A]}),O&&m&&o().createElement(a.Glyphicon,{glyph:"1-close",className:"ms-header-btn",onClick:m,disabled:w}))),o().createElement("div",{role:"body",className:R},_),H&&o().createElement("div",{style:{display:"flex"},role:"footer"},o().createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},r?o().createElement(f.Z,null):null),o().createElement("div",{className:"ms-resizable-modal-loading-text"},r?s:null),o().createElement(l.Z,{buttons:M})))):null;return Z?o().createElement(u(),{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},W):W}))},9825:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H}),n(17097);var r=n(96486),o=n(27418),a=n.n(o),i=n(67294),l=n.n(i),s=n(30294),c=n(33664),u=n(18093),f=n(22222),d=n(1550),p=n(21914),m=n(42872),y=n(11196),b=n(96207),g=n(12587),v=n(57945),h=n(73014),O=n(87320),P=n(22694),w=n(46116),E=n(26125),I=n(31255),j=n(75110),A=n(8316),C=n(827),M=n(7877),N=n(55105),S=n(93152),x=n(37275),R=n(7412),_=n(4361),F=n(77674),z=n(81756);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=(0,f.zB)({enabled:function(e){return e.mapInfo&&e.mapInfo.enabled||e.controls&&e.controls.info&&e.controls.info.enabled||!1},responses:M.q7,validResponses:M.o9,requests:M.OK,format:M.us,map:C.Od,layers:j.l2,point:M.Bz,showModalReverse:function(e){return e.mapInfo&&e.mapInfo.showModalReverse},reverseGeocodeData:function(e){return e.mapInfo&&e.mapInfo.reverseGeocodeData},warning:function(e){return e.mapInfo&&e.mapInfo.warning},currentLocale:A.Pz,dockStyle:function(e){return(0,N.ic)(e,{height:!0})},formatCoord:function(e){return e.mapInfo&&e.mapInfo.formatCoord||x.ZP.getConfigProp("defaultCoordinateFormat")},showCoordinateEditor:function(e){return e.mapInfo&&e.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(e){return(0,M.x0)(e)},isEditingAllowed:I.nq,isCesium:S.c0,floatingIdentifyEnabled:function(e){return(0,C.Mc)(e)}}),L=(0,u.compose)((0,c.connect)((0,f.P1)(M.Qf,M.vR,(function(e){return e.browser&&e.browser.mobile}),(function(e,t,n){return{index:e,loaded:t,isMobile:n}})),{setIndex:p.oO})),G=(0,u.compose)(L,y.Yy,y.mI,(0,h.Z)((function(e){var t=e.loaded;return(0,r.isUndefined)(t)})))(m.Z),q=(0,u.defaultProps)({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:(0,R.wR)(),requests:[],responses:[],viewerOptions:{},viewer:G,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showMoreInfo:!0,showEdit:!1,position:"right",size:660,getToolButtons:F.Z,getFeatureButtons:_.Z,showFullscreen:!1,validResponses:[],validator:R.Te,zIndex:1050}),B=(0,u.compose)((0,c.connect)(Z,{purgeResults:p.g,closeIdentify:p.Mc,onSubmitClickPoint:p.sv,onToggleShowCoordinateEditor:p.RA,onChangeFormat:p.Zw,changeMousePointer:d.Mo,clearWarning:p.XP,hideMarker:p.aN,showRevGeocode:p.Pg,hideRevGeocode:p.u0,onEnableCenterToMarker:p.PM.bind(null,"enabled"),onEdit:p.am},(function(e,t,n){return k(k(k(k({},n),e),t),{},{enabled:e.enabled&&(e.isCesium||!n.showInMapPopup)&&!e.floatingIdentifyEnabled})})),(0,u.compose)((0,c.connect)((0,f.zB)({highlight:M.hs,currentFeature:M.IA,currentFeatureCrs:M.Kc}),{toggleHighlightFeature:p.MO,zoomToExtent:d.Px}),g.Z),(0,c.connect)((0,f.P1)(S.$v,(function(e){return{mapType:e}})),{},(function(e,t,n){var r=e.mapType,o=n.showHighlightFeatureButton;return k(k({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["showHighlightFeatureButton"])),{},{showHighlightFeatureButton:"openlayers"===r&&o})})),q,L,y.mI,(0,c.connect)((function(){}),{setShowInMapPopup:p.Y$}),b.P_)(v.Z),V=(0,c.connect)((function(e){return{infoFormat:(0,M.us)(e)}}),{onInfoFormatChange:p.ws})(O.Z),U=(0,c.connect)((function(e){return{trigger:(0,C.Mc)(e)?"hover":"click",hoverEnabled:(0,M.qK)(e)}}),{onSetMapTrigger:p.wm})(P.Z);const H={IdentifyPlugin:a()(B,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:l().createElement(s.Glyphicon,{glyph:"map-marker"}),help:l().createElement(z.Z,{msgId:"helptexts.infoButton"}),action:p.TM,selector:function(e){return{bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)}}},Settings:{tool:[l().createElement(V,{key:"featureinfoformat",label:l().createElement(z.Z,{msgId:"infoFormatLbl"})}),l().createElement(U,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:E.Z},epics:w.ZP}},55105:(e,t,n)=>{"use strict";n.d(t,{Nr:()=>c,ic:()=>u,CF:()=>f}),n(96486);var r=n(827),o=n(52259);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return e.maplayout&&e.maplayout.layout||{}},c=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){return i(i({},e),{},l({},t,n[t]))}),{})||{}},f=function(e){var t=(0,r.Od)(e),n=c(e);return n&&t&&t.size&&{left:(0,o.parseLayoutValue)(n.left,t.size.width),bottom:(0,o.parseLayoutValue)(n.bottom,t.size.height),right:(0,o.parseLayoutValue)(n.right,t.size.width),top:(0,o.parseLayoutValue)(n.top,t.size.height)}}},69842:(e,t,n)=>{"use strict";n.d(t,{vE:()=>a});var r=n(96486),o=n(22222);n(75110),n(8316),n(86638);var a=function(e){return(0,r.get)(e,"queryform.spatialField")};(0,o.P1)((function(e){return(0,r.get)(e,"queryform.attributePanelExpanded")}),(function(e){return(0,r.get)(e,"queryform.spatialPanelExpanded")}),(function(e){return(0,r.get)(e,"queryform.crossLayerExpanded")}),(function(e,t,n){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:n}}))},19081:(e,t,n)=>{"use strict";e.exports=n(1174)},55877:(e,t,n)=>{var r=n(23570),o=n(71171),a=o;a.v1=r,a.v4=o,e.exports=a},71171:(e,t,n)=>{var r=n(85217),o=n(45327);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var l=0;l<16;++l)t[a+l]=i[l];return t||o(i)}}}]);