(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4339],{62187:(t,e,n)=>{"use strict";n.d(e,{NH:()=>r,E7:()=>o,N7:()=>a,L9:()=>i,hQ:()=>c,NC:()=>u,c9:()=>l,up:()=>s,FZ:()=>f,Fi:()=>p,KB:()=>m,E0:()=>y,Q_:()=>d,hY:()=>b,wO:()=>v,sT:()=>h,wR:()=>g,h1:()=>P,hS:()=>O,zK:()=>S,VS:()=>k,oz:()=>E,FH:()=>w,XN:()=>T,Ym:()=>A});var r="PLAYBACK:START",o="PLAYBACK:PAUSE",a="PLAYBACK:STOP",i="PLAYBACK:SET_FRAMES",c="PLAYBACK:APPEND_FRAMES",u="PLAYBACK:FRAMES_LOADING",l="PLAYBACK:SET_CURRENT_FRAME",s="PLAYBACK:SELECT_PLAYBACK_RANGE",f="PLAYBACK:SETTINGS_CHANGE",p="PLAYBACK:TOGGLE_ANIMATION_MODE",m="PLAYBACK:ANIMATION_STEP_MOVE",y="PLAYBACK:UPDATE_METADATA",d={PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},b=function(){return{type:r}},v=function(){return{type:o}},h=function(){return{type:a}},g=function(t){return{type:i,frames:t}},P=function(t){return{type:l,frame:t}},O=function(t){return{type:c,frames:t}},S=function(t){return{type:u,loading:t}},k=function(t){return{type:s,range:t}},E=function(t,e){return{type:f,name:t,value:e}},w=function(){return{type:p}},T=function(t){return{type:m,direction:t}},A=function(t){var e=t.next,n=t.previous,r=t.forTime;return{type:y,forTime:r,next:e,previous:n}}},45869:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var r=n(67294),o=n.n(r),a=n(45697),i=n.n(a);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,t);var e,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(a){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function c(){return u(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var t=this;return o().createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},o().createElement("input",{type:"checkbox",disabled:this.props.disabled,checked:this.props.checked,onChange:function(){return t.props.onChange(!t.props.checked)}}),o().createElement("span",{onClick:function(){return t.props.onClick(!t.props.checked)},className:"m-slider"}))}}])&&l(e.prototype,n),c}(o().Component);m(y,"propTypes",{disabled:i().bool,className:i().string,checked:i().bool,onChange:i().func,onClick:i().func}),m(y,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}});const d=y},12346:(t,e,n)=>{"use strict";n.d(e,{Z:()=>N});var r=n(67294),o=n.n(r),a=n(45697),i=n.n(a),c=n(30294),u=n(45869),l=n(80717),s=n(5346);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(c,t);var e,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(a){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function c(){return p(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var t=this;return o().createElement(l.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o().createElement(s.Z,{msgId:"collapse"}):o().createElement(s.Z,{msgId:"expand"}),onClick:function(){return t.props.onClick(!t.props.checked)}}]})}}])&&m(e.prototype,n),c}(o().Component);v(h,"propTypes",{checked:i().bool,onClick:i().func}),v(h,"defaultProps",{checked:!1,onClick:function(){}});const g=h;var P=n(38560),O=n(82110);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?A(t):e}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I=function(){return o().createElement(P.Z,{className:"square-button-sm no-border switch-error"},o().createElement(c.Glyphicon,{glyph:"exclamation-mark",className:"text-danger"}))},_=function(){return o().createElement("div",{className:"switch-loading"},o().createElement(O.Z,{size:"small"}))},x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(s,t);var e,n,r,a,i=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=j(r);if(a){var n=j(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return T(this,t)});function s(){var t;k(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return C(A(t=i.call.apply(i,[this].concat(n))),"state",{}),t}return e=s,(n=[{key:"renderHeader",value:function(){var t=this,e=this.props.useToolbar?g:u.Z;return o().createElement("div",null,o().createElement("div",{className:"pull-left"},this.props.title||this.props.header),o().createElement("div",{className:"pull-right"},this.props.locked?null:o().createElement(e,{checked:this.props.expanded,onClick:function(e){t.props.onSwitch(e)}}),this.props.error?o().createElement(I,null):null,this.props.loading?o().createElement(_,null):null,this.props.buttons.length>0&&this.props.expanded&&o().createElement(l.Z,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return o().createElement(c.Panel,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&E(e.prototype,n),s}(o().Component);C(x,"propTypes",{header:i().node,title:i().oneOfType([i().string,i().node]),defaultExpanded:i().string,expanded:i().bool,onSwitch:i().func,locked:i().bool,buttons:i().array,loading:i().bool,error:i().any,errorMsgId:i().string,transitionProps:i().object,useToolbar:i().bool}),C(x,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1});const N=x},65295:(t,e,n)=>{"use strict";n.d(e,{Z:()=>k});var r=n(67294),o=n.n(r),a=n(96486),i=n(45697),c=n.n(i),u=n(30381),l=n.n(u),s=n(30294),f=n(15135),p=n(38560);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=(0,f.Z)(s.Glyphicon),S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(u,t);var e,n,r,i,c=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(i){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return v(this,t)});function u(){var t;y(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return P(h(t=c.call.apply(c,[this].concat(n))),"onUpdate",(function(e,n){var r=l()(t.props.date).utc(),o=n?l()(r).add(1,e):l()(r).subtract(1,e);o.isValid()&&!isNaN(o.toDate().getTime())&&t.props.onUpdate(o.toISOString())})),P(h(t),"onChange",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};if(""!==n){var o=l()(t.props.date).utc(),a=o["day"===e?"date":e]&&l()(o)["day"===e?"date":e](r(n));a.isValid()&&!isNaN(a.toDate().getTime())&&t.props.onUpdate(a.toISOString())}})),P(h(t),"getForm",(function(){var e=t.props.date&&l()(t.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:e&&e.date()},{name:"month",placeholder:"MM",readOnly:!0,value:e&&e.month(),format:function(t){return!(0,a.isNil)(t)&&""!==t&&l().monthsShort(t)},parseValue:function(t){return t-1}},{name:"year",placeholder:"YYYY",value:e&&e.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:e&&e.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:e&&e.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:e&&e.seconds()},{name:"separator",value:e&&e.utcOffset(),type:"separator",format:function(t){return"UTC "+(t>=0?"+":"-")+(0,a.padStart)(t/60,2,0)}}]})),t}return e=u,(n=[{key:"render",value:function(){var t=this,e=this.getForm();return o().createElement(s.Form,{className:"ms-inline-datetime ".concat(this.props.className),style:this.props.style},o().createElement(s.FormGroup,{controlId:"inlineDateTime"},this.props.glyph&&o().createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return t.props.clickable&&t.props.onIconClick(t.props.date,t.props.glyph)}},o().createElement(O,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),e.map((function(e){return"icon"===e.type&&o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(e.name)},o().createElement(O,{glyph:e.value}))||"separator"===e.type&&o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(e.name)},e.format&&e.format(e.value)||e.value)||o().createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(e.name)},t.props.showButtons&&o().createElement(p.Z,{bsSize:"xs",disabled:!t.props.date,onClick:function(){return t.onUpdate(e.name,!0)}},o().createElement(O,{glyph:"chevron-up"})),o().createElement(s.FormControl,{type:"text",readOnly:e.readOnly,placeholder:e.placeholder||e.name,disabled:!t.props.date,value:e.format&&e.format(e.value)||e.value,onChange:function(n){return t.onChange(e.name,n.target.value,e.parseValue)}}),t.props.showButtons&&o().createElement(p.Z,{bsSize:"xs",disabled:!t.props.date,onClick:function(){return t.onUpdate(e.name)}},o().createElement(O,{glyph:"chevron-down"})))}))))}}])&&d(e.prototype,n),u}(o().Component);P(S,"propTypes",{date:c().string,clickable:c().bool,onUpdate:c().func,onIconClick:c().func,glyph:c().string,style:c().object,className:c().string,tooltip:c().string,tooltipId:c().string,showButtons:c().bool}),P(S,"defaultProps",{date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""});const k=S},2576:(t,e,n)=>{"use strict";n.d(e,{Z:()=>P});var r=n(67294),o=n.n(r),a=n(73935),i=n.n(a),c=n(45697),u=n.n(c),l=n(30294),s=n(52595),f=n(50966);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(u,t);var e,n,r,a,c=(r=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(a){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return b(this,t)});function u(){return m(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"renderPopover",value:function(){return o().createElement(l.Popover,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var t=this;return o().createElement(l.Glyphicon,{ref:function(e){t.target=e},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var t=this,e=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return o().createElement("span",{className:"mapstore-info-popover"},this.props.trigger?o().createElement(f.Z,{trigger:e,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),o().createElement(s.Z,{placement:this.props.placement,show:!0,target:function(){return i().findDOMNode(t.target)}},this.renderPopover())])}}])&&y(e.prototype,n),u}(o().Component);h(g,"propTypes",{id:u().string,title:u().string,text:u().string,glyph:u().string,bsStyle:u().string,placement:u().string,left:u().number,top:u().number,trigger:u().oneOfType([u().array,u().bool])}),h(g,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]});const P=g},2001:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>R});var r=n(30381),o=n.n(r),a=n(96486),i=n(62187),c=n(57604),u=n(57676),l=n(80416),s=n(97395),f=n(85148),p=n(75982),m=n(76843),y=n(97291);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const v=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return function(r){return r.withLatestFrom(t.startWith(e)).filter((function(t){var e=d(t,2)[1];return n(e)})).map((function(t){return d(t,1)[0]}))}};var h=n(89919),g=n(96361),P=n(89255);function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(t,e)||k(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||k(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=20,C=function(t,e){return"".concat(t,"/").concat(e)},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,y.Li)(t()),r=(0,y.uy)(t()),o=(0,y.Ry)(t()),a=(0,m.KC)(t())||{},c=a.startPlaybackTime,u=a.endPlaybackTime,l=(0,m.dS)(t())===i.Q_.PLAY||(0,m.dS)(t())===i.Q_.PAUSE;return[o,r,"time",T({limit:j,time:c&&u&&l?C(c,u):void 0},e),(0,y.F3)(n)(t())]},_=function(t,e){if((0,y.uy)(t())){var n=(0,f.aK)((0,y.fP)(t()))(t()),r=(0,y.gB)(t());return"multidim-extension"!==(0,a.get)(r,"source.type")&&n&&n.length>0?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromValue,a=n.limit,i=void 0===a?j:a,c=(0,m.KC)(e())||{},u=c.startPlaybackTime,l=c.endPlaybackTime;return P.Observable.of(t.filter((function(t){return!u||!l||o()(t).isSameOrAfter(u)&&o()(t).isSameOrBefore(l)})).filter((function(t){return!r||o()(t).isAfter(r)})).slice(0,i))}(n,t,e):g.Ci.apply(void 0,S(I(t,e))).map((function(t){return t.DomainValues.Domain.split(",")}))}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fromValue,r=e.limit,a=void 0===r?j:r,i=e.sort,c=void 0===i?"asc":i,u=(0,m.z2)(t()),l=u.timeStep,s=u.stepUnit,p=o().duration(l,s),y=(0,m.KC)(t())||{},d=y.startPlaybackTime,b=y.endPlaybackTime,v=void 0!==n?n:d||(0,f.WT)(t())||(new Date).toString(),h=[];v!==n&&h.push(o()(v).toISOString());for(var g=0;g<a&&(v=o()(v).add("asc"===c?p:-1*p),!b||v.isBefore(b));g++)h.push(v.toISOString());return P.Observable.of(h)}(t,e)},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(e){var n=(0,f.AF)(t());return P.Observable.from(n.map((function(t){return(0,l.He)(t.id,{singleTile:!0})}))).concat(e).concat(P.Observable.from(n.map((function(t){return(0,l.He)(t.id,{singleTile:t.singleTile})}))))}},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.start,r=e.end;return n&&r&&(o()(t).isBefore(n)||o()(t).isAfter(r))};const R={retrieveFramesForPlayback:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,r=void 0===n?function(){}:n;return t.ofType(i.NH).exhaustMap((function(){return _(r,{fromValue:(0,m.KC)(r())&&(0,m.KC)(r()).startPlaybackTime&&(0,m.KC)(r()).endPlaybackTime?void 0:(0,f.WT)(r())}).map((function(t){return(0,i.wR)(t)})).let((0,h.hP)((0,i.zK)(!0),(0,i.zK)(!1)),(function(){return P.Observable.of((0,s.vU)({title:"There was an error retrieving animation",message:"Please contact the administrator"}),(0,i.sT)())})).let((0,h.hP)((0,u.aA)(!1,!0),(0,u.aA)(!1,!1))).concat(t.ofType(i.c9).filter((function(t){return t.frame%j==10})).switchMap((function(){return _(r,{fromValue:(0,m.yt)(r())}).map(i.hS).let((0,h.hP)((0,i.zK)(!0),(0,i.zK)(!1)))}))).takeUntil(t.ofType(i.N7,p.nk)).concat(P.Observable.of((0,u.aA)(!1,!1))).let(x(r))}))},updateCurrentTimeFromAnimation:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,r=void 0===n?function(){}:n;return t.ofType(i.c9).map((function(){return(0,m.Wq)(r())})).map((function(t){return t?(0,c.PZ)(t):(0,i.sT)()}))},timeDimensionPlayback:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,r=void 0===n?function(){}:n;return t.ofType(i.L9).exhaustMap((function(){return P.Observable.interval(1e3*(0,m.V3)(r())).startWith(0).let(v(t.ofType(i.NH,i.E7).map((function(t){return t.type===i.NH})))).map((function(){return(0,i.h1)((0,m.Np)(r())+1)})).merge(t.ofType(i.KB).map((function(t){var e=t.direction;return(0,i.h1)(Math.max(0,(0,m.Np)(r())+e))}))).concat(P.Observable.of((0,i.sT)())).takeUntil(t.ofType(i.N7,p.nk))}))},playbackToggleGuideLayerToFixedStep:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,r=void 0===n?function(){}:n;return t.ofType(i.Fi).exhaustMap((function(){return(0,y.uy)(r())?P.Observable.of((0,u.kq)(void 0)):P.Observable.of((0,u.kq)((0,a.get)((0,y.rV)(r()),"[0].id")))}))},playbackMoveStep:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,r=void 0===n?function(){}:n;return t.ofType(i.KB).filter((function(){return(0,m.dS)(r())!==i.Q_.PLAY})).switchMap((function(t){var e=t.direction,n=void 0===e?1:e,o=(0,m.rp)(r())||{},a=(0,f.WT)(r());return a&&o.forTime===a?P.Observable.of(n>0?o.next:o.previous):_(r,{limit:1,sort:n>0?"asc":"desc",fromValue:(0,f.WT)(r())}).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=O(t,1),n=e[0];return n}))})).filter((function(t){return!!t})).map((function(t){return(0,c.PZ)(t)}))},playbackCacheNextPreviousTimes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,r=void 0===n?function(){}:n;return t.ofType(c.mE,c.mD,u._V,i.N7,u.w).filter((function(){return(0,m.dS)(r())!==i.Q_.PLAY&&(0,m.dS)(r())!==i.Q_.PAUSE})).filter((function(){return(0,y.Li)(r())})).filter((function(t){return!!t})).switchMap((function(t){var e=t.time||(0,f.WT)(r());return P.Observable.forkJoin(g.Ci.apply(void 0,S(I(r,{sort:"asc",limit:1,fromValue:e}))).map((function(t){return t.DomainValues.Domain.split(",")})).map((function(t){return O(t,1)[0]})).catch((function(t){return t&&P.Observable.of(null)})),g.Ci.apply(void 0,S(I(r,{sort:"desc",limit:1,fromValue:e}))).map((function(t){return t.DomainValues.Domain.split(",")})).map((function(t){return O(t,1)[0]})).catch((function(t){return t&&P.Observable.of(null)}))).map((function(t){var n=O(t,2),r=n[0],o=n[1];return(0,i.Ym)({forTime:e,next:r,previous:o})}))}))},playbackFollowCursor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,r=void 0===n?function(){}:n;return t.ofType(c.mD).filter((function(t){return(t.type===c.mD||(0,m.dS)(r())===i.Q_.PLAY)&&N((0,f.WT)(r()),(0,y.YK)(r()))})).filter((function(){return(0,a.get)((0,m.z2)(r()),"following")})).switchMap((function(){return P.Observable.of((0,u.y3)((t=(0,f.WT)(r()),n=(e=(0,y.YK)(r())).start,a=e.end,i=o()(a).diff(o()(n)),{start:t,end:o()(t).add(i).toISOString()})));var t,e,n,a,i}))},playbackStopWhenDeleteLayer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,r=void 0===n?function(){}:n;return t.ofType(l.sb).filter((function(){return!(0,y.Li)(r())&&"PLAY"===(0,m.dS)(r())})).switchMap((function(){return P.Observable.of((0,i.sT)())}))}}},89919:(t,e,n)=>{"use strict";n.d(e,{hP:()=>u});var r=n(96486),o=n(89255);function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.startWith.apply(t,a(e))},u=function(t,e,n){return function(a){return(n?c(a,(0,r.castArray)(t)).catch(n):c(a,(0,r.castArray)(t))).concat(o.Observable.from((0,r.castArray)(e)))}}},79860:(t,e,n)=>{"use strict";n.d(e,{Z:()=>R});var r=n(67294),o=n.n(r),a=n(33664),i=n(22222),c=n(18093),u=n(97291),l=n(76843),s=n(62187),f=n(5346),p=n(80717),m=n(30381),y=n.n(m),d=n(57676),b=n(96486),v=n(30294),h=n(2576),g=n(65295),P=n(45869),O=n(12346),S=n(73378);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!(0,b.isNaN)(parseInt(t,10))){var r=parseInt(t,10);return e(r<1?1:r)}return n()}catch(t){return n(t)}},A=function(t){var e=t.startPlaybackTime,n=t.endPlaybackTime,r=y()(e).diff(n);return{startPlaybackTime:r>=0?n:e,endPlaybackTime:r>=0?e:n}};function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const I=(0,c.compose)((0,a.connect)((0,i.P1)(l.z2,u.Li,l.KC,(function(t,e,n){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({fixedStep:!e,playbackRange:n},t)})),{setPlaybackRange:s.VS,onSettingChange:s.oz,toggleAnimationMode:s.FH}),(0,c.compose)((0,a.connect)((0,i.P1)(u.YK,u.dJ,(function(t,e){return{layerRange:e,viewRange:t}})),{moveTo:d.y3}),(0,c.withHandlers)({toggleAnimationRange:function(t){var e=t.fixedStep,n=t.layerRange,r=t.viewRange,o=void 0===r?{}:r,a=t.setPlaybackRange,i=void 0===a?function(){}:a;return function(t){var r=e?o:n;r={startPlaybackTime:y()(r&&r.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:y()(r&&r.end||new Date).add(1,"days").toISOString()},i(t?r:void 0)}},setPlaybackToCurrentViewRange:function(t){var e=t.viewRange,n=void 0===e?{}:e,r=t.setPlaybackRange,o=void 0===r?function(){}:r;return function(){n.start&&n.end&&o({startPlaybackTime:y()(n.start).toISOString(),endPlaybackTime:y()(n.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(t){var e=t.setPlaybackRange,n=void 0===e?function(){}:e,r=t.layerRange;return function(){return r&&n({startPlaybackTime:r.start,endPlaybackTime:r.end})}}}),(0,c.withProps)((function(t){var e=t.playbackRange,n=t.fixedStep,r=t.moveTo,o=void 0===r?function(){}:r,a=t.setPlaybackToCurrentViewRange,i=void 0===a?function(){}:a,c=t.setPlaybackToCurrentLayerDataRange,u=void 0===c?function(){}:c;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:e.startPlaybackTime,end:e.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return i()}},{glyph:"1-layer",visible:!n,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return u()}}]}}))))((function(t){var e=t.following,n=t.frameDuration,r=t.timeStep,a=t.stepUnit,i=t.onSettingChange,c=void 0===i?function(){}:i,u=t.toggleAnimationMode,l=void 0===u?function(){}:u,s=t.toggleAnimationRange,p=void 0===s?function(){}:s,m=t.fixedStep,y=void 0!==m&&m,d=t.playbackRange,b=void 0===d?{}:d,k=t.setPlaybackRange,w=void 0===k?function(){}:k,j=t.playbackButtons,C=t.dateSelectorStyle,I=void 0===C?{padding:0,margin:0,border:"none"}:C,_=t.style,x=void 0===_?{}:_;return o().createElement("div",{className:"ms-playback-settings",style:x},o().createElement("h4",null,o().createElement(f.Z,{msgId:"timeline.settings.title"})),o().createElement(v.FormGroup,{controlId:"timelineSettings"},o().createElement(v.Form,{componentClass:"fieldset",inline:!0},o().createElement(v.ControlLabel,null,o().createElement(f.Z,{msgId:"timeline.settings.snapToGuideLayer"})," ",o().createElement(h.Z,{text:o().createElement(f.Z,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),o().createElement("span",null,o().createElement(P.Z,{checked:!y,onChange:function(){return l()}})))),o().createElement("h4",null,o().createElement(f.Z,{msgId:"playback.settings.title"})),o().createElement(v.FormGroup,{controlId:"frameDuration"},o().createElement(v.ControlLabel,null,o().createElement(f.Z,{msgId:"playback.settings.frameDuration"})),o().createElement(v.InputGroup,null,o().createElement(S.Z,{componentClass:"input",type:"number",value:n,onChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T(t,(function(t){c("frameDuration",t)}))}}),o().createElement(v.InputGroup.Addon,null,"s"))),o().createElement(v.ControlLabel,null,o().createElement(f.Z,{msgId:"playback.settings.step.label"})," ",o().createElement(h.Z,{text:o().createElement(f.Z,{msgId:"playback.settings.step.tooltip"})})),o().createElement(v.FormGroup,{controlId:"formPlaybackStep"},o().createElement(v.Form,{componentClass:"fieldset",inline:!0},o().createElement(S.Z,{disabled:!y,componentClass:"input",type:"number",style:{input:{maxWidth:120}},value:r,onChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T(t,(function(t){c("timeStep",t)}))}}),o().createElement(v.FormControl,{disabled:!y,componentClass:"select",value:a,onChange:function(t){var e=t.target;return c("stepUnit",(void 0===e?{}:e).value)}},o().createElement(f.Z,{msgId:"playback.settings.step.year",msgParams:{number:r||1}},(function(t){return o().createElement("option",{value:"years"},t)})),o().createElement(f.Z,{msgId:"playback.settings.step.week",msgParams:{number:r||1}},(function(t){return o().createElement("option",{value:"weeks"},t)})),o().createElement(f.Z,{msgId:"playback.settings.step.day",msgParams:{number:r||1}},(function(t){return o().createElement("option",{value:"days"},t)})),o().createElement(f.Z,{msgId:"playback.settings.step.hour",msgParams:{number:r||1}},(function(t){return o().createElement("option",{value:"hour"},t)})),o().createElement(f.Z,{msgId:"playback.settings.step.minute",msgParams:{number:r||1}},(function(t){return o().createElement("option",{value:"minutes"},t)})),o().createElement(f.Z,{msgId:"playback.settings.step.second",msgParams:{number:r||1}},(function(t){return o().createElement("option",{value:"seconds"},t)}))))),o().createElement(O.Z,{onSwitch:function(t){return p(t)},expanded:b.startPlaybackTime&&b.endPlaybackTime,title:o().createElement(f.Z,{msgId:"playback.settings.range.title"}),buttons:j},o().createElement(v.FormGroup,{controlId:"formPlaybackMode",style:{margin:10}},o().createElement(g.Z,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:b.startPlaybackTime,onUpdate:function(t){return w(A(E(E({},b),{},{startPlaybackTime:t})))},style:I,showButtons:!0}),o().createElement(g.Z,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:b.endPlaybackTime,onUpdate:function(t){return w(A(E(E({},b),{},{endPlaybackTime:t})))},style:I,showButtons:!0}))),o().createElement(v.FormGroup,{controlId:"formPlaybackFollowingMode"},o().createElement(v.Form,{componentClass:"fieldset",inline:!0},o().createElement(v.ControlLabel,null,o().createElement(f.Z,{msgId:"playback.settings.mode.following"})," ",o().createElement(h.Z,{text:o().createElement(f.Z,{msgId:"playback.settings.mode.followingDescription"})})),o().createElement("span",null,o().createElement(P.Z,{checked:e,onChange:function(t){return c("following",t)}})))))}));var _=(0,c.compose)((0,c.withState)("showSettings","onShowSettings",!1),(0,c.withState)("collapsed","setCollapsed",!0),(0,c.withProps)((function(t){var e=t.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return e(!0)}}]}}))),x=(0,i.P1)(l.dS,u.Li,l.rp,l.PF,(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return e?t===s.Q_.PLAY||t===s.Q_.PAUSE?r:{hasNext:!!n.next,hasPrevious:!!n.previous}:{hasNext:!0,hasPrevious:!0}})),N=(0,c.compose)((0,a.connect)(x,{stepMove:s.XN}),(0,c.withHandlers)({forward:function(t){var e=t.stepMove,n=void 0===e?function(){}:e;return function(){return n(1)}},backward:function(t){var e=t.stepMove,n=void 0===e?function(){}:e;return function(){return n(-1)}}}));const R=(0,c.compose)(_,N)((function(t){var e=t.status,n=t.statusMap,r=t.play,a=void 0===r?function(){}:r,i=t.forward,c=void 0===i?function(){}:i,u=t.backward,l=void 0===u?function(){}:u,s=t.pause,m=void 0===s?function(){}:s,y=t.stop,d=void 0===y?function(){}:y,b=t.hasPrevious,v=t.hasNext,h=t.showSettings,g=t.onShowSettings,P=void 0===g?function(){}:g,O=t.settingsStyle,S=void 0===O?{}:O;return o().createElement("div",{style:{display:"flex"}},e!==n.PLAY&&e!==n.PAUSE&&h&&o().createElement(I,{style:S}),o().createElement(p.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:l,disabled:!b,tooltip:o().createElement(f.Z,{msgId:"playback.backwardStep"})},{glyph:e===n.PLAY?"pause":"play",key:"play",active:e===n.PLAY||e===n.PAUSE,disabled:!v,bsStyle:e===n.PLAY||e===n.PAUSE?"success":"primary",onClick:function(){return e===n.PLAY?m():a()},tooltipId:v&&(e===n.PLAY?"playback.pause":e===n.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:e!==n.PLAY&&e!==n.PAUSE,onClick:d,tooltip:!(e!==n.PLAY&&e!==n.PAUSE)&&o().createElement(f.Z,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:c,disabled:!v,tooltip:v&&o().createElement(f.Z,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:e!==n.PLAY&&e!==n.PAUSE&&h?"success":"primary",active:(e!==n.PLAY||e!==n.PAUSE)&&!!h,disabled:e===n.PLAY||e===n.PAUSE,onClick:function(){return e!==n.PLAY&&P(!h)},tooltip:!(e===n.PLAY||e===n.PAUSE)&&o().createElement(f.Z,{msgId:"playback.settings.tooltip"})}]}))}))},37307:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(57604),o=n(80416),a=n(82904),i=n(61868),c=n(30381),u=n.n(c),l=n(96486);const s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.XV:return(0,i.t8)("data[".concat(e.dimension,"][").concat(e.layerId,"]"),e.data,t);case r.mE:return(0,i.t8)("currentTime",e.time,t);case r.at:return(0,i.t8)("offsetTime",e.offsetTime,t);case r.mD:if(t.offsetTime&&t.currentTime){var n=u()(t.offsetTime).diff(t.currentTime),c=u()(e.time).add(n);return(0,i.t8)("currentTime",e.time,(0,i.t8)("offsetTime",c.toISOString(),t))}return(0,i.t8)("currentTime",e.time,t);case o.sb:var s=(0,l.mapValues)(t.data,(function(t){return(0,l.pickBy)(t,(function(t,n){return n!==e.node}))}));return(0,i.t8)("data",s,t);case a.l:return(0,i.t8)("data",void 0,(0,i.t8)("currentTime",void 0,(0,i.t8)("offsetTime",void 0,t)));default:return t}}},32215:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(62187),o=n(82904),a=n(61868);function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u={timeStep:1,stepUnit:"days",frameDuration:2,following:!0};const l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:r.Q_.STOP,currentFrame:-1,settings:u},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.NH:return(0,a.t8)("status",r.Q_.PLAY,t);case r.E7:return(0,a.t8)("status",r.Q_.PAUSE,t);case r.N7:return(0,a.t8)("status",r.Q_.STOP,(0,a.t8)("currentFrame",-1,t));case r.L9:return(0,a.t8)("frames",e.frames,(0,a.t8)("currentFrame",-1,t));case r.NC:return(0,a.t8)("framesLoading",e.loading,t);case r.hQ:return(0,a.t8)("frames",[].concat(i(t.frames||[]),i(e.frames)),t);case r.c9:return(0,a.t8)("currentFrame",e.frame,t);case r.up:return(0,a.t8)("playbackRange",e.range,t);case r.FZ:return(0,a.t8)("settings[".concat(e.name,"]"),e.value,t);case r.E0:return(0,a.t8)("metadata",{next:e.next,previous:e.previous,forTime:e.forTime},t);case o.l:return(0,a.t8)("metadata",void 0,(0,a.t8)("framesLoading",void 0,(0,a.t8)("playbackRange",void 0,(0,a.t8)("frames",void 0,(0,a.t8)("currentFrame",-1,(0,a.t8)("status","STOP",(0,a.t8)("settings",u,t)))))));default:return t}}},76843:(t,e,n)=>{"use strict";n.d(e,{z2:()=>o,V3:()=>a,dS:()=>i,yt:()=>u,E2:()=>l,Np:()=>s,KC:()=>f,Wq:()=>p,rp:()=>m,PF:()=>y});var r=n(22222),o=function(t){return t&&t.playback&&t.playback.settings},a=function(t){return(o(t)||{}).frameDuration||5},i=function(t){return t&&t.playback&&t.playback.status},c=function(t){return t&&t.playback&&t.playback.frames},u=function(t){var e=c(t)||[];return e[e.length-1]},l=function(t){return t&&t.playback&&t.playback.framesLoading},s=function(t){return t&&t.playback&&t.playback.currentFrame},f=function(t){return function(t){return t&&t.playback&&t.playback.playbackRange}(t)},p=function(t){return(c(t)||[])[s(t)]},m=function(t){return t&&t.playback&&t.playback.metadata},y=(0,r.P1)(c,s,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return{hasNext:t[e+1],hasPrevious:t[e-1]}}))},97291:(t,e,n)=>{"use strict";n.d(e,{YK:()=>h,zb:()=>g,en:()=>P,cX:()=>O,__:()=>w,E2:()=>T,Li:()=>A,fP:()=>j,uy:()=>C,gB:()=>I,Ry:()=>_,m_:()=>x,dJ:()=>N,rV:()=>R,qJ:()=>L,pn:()=>D,F3:()=>Z});var r=n(96486),o=n(22222),a=n(84715),i=n(90183),c=n(55237),u=n(85148),l=n(827),s=n(75110);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=function(t){return(0,r.get)(t,"timeline.range")},g=function(t){return(0,r.get)(t,"timeline.settings.collapsed")},P=function(t){return(0,r.get)(t,"timeline.settings.autoSelect")},O=function(t){return(0,r.get)(t,"timeline.settings.mapSync")},S=function(t,e){return(t||[]).reduce((function(t,n){return[].concat(y(t),y(function(t,e){var n=d(t.split("/"),3),r=n[0],o=n[1],a=n[2];if(a&&"0"!==a){var i=(0,c.Xu)({start:r,end:o,duration:a},e),u=i.count,l=i.start,s=i.end;return u>50?[{start:r,end:o,duration:a,type:"range",content:"".concat(u," items")}]:(0,c.tr)({start:l,end:s,duration:a}).map((function(t){return{start:new Date(t),end:new Date(t),type:"point"}}))}return isNaN(new Date(r).getTime())?null:[{start:new Date(r),end:new Date(o||r),type:o?"range":"point"}]}(n,e)))}),[]).filter((function(t){return t&&t.start}))},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(t.domain&&t.domain.values)return S(t.domain.values,e);if(t.histogram&&t.histogram.domain&&t.histogram.values){var n=t.histogram.domain.split("/"),r=d(n,3),o=r[0],a=r[1],i=r[2],u=Math.max.apply(Math,y(t.histogram.values)),l=(0,c.jb)({start:o,end:a,duration:i});return t.histogram.values.map((function(t,e){return p(p({},l[e]),{},{type:"range",itemType:"histogram",count:t,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*t/u,'%"></div> <span class="histogram-count">').concat(t,"</span></div>")})}))}return[]},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t&&t.values||t&&t.domain&&!(0,c._q)(t.domain)?S(t.values||t.domain.split(","),e):n&&n.histogram?k(n,e):[]},w=(0,a.y)(u.m$,h,(function(t){return(0,r.get)(t,"timeline.rangeData")}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y(Object.keys(t).map((function(r){return E(t[r],e,n[r]).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(p({content:" "},t),{},{group:r})}))})).reduce((function(t,e){return[].concat(y(t),y(e))}),[]))})),T=function(t){return(0,r.get)(t,"timeline.loading")},A=function(t){return(0,r.get)(t,"timeline.selectedLayer")},j=function(t){return(0,s.CA)(t,A(t))},C=function(t){return j(t)&&j(t).name},I=function(t){return j(t)&&j(t).dimensions&&(0,r.head)(j(t).dimensions.filter((function(t){return"time"===t.name})))},_=function(t){return(0,r.get)(I(t),"source.url")},x=(0,o.P1)(u.WT,u.ns,(function(t,e){return{start:t,end:e}})),N=function(t){return(0,u.oP)(t,A(t))},R=u.AF,L=(0,o.P1)(R,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length>0})),D=function(t){return!g(t)&&L(t)},Z=function(t){return function(e){var n=((0,l.Od)(e)||{}).bbox;if(!n)return{};var o=(0,u.Qw)(t,"time")(e),a=(0,r.get)(o,"source.version"),c=Object.keys(n.bounds).reduce((function(t,e){return p(p({},t),{},m({},e,parseFloat(n.bounds[e])))}),{});if(!c||!O(e))return{};if("1.1"!==a){var s=(0,u.Qw)(t,"space")(e),f=(0,r.get)(s,"domain.CRS");if(!f||!c||!O(e))return{};var y=d((0,i.reprojectBbox)(c,(0,l.uy)(e),f),4),b=y[0],v=y[1],h=y[2],g=y[3];return h<b&&"EPSG:4326"===f&&(h+=360),{bbox:"".concat(b,",").concat(v,",").concat(h,",").concat(g),crs:f}}var P=c.minx,S=c.miny,k=c.maxx,E=c.maxy,w=n.crs;return{bbox:"".concat(P,",").concat(S,",").concat(k,",").concat(E,",").concat(w)}}}},84715:(t,e,n)=>{"use strict";n.d(e,{y:()=>c,o:()=>u});var r=n(96486),o=n(22222),a=function(t,e){return t===e},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return function(e,n){return Array.isArray(e)&&Array.isArray(n)?e===n||e.length===n.length&&e.reduce((function(e,r,o){return e&&t(r,n[o])}),!0):(0,r.isObject)(e)&&(0,r.isObject)(n)?e===n||Object.keys(e).length===Object.keys(n).length&&Object.keys(e).reduce((function(r,o){return r&&t(e[o],n[o])}),!0):e===n}},c=(0,o.wN)(o.PW,(function(t,e){return(0,r.isEqualWith)(t,e,i())})),u=function(t){return(0,o.wN)(o.PW,(function(e,n){return(0,r.isEqualWith)(e,n,i(t))}))}}}]);