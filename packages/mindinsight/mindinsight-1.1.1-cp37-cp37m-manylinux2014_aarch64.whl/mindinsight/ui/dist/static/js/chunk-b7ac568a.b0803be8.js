(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7ac568a"],{"0681":function(e,t,i){e.exports=i.p+"static/img/graph-step3-en.91fc058d.svg"},"0bf4":function(e,t,i){var s={"./graph-step2-en.svg":"9446","./graph-step2.svg":"3ec2"};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id="0bf4"},1390:function(e,t,i){var s={"./graph-step3-en.svg":"0681","./graph-step3.svg":"c222"};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id="1390"},"2cd9":function(e,t,i){e.exports=i.p+"static/img/virtual-node.09ce0c16.svg"},"3ec2":function(e,t,i){e.exports=i.p+"static/img/graph-step2.b46dacf6.svg"},"45fc":function(e,t,i){"use strict";var s=i("23e7"),a=i("b727").some,n=i("a640"),o=i("ae40"),l=n("some"),r=o("some");s({target:"Array",proto:!0,forced:!l||!r},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(e,t,i){"use strict";var s=i("23e7"),a=i("b727").filter,n=i("1dde"),o=i("ae40"),l=n("filter"),r=o("filter");s({target:"Array",proto:!0,forced:!l||!r},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"65dc":function(e,t,i){e.exports=i.p+"static/img/graph-stepimg1.0a7ae664.svg"},"68fa":function(e,t,i){e.exports=i.p+"static/img/graph-stepimg3.bc1dc1d7.svg"},9392:function(e,t,i){e.exports=i.p+"static/img/graph-step1-en.f1f6a124.svg"},9446:function(e,t,i){e.exports=i.p+"static/img/graph-step2-en.ff55d634.svg"},a2b1:function(e,t,i){var s={"./graph-stepimg1.svg":"65dc","./graph-stepimg2.svg":"d5a6","./graph-stepimg3.svg":"68fa"};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id="a2b1"},a434:function(e,t,i){"use strict";var s=i("23e7"),a=i("23cb"),n=i("a691"),o=i("50c4"),l=i("7b0b"),r=i("65f0"),c=i("8418"),h=i("1dde"),d=i("ae40"),g=h("splice"),u=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!g||!u},{splice:function(e,t){var i,s,h,d,g,u,w=l(this),C=o(w.length),N=a(e,C),y=arguments.length;if(0===y?i=s=0:1===y?(i=0,s=C-N):(i=y-2,s=m(p(n(t),0),C-N)),C+i-s>f)throw TypeError(v);for(h=r(w,s),d=0;d<s;d++)g=N+d,g in w&&c(h,d,w[g]);if(h.length=s,i<s){for(d=N;d<C-s;d++)g=d+s,u=d+i,g in w?w[u]=w[g]:delete w[u];for(d=C;d>C-s+i;d--)delete w[d-1]}else if(i>s)for(d=C-s;d>N;d--)g=d+s-1,u=d+i-1,g in w?w[u]=w[g]:delete w[u];for(d=0;d<i;d++)w[d+N]=arguments[d+2];return w.length=C-s+i,h}})},a71e:function(e,t,i){},c222:function(e,t,i){e.exports=i.p+"static/img/graph-step3.dc430e83.svg"},c2ee:function(e,t,i){"use strict";i("a71e")},c37b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAPCAYAAABgHgh7AAAAAXNSR0IArs4c6QAAAR1JREFUWAnt1zEOgjAUBmDboC5sXMPJg7B4hwLHMG4muhIaFidmvYST7p7DsUnxYVJsG0pb52di6Ov7fcOXQnCxwE+QQNu2m6CgFaJWjaVDQAhxr+v62jTN1hGZ3EbgSRbnZi6lfMRAI7DTcrYRDI3As47ephcagb2GQQEnNIGHNoMRS2sML4pCYO/n0vf9Gb4ry8lV3iilezB8JvDQPkEq1ZNZll2gFtgzXXQjz3o40Tkc0GNCCOEQXus/SNNUDDX2DBcGJ9i+03U2ff2C4sAY64i+i2u3ALyavaFr3OkT6S9sWZYdHE459JOJEG7FCxiwVVWNExB4pPhr4YRV0xBYScRdvbBqHAIribBrMGzYOEyNApzzHbxFRP8x+wD6ZuTZmwHa4gAAAABJRU5ErkJggg=="},cd85:function(e,t,i){"use strict";i.r(t);var s,a,n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cl-graph-manage"},[s("div",{staticClass:"graph-p32"},[e.guide.show?s("div",{staticClass:"guide-content"},[s("el-popover",{ref:"popover",style:{position:"absolute",top:e.guide.top,left:e.guide.left},attrs:{placement:"top-start",title:e.guide.title,width:"370"},model:{value:e.guide.show,callback:function(t){e.$set(e.guide,"show",t)},expression:"guide.show"}},[s("i",{staticClass:"el-icon-close",on:{click:e.closeUserGuide}}),e._l(e.guide.content,(function(t){return s("div",{key:t,staticClass:"guide-span"},[e._v(e._s(t))])})),s("div",{staticClass:"step-pic"},[s("img",{attrs:{src:i("a2b1")("./graph-stepimg"+e.guide.step+".svg")}})]),s("el-button",{attrs:{type:"primary"},on:{click:e.guideNext}},[e._v(e._s(3===e.guide.step?e.$t("graph.finish"):e.$t("graph.next")))])],2),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.guide.step,expression:"guide.step == 1"}],staticClass:"step"},[s("img",{attrs:{src:i("ef7e")("./graph-step1"+("en-us"===e.language?"-en":"")+".svg"),alt:""}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.guide.step,expression:"guide.step == 2"}],staticClass:"step"},[s("img",{attrs:{src:i("0bf4")("./graph-step2"+("en-us"===e.language?"-en":"")+".svg"),alt:""}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:3==e.guide.step,expression:"guide.step == 3"}],staticClass:"step"},[s("img",{attrs:{src:i("1390")("./graph-step3"+("en-us"===e.language?"-en":"")+".svg"),alt:""}})])],1):e._e(),s("div",{staticClass:"cl-title cl-graph-title"},[s("div",{staticClass:"cl-title-left"},[e._v(" "+e._s(e.$t("graph.titleText"))+" "),s("div",{staticClass:"path-message"},[s("span",[e._v(e._s(e.$t("symbols.leftbracket")))]),s("span",[e._v(e._s(e.$t("trainingDashboard.summaryDirPath")))]),s("span",[e._v(e._s(e.summaryPath))]),s("span",[e._v(e._s(e.$t("symbols.rightbracket")))])]),s("span",{staticClass:"guide",on:{click:e.showUserGuide}},[s("i",{staticClass:"guide-icon"}),e._v(" "+e._s(e.$t("graph.guide"))+" ")])]),s("div",{staticClass:"cl-title-right"},[s("div",{staticClass:"cl-close-btn",on:{click:e.jumpToTrainDashboard}},[s("img",{attrs:{src:i("4d06")}})])])]),s("div",{staticClass:"cl-content"},[s("div",{attrs:{id:"graphs"}},[s("div",{staticClass:"cl-graph",class:e.fullScreen?"full-screen":""},[s("div",{staticClass:"graph-container",class:e.rightShow?"":"all"},[e.loading.show||Object.keys(e.allGraphData).length?e._e():s("div",{staticClass:"image-noData"},[s("div",[s("img",{attrs:{src:i("9485"),alt:""}})]),s("div",{staticClass:"noData-text"},[e._v(e._s(e.$t("public.noData")))])]),s("div",{staticClass:"operate-button-list"},[s("div",{staticClass:"full-screen-button",attrs:{title:e.$t("graph.fullScreen")},on:{click:e.toggleScreen}}),s("div",{staticClass:"download-button",attrs:{title:e.$t("graph.downloadPic")},on:{click:e.downLoadSVG}})]),s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading.show,expression:"loading.show",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"graph",attrs:{id:"graph","element-loading-background":"rgba(0, 0, 0, 0.3)","element-loading-text":e.loading.info}})]),s("div",{class:e.rightShow?"":"right-hide",attrs:{id:"sidebar"}},[s("div",{staticClass:"toggle-right",on:{click:e.toggleRight}},[s("i",{class:e.rightShow?"icon-toggle":"icon-toggle icon-left"})]),s("div",{staticClass:"sidebar-tooltip"},[s("el-tooltip",{attrs:{placement:"top",effect:"light"}},[s("div",{staticClass:"tooltip-container",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"cl-graph-sidebar-tip"},[e._v(" "+e._s(e.$t("graph.sidebarTip"))+" ")])]),s("i",{staticClass:"el-icon-info"})])],1),s("el-select",{staticClass:"search",attrs:{"popper-append-to-body":!1},on:{change:e.fileChange,"visible-change":e.getSelectList},model:{value:e.fileSearchBox.value,callback:function(t){e.$set(e.fileSearchBox,"value",t)},expression:"fileSearchBox.value"}},e._l(e.fileSearchBox.suggestions,(function(e){return s("el-option",{key:e.value,attrs:{title:e.value,label:e.value,value:e.value}})})),1),s("div",{staticClass:"search-wrap"},[s("el-input",{staticClass:"search",attrs:{placeholder:e.$t("graph.inputNodeName"),clearable:""},on:{input:e.filterChange},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchNodesNames(t)}},model:{value:e.searchBox.value,callback:function(t){e.$set(e.searchBox,"value",t)},expression:"searchBox.value"}},[s("el-button",{staticClass:"collapse_i",attrs:{slot:"append"},on:{click:function(t){e.treeWrapFlag=!e.treeWrapFlag}},slot:"append"},[e.treeWrapFlag?s("i",{staticClass:"el-icon-caret-top"}):s("i",{staticClass:"el-icon-caret-bottom"})])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.treeWrapFlag,expression:"treeWrapFlag"}],staticClass:"tree-wrap"},[s("el-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeFlag,expression:"treeFlag"}],ref:"tree",attrs:{props:e.props,load:e.loadNode,"node-key":"name","expand-on-click-node":!1,lazy:!0,"highlight-current":!0},on:{"node-collapse":e.nodeCollapse,"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return s("span",{staticClass:"custom-tree-node"},[s("span",["name_scope"===n.type?s("img",{staticClass:"image-type",attrs:{src:i("9b3c")}}):"Const"===n.type?s("img",{staticClass:"image-type",attrs:{src:i("3325")}}):"aggregation_scope"===n.type?s("img",{staticClass:"image-type",attrs:{src:i("3e9a")}}):s("img",{staticClass:"image-type",attrs:{src:i("5185")}})]),s("span",{staticClass:"custom-tree-node"},[e._v(e._s(a.label))])])}}])}),s("el-tree",{directives:[{name:"show",rawName:"v-show",value:!e.treeFlag,expression:"!treeFlag"}],ref:"searchTree",attrs:{props:e.defaultProps,load:e.loadSearchNode,lazy:!0,"node-key":"name","expand-on-click-node":!1},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return s("span",{staticClass:"custom-tree-node"},[s("span",["name_scope"===n.type?s("img",{staticClass:"image-type",attrs:{src:i("9b3c")}}):"Const"===n.type?s("img",{staticClass:"image-type",attrs:{src:i("3325")}}):"aggregation_scope"===n.type?s("img",{staticClass:"image-type",attrs:{src:i("3e9a")}}):s("img",{staticClass:"image-type",attrs:{src:i("5185")}})]),s("span",{staticClass:"custom-tree-node"},[e._v(e._s(a.label))])])}}])})],1)],1),e._m(0),s("div",{class:e.showLegend?"node-info-con node-info-container":"node-info-con node-info-container-long"},[s("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("graph.nodeInfo"))+" "),s("img",{attrs:{src:i("e08c"),fun:"fold",hidden:"",alt:""}}),s("img",{attrs:{src:i("30d6"),fun:"fold",hidden:"",alt:""}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedNode.show,expression:"selectedNode.show"}],staticClass:"node-info"},[s("div",{staticClass:"items"},[s("div",{staticClass:"label item"},[e._v(e._s(e.$t("graph.name")))]),s("div",{staticClass:"value"},[s("span",{staticClass:"cl-display-block",on:{dblclick:e.nodeNameClick}},[e._v(e._s(e.selectedNode.title))])])]),e.selectedNode.countShow?s("div",{staticClass:"items"},[s("div",{staticClass:"label item"},[e._v(e._s(e.$t("graph.count")))]),s("div",{staticClass:"value items-over"},[e._v(e._s(e.selectedNode.count))])]):e._e(),e.selectedNode.countShow?e._e():s("div",{staticClass:"items"},[s("div",{staticClass:"label item"},[e._v(e._s(e.$t("graph.type")))]),s("div",{staticClass:"value items-over"},[e._v(e._s(e.selectedNode.type))])]),e.selectedNode.countShow?e._e():s("div",{staticClass:"items itemHeight"},[s("div",{staticClass:"item"},[e._v(" "+e._s(e.$t("graph.attr"))+" ("+e._s(e.selectedNode.info.attributes.length)+") ")])]),e.selectedNode.info&&!e.selectedNode.countShow?s("ul",{staticClass:"item-content hover",class:e.selectedNode.info.attributes.length>2?"item-min2":e.selectedNode.info.attributes.length>0?"item-min":""},e._l(e.selectedNode.info.attributes,(function(t){return s("li",{key:t.name},[s("div",{staticClass:"key"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"input cl-input-value"},[s("pre",[e._v(e._s(t.value))])])])})),0):e._e(),s("div",{staticClass:"items itemHeight"},[s("div",{staticClass:"item"},[e._v(" "+e._s(e.$t("graph.inputs"))+" ( "+e._s(e.selectedNode.info.input.length+e.selectedNode.info.inputControl.length)+") ")])]),e.selectedNode.info?s("ul",{staticClass:"item-content hover",class:e.selectedNode.info.input.length>1?"item-min2":e.selectedNode.info.input.length>0?"item-min":""},[e._l(e.selectedNode.info.input,(function(t){return s("li",{key:t.$index,staticClass:"pointer",on:{click:function(i){return e.querySingleNode({value:t.name})}}},[s("div",{staticClass:"input"},[e._v(e._s(t.name))]),s("div",{staticClass:"size"},[e._v(e._s(t.value))]),s("div",{staticClass:"clear"})])})),e.selectedNode.info&&e.selectedNode.info.inputControl.length?s("li",{staticClass:"control-list"},[s("div",{staticClass:"dependence-title",class:e.selectedNode.showControl.input?"":"hide",on:{click:function(t){return e.toggleControl("input")}}},[s("img",{attrs:{src:i("30d6"),alt:""}}),e._v(" "+e._s(e.$t("graph.controlDependencies"))+" ")]),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.selectedNode.showControl.input,expression:"selectedNode.showControl.input"}]},e._l(e.selectedNode.info.inputControl,(function(t){return s("li",{key:t.$index,staticClass:"pointer",on:{click:function(i){return e.querySingleNode({value:t.name})}}},[s("div",{staticClass:"input"},[e._v(e._s(t.name))]),s("div",{staticClass:"size"},[e._v(e._s(t.value))]),s("div",{staticClass:"clear"})])})),0)]):e._e()],2):e._e(),s("div",{staticClass:"items"},[s("div",{staticClass:"item"},[e._v(" "+e._s(e.$t("graph.outputs"))+" ( "+e._s(e.selectedNode.info.output.length+e.selectedNode.info.outputControl.length)+") ")])]),e.selectedNode.info?s("ul",{staticClass:"item-content hover",class:e.selectedNode.info.output.length>1?"item-min2":e.selectedNode.info.output.length>0?"item-min":""},[e._l(e.selectedNode.info.output,(function(t){return s("li",{key:t.$index,staticClass:"pointer",on:{click:function(i){return e.querySingleNode({value:t.name})}}},[s("div",{staticClass:"input"},[e._v(e._s(t.name))]),s("div",{staticClass:"size"},[e._v(e._s(t.value))]),s("div",{staticClass:"clear"})])})),e.selectedNode.info&&e.selectedNode.info.outputControl.length?s("li",{staticClass:"control-list"},[s("div",{staticClass:"dependence-title",class:e.selectedNode.showControl.output?"":"hide",on:{click:function(t){return e.toggleControl("output")}}},[s("img",{attrs:{src:i("30d6"),alt:""}}),e._v(" "+e._s(e.$t("graph.controlDependencies"))+" ")]),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.selectedNode.showControl.output,expression:"selectedNode.showControl.output"}]},e._l(e.selectedNode.info.outputControl,(function(t){return s("li",{key:t.$index,staticClass:"pointer",on:{click:function(i){return e.querySingleNode({value:t.name})}}},[s("div",{staticClass:"input"},[e._v(e._s(t.name))]),s("div",{staticClass:"size"},[e._v(e._s(t.value))]),s("div",{staticClass:"clear"})])})),0)]):e._e()],2):e._e(),e.selectedNode.info&&0!==e.selectedNode.info.output_i?s("div",{staticClass:"items"},[s("div",{staticClass:"label item"},[e._v(e._s(e.$t("graph.outputs_i")))]),s("span",{staticClass:"value"},[e._v(e._s(e.selectedNode.info.output_i))])]):e._e()])]),e.fullScreen?e._e():s("div",{staticClass:"legend"},[s("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("graph.legend"))+" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!e.showLegend,expression:"!showLegend"}],attrs:{src:i("e08c"),alt:""},on:{click:e.foldLegend}}),s("img",{directives:[{name:"show",rawName:"v-show",value:e.showLegend,expression:"showLegend"}],attrs:{src:i("30d6"),alt:""},on:{click:e.foldLegend}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showLegend,expression:"showLegend"}],staticClass:"legend-content"},[s("div",{staticClass:"legend-item"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:i("9b3c"),alt:""}})]),s("div",{staticClass:"legend-text",attrs:{title:e.$t("graph.nameSpace")}},[e._v(" "+e._s(e.$t("graph.nameSpace"))+" ")])]),s("div",{staticClass:"legend-item"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:i("3e9a"),alt:""}})]),s("div",{staticClass:"legend-text",attrs:{title:e.$t("graph.polymetric")}},[e._v(" "+e._s(e.$t("graph.polymetric"))+" ")])]),s("div",{staticClass:"legend-item"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:i("2cd9"),alt:""}})]),s("div",{staticClass:"legend-text",attrs:{title:e.$t("graph.virtualNode")}},[e._v(" "+e._s(e.$t("graph.virtualNode"))+" ")])]),s("div",{staticClass:"legend-item"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:i("5185"),alt:""}})]),s("div",{staticClass:"legend-text",attrs:{title:e.$t("graph.operatorNode")}},[e._v(" "+e._s(e.$t("graph.operatorNode"))+" ")])]),s("div",{staticClass:"legend-item"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:i("3325"),alt:""}})]),s("div",{staticClass:"legend-text",attrs:{title:e.$t("graph.constantNode")}},[e._v(" "+e._s(e.$t("graph.constantNode"))+" ")])]),s("br"),s("div",{staticClass:"legend-item"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:i("7012"),alt:""}})]),s("div",{staticClass:"legend-text",attrs:{title:e.$t("graph.dataFlowEdge")}},[e._v(" "+e._s(e.$t("graph.dataFlowEdge"))+" ")])]),s("div",{staticClass:"legend-item"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:i("c37b"),alt:""}})]),s("div",{staticClass:"legend-text",attrs:{title:e.$t("graph.controllDepEdge")}},[e._v(" "+e._s(e.$t("graph.controllDepEdge"))+" ")])])])])],1)])])])])])},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"small-container"}},[i("div",{attrs:{id:"small-resize"}},[i("div",{attrs:{id:"small-map"}}),i("div",{attrs:{id:"inside-box"}})])])}],l=(i("99af"),i("4160"),i("caad"),i("c975"),i("e260"),i("a15b"),i("baa5"),i("d81d"),i("fb6a"),i("b0c0"),i("b64b"),i("d3b7"),i("ac1f"),i("2532"),i("3ca3"),i("5319"),i("1276"),i("159b"),i("ddb0"),i("2b3d"),i("5530")),r=i("2dd7"),c=i("3778"),h=i("5698"),d=(i("6d21"),i("8d38")),g={data:function(){return{smallResize:{},insideBox:{},eventSmall:{},clickSmall:!1}},methods:{initGraphRectData:function(){if(this.initSmallContainer(),this.graph.dom){var e="",t=this.graph.dom.attributes.transform||null;e=t?t.nodeValue.split(/[(,)]/):["translate","0","0"," scale","1"],this.graph.transform={k:parseFloat(e[4]),x:parseFloat(e[1]),y:parseFloat(e[2])};var i=this.graph.dom.getBoundingClientRect();this.graph.transRate=i.width/this.graph.dom.getBBox().width/this.graph.transform.k,this.graph.minScale=Math.min(this.svg.rect.width/2/i.width,this.svg.rect.height/2/i.height)*this.graph.transform.k,this.setInsideBoxData()}else this.insideBox.width=this.smallResize.width,this.insideBox.height=this.smallResize.height,this.insideBox.top=this.insideBox.left=0,this.styleSet("#inside-box",this.insideBox),this.insideBox.style.cursor="not-allowed";this.setSmallMapEvents()},setSmallMapEvents:function(){var e=this,t=document.querySelector("#small-container");this.graph.dom?(t.onmousedown=function(t){e.clickSmall=!0,e.insideBoxPositionChange(t)},document.onmouseup=function(t){e.clickSmall=!1},t.onmousemove=function(t){e.clickSmall&&e.insideBoxPositionChange(t)},t.onwheel=function(t){t=t||window.event;var i=t.wheelDelta?t.wheelDelta:-t.deltaY;if(!isNaN(e.graph.transform.k)&&0!==e.graph.transform.k){var s=i>0?1.2:1/1.2,a=e.graph.transform.k/s;a<=e.graph.minScale&&(a=e.graph.minScale,s=e.graph.transform.k/e.graph.minScale),e.graph.transform.k=Math.max(e.scaleRange[0],Math.min(a,e.scaleRange[1])),e.insideBox.scale=1/e.graph.transform.k,e.insideBox.left+=e.insideBox.width*(1-s)/2,e.insideBox.top+=e.insideBox.height*(1-s)/2,e.insideBox.height=e.insideBox.height*s,e.insideBox.width=e.insideBox.width*s,document.querySelector("#graph0").setAttribute("transform","translate(".concat(e.graph.transform.x,",").concat(e.graph.transform.y,") ")+"scale(".concat(e.graph.transform.k,")")),e.styleSet("#inside-box",e.insideBox),e.graphChange()}}):(document.onmouseup=null,t.onmousemove=null,t.onmousedown=null,t.onmousewheel=null)},initSmallContainer:function(){this.graph.dom=document.querySelector("#graph #graph0");var e=document.querySelector("#small-container"),t=document.querySelector("#small-resize");this.smallResize.width=this.smallResize.initWidth=e.offsetWidth-2,this.smallResize.height=this.smallResize.initHeight=e.offsetHeight-2,this.smallResize.left=this.smallResize.top=0,Object.keys(this.allGraphData).length&&(this.svg.originSize.width/this.svg.originSize.height<this.smallResize.initWidth/this.smallResize.initHeight?(this.smallResize.width=this.smallResize.initHeight*this.svg.originSize.width/this.svg.originSize.height,this.smallResize.left=(this.smallResize.initWidth-this.smallResize.width)/2):(this.smallResize.height=this.smallResize.initWidth*this.svg.originSize.height/this.svg.originSize.width,this.smallResize.top=(this.smallResize.initHeight-this.smallResize.height)/2)),this.styleSet("#small-resize",this.smallResize),this.smallResize.offsetLeft=t.getBoundingClientRect().left,this.smallResize.offsetTop=t.getBoundingClientRect().top;var i=document.querySelector("#small-map"),s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" '+'viewBox="0.00 0.00 '.concat(this.svg.originSize.width," ").concat(this.svg.originSize.height,'"')+'><g id="smallGraph" class="graph" transform="translate(4,'.concat(this.svg.originSize.height-4,') scale(1)"')+">".concat(this.graph.dom.innerHTML,"</g></svg>");i.innerHTML=s},insideBoxPositionChange:function(e){this.eventSmall.x=e.pageX-this.smallResize.offsetLeft,this.eventSmall.y=e.pageY-this.smallResize.offsetTop,this.insideBox.left=this.eventSmall.x-parseFloat(this.insideBox.width)/2,this.insideBox.top=this.eventSmall.y-parseFloat(this.insideBox.height)/2,this.styleSet("#inside-box",this.insideBox),this.graphChange()},graphChange:function(){this.graph.transform.x&&!isNaN(this.graph.transform.x)||this.initGraphRectData();var e=this.graph.dom.getBoundingClientRect(),t=this.svg.rect.width/this.insideBox.width,i={x:(this.insideBox.left*t-(this.svg.rect.left-e.left))/this.graph.transRate,y:(this.insideBox.top*t-(this.svg.rect.top-e.top))/this.graph.transRate};this.graph.transform.x-=i.x,this.graph.transform.y-=i.y,this.graph.dom.setAttribute("transform","translate(".concat(this.graph.transform.x,",").concat(this.graph.transform.y,") ")+"scale(".concat(this.graph.transform.k,")"))},setInsideBoxData:function(){var e=this.graph.dom.getBoundingClientRect(),t=e.width/this.smallResize.width;this.insideBox.left=(this.svg.rect.left-e.left)/t,this.insideBox.top=(this.svg.rect.top-e.top)/t,this.insideBox.width=this.svg.rect.width/t,this.insideBox.height=this.svg.rect.height/t,this.styleSet("#inside-box",this.insideBox)},styleSet:function(e,t){var i=document.querySelector(e);i.style.left="".concat(t.left,"px"),i.style.top="".concat(t.top,"px"),i.style.width="".concat(t.width,"px"),i.style.height="".concat(t.height,"px")}},destroyed:function(){document.onmouseup=null;var e=document.querySelector("#small-container");e&&(e.onmousemove=null,e.onmousedown=null,e.onmousewheel=null)}},u=g,p=i("2877"),m=Object(p["a"])(u,s,a,!1,null,null,null),f=m.exports,v={select:h["d"],selectAll:h["e"],zoom:h["f"]},w={mixins:[d["a"],f],data:function(){return{summaryPath:this.$route.query.summaryPath,graph:{},svg:{},allGraphData:{},firstFloorNodes:[],selectedNode:{info:{inputControl:[],input:[],outputControl:[],output:[],attributes:[]},showControl:{input:!0,output:!0}},trainJobID:"",nodesCountLimit:1500,maxChainNum:70,searchBox:{value:"",suggestions:[]},fileSearchBox:{value:"",suggestions:[]},showLegend:!0,loading:{show:!1,info:""},scaleRange:[.001,1e3],rightShow:!0,fullScreen:!1,graphviz:null,graphvizTemp:null,initOver:!1,guide:{show:!1,step:1,top:"0%",left:"0%",content:[this.$t("graph.guideContent11"),this.$t("graph.guideContent12"),this.$t("graph.guideContent13"),this.$t("graph.guideContent14")],title:""},language:"",defaultProps:{children:"nodes",label:"label",isLeaf:"leaf"},treeFlag:!0,props:{label:"label",children:"children",isLeaf:"leaf"},node:null,resolve:null,treeWrapFlag:!0,searchNode:null,searchResolve:null,isIntoView:!0}},computed:{},watch:{guide:{handler:function(e){1===e.step?(this.guide.top="20%",this.guide.left="48%"):2===e.step?(this.guide.top="47%",this.guide.left="62%"):3===e.step&&(this.guide.top="45%",this.guide.left="52%"),this.guide.title=this.$t("graph.guideTitle".concat(e.step))},deep:!0}},mounted:function(){var e=this;if(!this.$route.query||!this.$route.query.train_id)return this.trainJobID="",this.$message.error(this.$t("trainingDashboard.invalidId")),void(document.title="".concat(this.$t("graph.titleText"),"-MindInsight"));var t=window.localStorage.getItem("graphShowGuide");t||(this.guide.show=!0,window.localStorage.setItem("graphShowGuide",!0)),this.trainJobID=this.$route.query.train_id,this.language=window.localStorage.getItem("milang");var i=["zh-cn","en-us"];this.language&&i.includes(this.language)||(this.language=i[0],window.localStorage.setItem("milang",this.language)),document.title="".concat(decodeURIComponent(this.trainJobID),"-").concat(this.$t("graph.titleText"),"-MindInsight"),this.getDatavisualPlugins(),window.onresize=function(){e.graph.dom&&e.$nextTick((function(){setTimeout((function(){e.initSvg(!1),e.initGraphRectData()}),500)}))}},destroyed:function(){window.onresize=null},methods:{nodeExpandLinkage:function(e,t){var i=this,s=e.map((function(e){return Object(l["a"])({label:e.name.split("/").pop()},e)})),a=this.$refs.tree.getNode(t);s.forEach((function(e){i.$refs.tree.append(e,t)})),a.childNodes.forEach((function(e){"name_scope"!==e.data.type&&"aggregation_scope"!==e.data.type&&(e.isLeaf=!0)})),a.expanded=!0,a.loading=!1,this.$refs.tree.setCurrentKey(t),this.$nextTick((function(){setTimeout((function(){var e=document.querySelector(".el-tree-node.is-current.is-focusable");e&&i.rightShow&&e.scrollIntoView()}),800)}))},nodeCollapse:function(e,t){t.loaded=!1,this.treeFlag&&this.dealDoubleClick(t.data.name)},loadNode:function(e,t){var i=this;0===e.level?(e.childNodes=[],this.node||this.resolve||(this.node=e,this.resolve=t)):e.level>=1&&(this.isIntoView=!1,this.loading.info=this.$t("graph.queryLoading"),this.loading.show=!0,setTimeout((function(){i.queryGraphData(e.data.name,t)}),200))},loadSearchNode:function(e,t){if(0===e.level)e.childNodes=[],this.searchNode||this.searchResolve||(this.searchNode=e,this.searchResolve=t);else if(e.level>=1){var i={name:e.data.name,train_id:this.trainJobID,tag:this.fileSearchBox.value};if(e.childNodes&&e.childNodes.length)return e.expanded=!0,e.loaded=!0,void(e.loading=!1);c["a"].queryGraphData(i).then((function(e){if(e&&e.data&&e.data.nodes){var i=e.data.nodes.map((function(e){return Object(l["a"])({label:e.name.split("/").pop(),leaf:"name_scope"!==e.type&&"aggregation_scope"!==e.type},e)}));t(i)}}))}},dealSearchResult:function(e){var t=this;e.forEach((function(e){e.nodes&&t.dealSearchResult(e.nodes),e.label=e.name.split("/").pop()}))},filterChange:function(){var e=this;""===this.searchBox.value&&(this.treeFlag=!0,this.$nextTick((function(){setTimeout((function(){var t=document.querySelector(".el-tree-node.is-current.is-focusable");t&&e.rightShow&&t.scrollIntoView()}),800)})))},handleNodeClick:function(e){this.isIntoView=!1,this.selectedNode.name=e.name,this.treeFlag?this.selectNode(!0):this.querySingleNode({value:e.name})},afterInitGraph:function(){var e=this;setTimeout((function(){e.graphviz&&(e.graphviz._data=null,e.graphviz._dictionary=null,e.graphviz=null),e.graphvizTemp&&(e.graphvizTemp._data=null,e.graphvizTemp._dictionary=null,e.graphvizTemp=null)}),100),this.fitGraph("graph"),this.transplantChildrenDom();var t=document.querySelector("#subgraphTemp svg");t&&t.remove(),this.$nextTick((function(){e.loading.show=!1}));var i=v.select("#graph").selectAll("g.node, g.edge").nodes();i.forEach((function(e){if(e.hasAttribute("transform")||e.setAttribute("transform","translate(0,0)"),Array.prototype.includes.call(e.classList,"plain")){var t=e.querySelector("title");t.textContent=t.textContent.split("^")[0]}})),v.selectAll("g.edge>title").remove(),document.querySelector("#graph g#graph0 title").remove(),this.initGraphRectData(),this.startApp()},startApp:function(){var e=this,t=v.selectAll("g.node, g.cluster");t.on("click",(function(t,i,s){e.clickEvent(t,i,s,"graph")}),!1),t.on("dblclick",(function(t,i,s){e.dblclickEvent(t,i,s,"graph")}),!1),this.initZooming("graph"),this.selectedNode.name&&this.selectNode(!0)},dealDoubleClick:function(e){var t=this;this.loading.info=this.$t("graph.queryLoading"),this.loading.show=!0,this.$nextTick((function(){var i=500;setTimeout((function(){e=e.replace("_unfold",""),t.allGraphData[e].isUnfold?(t.selectedNode.name=e,t.deleteNamespace(e)):t.queryGraphData(e)}),i)}))},queryGraphData:function(e,t){var i=this,s=3500,a=!!this.allGraphData[e]&&this.allGraphData[e].independent_layout,n={name:e,train_id:this.trainJobID,tag:this.fileSearchBox.value};this.loading.info=this.$t("graph.queryLoading"),this.loading.show=!0,c["a"].queryGraphData(n).then((function(n){if(n&&n.data&&n.data.nodes){var o=e?i.nodesCountLimit:s;if(!a&&n.data.nodes.length>o)i.$message.error(i.$t("graph.tooManyNodes")),i.packageDataToObject(e,!1),i.loading.show=!1;else{var r=JSON.parse(JSON.stringify(n.data.nodes));if(r&&r.length)if(i.packageDataToObject(e,!0,r),e){if("aggregation_scope"===i.allGraphData[e].type&&(i.dealAggregationNodes(e),i.allGraphData[e].maxChainNum>i.maxChainNum))return i.$message.error(i.$t("graph.tooManyChain")),i.allGraphData[e].isUnfold=!0,i.selectedNode.name=e,i.loading.show=!1,void i.deleteNamespace(e);i.allGraphData[e].isUnfold=!0,i.selectedNode.name="".concat(e,"_unfold"),i.layoutNamescope(e,!0)}else{var c=i.packageGraphData();i.initGraph(c)}else i.initGraphRectData(),i.loading.show=!1;var h=n.data.nodes.map((function(e){return Object(l["a"])({label:e.name.split("/").pop(),leaf:"name_scope"!==e.type&&"aggregation_scope"!==e.type},e)}));e?t?t(JSON.parse(JSON.stringify(h))):i.nodeExpandLinkage(n.data.nodes,e):(i.node.childNodes=[],i.resolve(JSON.parse(JSON.stringify(h))))}}}),(function(e){i.loading.show=!1})).catch((function(t){i.loading.show=!1,t&&t.includes("larger than maximum 65535 allowed")?i.$message.error(i.$t("graph.dataTooLarge")):i.$bus.$emit("showWarmText",!0),e&&i.allGraphData[e]&&(i.allGraphData[e].isUnfold=!1,i.allGraphData[e].children=[],i.allGraphData[e].size=[],i.allGraphData[e].html="")}))},getDatavisualPlugins:function(){var e=this,t={train_id:this.trainJobID};c["a"].getDatavisualPlugins(t).then((function(t){if(e.fileSearchBox.suggestions=[],t&&t.data&&t.data.plugins&&t.data.plugins.graph&&t.data.plugins.graph.length){var i=t.data.plugins.graph,s=!1;i.forEach((function(t){e.fileSearchBox.suggestions.push({value:t}),s=t===e.fileSearchBox.value||s})),e.initOver?s||(e.fileSearchBox.value=""):(e.initOver=!0,e.fileSearchBox.value=i.length?i[0]:"",e.queryGraphData())}else e.initOver=!0})).catch((function(){e.fileSearchBox.suggestions=[],e.initOver=!0,e.loading.show=!1}))},deleteNamespace:function(e){this.loading.info=this.$t("graph.searchLoading"),this.loading.show=!0,this.selectedNode.more?(this.allGraphData[e].isUnfold=!0,this.selectedNode.name="".concat(e,"_unfold"),this.layoutNamescope(e,!0)):(this.packageDataToObject(e,!1),this.layoutController(e))},layoutController:function(e){if(this.loading.show||(this.loading.info=this.$t("graph.searchLoading"),this.loading.show=!0),e.includes("/")){var t=e.split("/").slice(0,-1).join("/");this.layoutNamescope(t,!0)}else{var i=document.querySelector("#graph svg");i&&i.remove();var s=this.packageGraphData();this.initGraph(s)}},selectNode:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.getSelection().removeAllRanges(),v.selectAll(".node polygon, .node ellipse, .node rect, .node path").classed("selected",!1);var i=this.selectedNode.name.split("^"),s={},a=i[0].replace("_unfold","");a=this.allGraphData[a].isUnfold?"".concat(a,"_unfold"):a,s.eld3=v.select('#graph g[id="'.concat(a,'"]')),s.el=s.eld3.node(),this.graph.dom.style.transition="";var n=i.length>1;(t||n)&&s.el&&this.selectNodePosition(a,n),s.eld3.select("polygon, rect, ellipse, path").classed("selected",!0),this.highlightProxyNodes(a.replace("_unfold","")),this.$refs.tree.setCurrentKey(a.replace("_unfold","")),this.isIntoView&&this.$nextTick((function(){setTimeout((function(){var t=document.querySelector(".el-tree-node.is-current.is-focusable");t&&e.rightShow&&t.scrollIntoView()}),800)})),this.isIntoView=!0,this.setNodeData()},setNodeData:function(){var e=this;this.selectedNode.info={input:[],inputControl:[],output:[],outputControl:[],attributes:[]},this.selectedNode.showControl={input:!0,output:!0};var t=this.selectedNode.name.split("^"),i=this.allGraphData[t[0].replace("_unfold","")];if(i&&!i.name.includes("more...")){this.selectedNode.show=!0,this.selectedNode.name=i.name,this.selectedNode.title=i.name.replace("_unfold",""),this.selectedNode.type="name_scope"===i.type||"aggregation_scope"===i.type?"":i.type,this.selectedNode.countShow="name_scope"===i.type||"aggregation_scope"===i.type,this.selectedNode.count=i.subnode_count;var s=JSON.parse(JSON.stringify(i.attr||{}));if(s.shape){var a=JSON.parse(s.shape);if(a.length){for(var n="",o=0;o<a.length;o++)n+=(n?",":"")+JSON.stringify(a[o]);s.shape=n}}this.selectedNode.info.attributes=Object.keys(s).map((function(e){return{name:e,value:s[e]}})),Object.keys(i.input).forEach((function(t){var s=e.getEdgeLabel(i.input[t]);"control"!==i.input[t].edge_type?e.selectedNode.info.input.push({name:t,value:s}):e.selectedNode.info.inputControl.push({name:t,value:s})})),Object.keys(i.output).forEach((function(t){var s=e.getEdgeLabel(i.output[t]);"control"!==i.output[t].edge_type?e.selectedNode.info.output.push({name:t,scope:i.output[t].scope,value:s}):e.selectedNode.info.outputControl.push({name:t,scope:i.output[t].scope,value:s})})),this.selectedNode.info.output_i=i.output_i,this.highLightEdges(i)}else this.selectedNode.show=!1,this.selectedNode.name="",this.selectedNode.title="",this.selectedNode.type=""},selectNodePosition:function(e,t){var i=this,s=document.querySelector('#graph0 g[id="'.concat(e,'"]')),a=s.getBoundingClientRect(),n={};n.rect=this.graph.dom.getBoundingClientRect(),n.initWidth=n.rect.width/this.graph.transform.k,n.initHeight=n.rect.height/this.graph.transform.k;var o={x:a.left+a.width/2-(this.svg.rect.left+this.svg.rect.width/2),y:a.top+a.height/2-(this.svg.rect.top+this.svg.rect.height/2)};this.graph.transform.x-=o.x*(this.svg.originSize.width/n.initWidth),this.graph.transform.y-=o.y*(this.svg.originSize.height/n.initHeight),this.graph.dom.setAttribute("transform","translate(".concat(this.graph.transform.x,",")+"".concat(this.graph.transform.y,") scale(").concat(this.graph.transform.k,")"));var l=Math.min(2*Math.abs(o.x),2*Math.abs(o.y),t?800:0);this.graph.dom.style.transition="".concat(l/1e3,"s"),this.graph.dom.style["transition-timing-function"]="linear",setTimeout((function(){i.graph.dom.style.transition=""}),l);var r=0;this.setInsideBoxData();var c=setInterval((function(){i.setInsideBoxData(),r+=1,r>l&&clearInterval(c)}),1)},selectBoxVisibleTriggle:function(e){setTimeout((function(){document.querySelector(".el-autocomplete-suggestion").style.display="blur"===e.type?"none":"block"}),300)},fileChange:function(){var e=this;this.selectedNode={info:{inputControl:[],input:[],outputControl:[],output:[],attributes:[]},showControl:{input:!0,output:!0}},this.clickScope={},this.searchBox.value="",Object.keys(this.allGraphData).forEach((function(t){delete e.allGraphData[t]})),v.select("#graph svg").remove(),this.firstFloorNodes=[],this.queryGraphData(),this.treeFlag=!0},getSelectList:function(e){e&&this.getDatavisualPlugins()},searchNodesNames:function(){var e=this,t={search:this.searchBox.value,train_id:this.trainJobID,tag:this.fileSearchBox.value,offset:0,limit:1e3};c["a"].searchNodesNames(t).then((function(t){if(t&&t.data){e.treeFlag=!1,e.treeWrapFlag=!0,e.searchNode.childNodes=[];var i=t.data.nodes.map((function(e){return Object(l["a"])({label:e.name.split("/").pop()},e)})),s=JSON.parse(JSON.stringify(i));s.forEach((function(e){e.nodes=[]})),e.searchResolve(s),i.forEach((function(t,i){t.nodes&&t.nodes.length&&(t.nodes.forEach((function(e){e.parentName=t.name})),e.dealSearchTreeData(t.nodes))}))}}),(function(t){e.loading.show=!1})).catch((function(t){e.$message.error(e.$t("public.dataError"))}))},dealSearchTreeData:function(e){var t=this;e.forEach((function(e){var i=t.$refs.searchTree.getNode(e.parentName);e.label=e.name.split("/").pop(),e.leaf="name_scope"!==e.type&&"aggregation_scope"!==e.type,t.$refs.searchTree.append(e,i),i.expanded=!0,e.nodes&&e.nodes.length&&(e.nodes.forEach((function(t){t.parentName=e.name})),t.dealSearchTreeData(e.nodes))}))},querySingleNode:function(e){var t=this;if(this.selectedNode.name=e.value,this.selectedNode.more=!1,this.allGraphData[e.value])if(v.select('g[id="'.concat(e.value,'"], g[id="').concat(e.value,'_unfold"]')).size())this.allGraphData[e.value].isUnfold?this.dealDoubleClick(e.value):this.selectNode(!0);else{var i=e.value.substring(0,e.value.lastIndexOf("/"));if(this.allGraphData[i]&&this.allGraphData[i].isUnfold){var s=this.allGraphData[i];if(s&&s.childIdsList)for(var a=0;a<s.childIdsList.length;a++)if(s.childIdsList[a].includes(e.value)){s.index=a;break}this.loading.info=this.$t("graph.searchLoading"),this.loading.show=!0,this.selectedNode.name=e.value,this.$nextTick((function(){setTimeout((function(){t.layoutNamescope(i,!0)}),500)}))}}else{var n={name:e.value,train_id:this.trainJobID,tag:this.fileSearchBox.value};this.loading.info=this.$t("graph.searchLoading"),this.loading.show=!0,c["a"].querySingleNode(n).then((function(i){if(i&&i.data&&i.data.children){var s=t.findStartUnfoldNode(i.data.children);s&&t.dealAutoUnfoldNamescopesData(s),!t.treeFlag&&i.data.children&&t.dealTreeData(i.data.children,e.value)}}),(function(e){t.loading.show=!1})).catch((function(e){t.loading.show=!1,t.$message.error(t.$t("public.dataError"))}))}},dealTreeData:function(e,t){var i=this;if(e.nodes){var s=e.nodes.map((function(e){return Object(l["a"])({label:e.name.split("/").pop()},e)}));s.forEach((function(t){var s=i.$refs.tree.getNode(e.scope_name);s.childNodes?-1===s.childNodes.map((function(e){return e.data.name})).indexOf(t.name)&&i.$refs.tree.append(t,s):i.$refs.tree.append(t,s)}));var a=this.$refs.tree.getNode(e.scope_name);a.childNodes.forEach((function(e){"name_scope"!==e.data.type&&"aggregation_scope"!==e.data.type&&(e.isLeaf=!0)})),a.expanded=!0,a.loading=!1}else this.$refs.tree.setCurrentKey(t),this.$nextTick((function(){setTimeout((function(){var e=document.querySelector(".el-tree-node.is-current.is-focusable");e&&i.rightShow&&e.scrollIntoView()}),800)}));e.children&&this.dealTreeData(e.children,t)},dealAutoUnfoldNamescopesData:function(e){var t=this;if(!e.scope_name)return this.dealAutoUnfoldNamescopesData(e.children);if(this.allGraphData[e.scope_name].isUnfold)return this.dealAutoUnfoldNamescopesData(e.children);if("name_scope"===this.allGraphData[e.scope_name].type&&e.nodes.length>this.nodesCountLimit)this.selectedNode.name=e.scope_name,this.querySingleNode({value:e.scope_name}),this.$message.error(this.$t("graph.tooManyNodes")),this.$nextTick((function(){t.loading.show=!1}));else{var i=JSON.parse(JSON.stringify(e.nodes));if(this.packageDataToObject(e.scope_name,!0,i),"aggregation_scope"===this.allGraphData[e.scope_name].type){this.dealAggregationNodes(e.scope_name);var s=this.allGraphData[e.scope_name];if(s)for(var a=0;a<s.childIdsList.length;a++)if(s.childIdsList[a].includes(this.selectedNode.name)){s.index=a;break}if(this.allGraphData[e.scope_name].maxChainNum>this.maxChainNum)return this.selectedNode.name=e.scope_name,this.allGraphData[e.scope_name].isUnfold=!1,this.deleteNamespace(e.scope_name),this.$message.error(this.$t("graph.tooManyChain")),void this.$nextTick((function(){t.loading.show=!1}))}e.children.scope_name?this.dealAutoUnfoldNamescopesData(e.children):(this.loading.info=this.$t("graph.searchLoading"),this.loading.show=!0,this.$nextTick((function(){setTimeout((function(){t.layoutNamescope(e.scope_name,!0)}),200)})))}},toggleControl:function(e){this.selectedNode.showControl[e]=!this.selectedNode.showControl[e]},nodeNameClick:function(){var e=event.target;if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var i=window.getSelection(),s=document.createRange();s.selectNodeContents(e),i.removeAllRanges(),i.addRange(s)}},toggleRight:function(){var e=this;this.rightShow=!this.rightShow,setTimeout((function(){e.initSvg(!1),e.initGraphRectData()}),500)},toggleScreen:function(){var e=this;this.fullScreen=!this.fullScreen,setTimeout((function(){e.initSvg(!1),e.initGraphRectData()}),500)},downLoadSVG:function(){var e=document.querySelector("#graph #graph0").innerHTML,t=document.getElementById("graph0").getBBox(),i="".concat(t.x," ").concat(t.y," ").concat(t.width," ").concat(t.height),s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" '+'width="'.concat(t.width,'" height="').concat(t.height,'" ')+'viewBox="'.concat(i,'">').concat(r["a"].graphDownloadStyle,"<g>").concat(e,"</g></svg>"),a=document.createElement("a");a.download="graph.svg",a.style.display="none";var n=new Blob([s],{type:"text/html"});a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),document.body.removeChild(a)},foldLegend:function(){this.showLegend=!this.showLegend},showUserGuide:function(){this.guide.content=[this.$t("graph.guideContent11"),this.$t("graph.guideContent12"),this.$t("graph.guideContent13"),this.$t("graph.guideContent14")],this.guide.show=!0,this.guide.step=1},closeUserGuide:function(){this.guide.show=!1},guideNext:function(){if(this.guide.step<3)switch(this.guide.step++,this.guide.step){case 2:this.guide.content=[this.$t("graph.guideContent2")];break;case 3:this.guide.content=[this.$t("graph.guideContent3")];break;default:break}else this.guide.step>=3&&(this.guide.show=!1)},jumpToTrainDashboard:function(){this.$router.push({path:"/train-manage/training-dashboard",query:{id:this.trainJobID}})}},components:{}},C=w,N=(i("c2ee"),Object(p["a"])(C,n,o,!1,null,null,null));t["default"]=N.exports},d5a6:function(e,t,i){e.exports=i.p+"static/img/graph-stepimg2.82c61922.svg"},e5e4:function(e,t,i){e.exports=i.p+"static/img/graph-step1.488b8525.svg"},ef7e:function(e,t,i){var s={"./graph-step1-en.svg":"9392","./graph-step1.svg":"e5e4"};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id="ef7e"}}]);