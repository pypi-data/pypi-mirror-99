(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62ee1383"],{1148:function(e,t,i){"use strict";var a=i("a691"),r=i("1d80");e.exports="".repeat||function(e){var t=String(r(this)),i="",s=a(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(i+=t);return i}},"2dd7":function(e,t,i){"use strict";t["a"]={barColorArr:["#6c91fb","#7cdc9f","#fc8b5d","#f1689b","#ab74ff"],pieColorArr:["#6C92FA","#6CBFFF","#4EDED2","#7ADFA0","#A6DD82","#F6DF66","#FDCA5A","#FA8E5A","#F45C5E","#F3689A","#A97AF8","#3D58A6","#3673A3","#2C9990","#469965","#68994D","#A89636","#A8812C","#A6542D","#A34142","#664EA3"],commonColorArr:["#00A5A7","#6C92FA","#FA8E5A","#A6DD82","#6CBFFF","#F45C5E","#F6DF66","#4EDED2","#F3689A","#FDCA5A","#7ADFA0","#4C6BC2","#C2663A","#7EB05D","#468BC2","#BF5254","#C2AE44","#33B0A6","#BA456F","#C49939","#56B077","#A1BAFF","#FFBA99","#C7EDAD","#9ED5FF","#FA9698","#FAEB9D","#8CEDE5","#F79CBC","#FFDE96","#A8EDC2","#25386E","#8A4321","#59823D","#285C85","#873233","#8F7E29","#1E827A","#822849","#8C6A20","#388252","#DCFCE8","#FFE4D6","#D2FCF9","#FFF2D4","#D1EBFF","#FFF9D9","#D4DFFF","#FCD2E1","#E9FCDC","#FFD1D2"],graphColorArrPhg:["#F5FBFB","#EDF9F9","#DEF5F5","#C9F5F5"],fullScreenIcon:"path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891",graphDownloadStyle:"<style>.graph {margin: 20px;width: calc(100% - 40px);height: calc(100% - 40px);border: 1px solid #e6ebf5;}.selected {stroke: red !important;stroke-width: 2px;}.node {cursor: pointer;}.node:hover > path,.node:hover > ellipse,.node:hover > polygon,.node:hover > rect {stroke-width: 2px;}.edge path {stroke: rgb(120, 120, 120);}.edge polygon {fill: rgb(120, 120, 120);}.node.aggregation > polygon {stroke: #e3aa00;fill: #ffe794;}.node.cluster.aggregation > rect {stroke: #e3aa00;fill: #ffe794;stroke-dasharray: 3, 3;}.node.cluster > rect:hover {stroke: #8df1f2;}.node > polygon {stroke: #00a5a7;fill: rgb(141,241,242);}.node > ellipse {stroke: #4ea6e6;fill: #b8e0ff;}.node > path {stroke: #e37d29;fill: #ffd0a6;stroke-dasharray: 3, 3;}.hide {visibility: hidden;}.show {visibility: visible;}.edgePoint ellipse{stroke:#a7a7a7;fill:#a7a7a7;}text {fill: black;}.edge.highlighted path {stroke: red;}.edge.highlighted polygon {stroke: red;fill: red;}.edge.highlighted marker path {fill: red;}</style>",dataMapDownloadStyle:"<style> #graph0 > polygon { fill: transparent; }.node, .cluster { cursor: pointer; }.selected { polygon, ellipse { stroke: red !important; stroke-width: 2px; } }.CreatDataset > polygon, .Operator > ellipse { stroke: #4ea6e6; fill: #b8e0ff; }.cluster > polygon { fill: #8df1f2; stroke: #00a5a7; }.RepeatDataset > polygon { stroke: #fdca5a; fill: #fff2d4; }.ShuffleDataset > polygon { stroke: #e37d29; fill: #ffd0a6; }.BatchDataset > polygon { stroke: #de504e; fill: #ffbcba; }.edge { path { stroke: rgb(167, 167, 167); }polygon { fill: rgb(167, 167, 167); stroke: rgb(167, 167, 167); } }</style>"}},"408a":function(e,t,i){var a=i("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=a(e))throw TypeError("Incorrect invocation");return+e}},"45fc":function(e,t,i){"use strict";var a=i("23e7"),r=i("b727").some,s=i("a640"),o=i("ae40"),n=s("some"),l=o("some");a({target:"Array",proto:!0,forced:!n||!l},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4a0b":function(e,t,i){},"4d06":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAptJREFUOBGllEFoE0EUhudtbRUvRuhFcognz4V6sSCSg7Ee2kNpoyhYAt1GULEr3YhWsL0oZrWJoOBmK7GCoov2oAWpRSJ4UZDi2ZM9BC8FgweRtmZ8f9wZpprSgAObee+f/32Z2Zkdyhf9IZLithDidWes43Qmk/nJccutXC7vWKmt3uOClCRx3hKSbCnFHn6GV2prc2EYdrRKgxc1qAUDLItnN0PEv9yklEeXq9+e+b7fvhUUHnhRAy8YYFnuhdFQCjqnAPxPfd9/iCeVSmWb0v7uMQYPvGoMDLBICV4hGJOyXlA5/2OYiMdOpNPpX0pDz8tsW67WHvPM0konshzXsYvILSU2BBIXVY6CL9XaLPfagzjSNExwjYJtACLJOdk8kbiioPxST94qBvcZRHgQQ1Pj8KJG5ej1kk3RK/iT/H6uao3ETCOWYkRpDJtyneykylXfFIhBr1C6xrO6pIxmz+/3uuuMXjY1FW8KhIGhHkPHlRk9w24yzDU1M9Yv3BT/J27brDhast51w9eT6u3fvrjw8o2h6bApMD9dmuLvRu82CQr4WeKq7qjy4OEj/RZD32pSFPwD5B2e4DEG/mkW0YNxx7Z7DnTPv/+wlOBvtCsaOpTq7VtfXJh/p7zoN2xKvuDnhBQ3tIHokTtmn+KNqEPjDbK8YvDQPIs42OZZ1JuCT8+E4dPbG48NKxiAiCMtRN5oPIFGbZQ2ZpgvBGeErN+JNC4Uc/u79h1LJpPrSjN7XA4fP31+yod/QOtknc059l3ypktpnjbfHHw9ohG92LVTDmaz2TVtbhLg+uIb57m6cXj2kld43GLMiIKx+IqXNLQVDHx4EvHdg6hBDgZYliAZ8BK/8jPbGWsf4OtqFYZWGryoQS0YYP0GSgsoUPv9lyUAAAAASUVORK5CYII="},"4de4":function(e,t,i){"use strict";var a=i("23e7"),r=i("b727").filter,s=i("1dde"),o=i("ae40"),n=s("filter"),l=o("filter");a({target:"Array",proto:!0,forced:!n||!l},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},7333:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cl-histogram-manage"},[a("div",{staticClass:"histogram-bk"},[a("div",{staticClass:"cl-title cl-histogram-title"},[a("div",{staticClass:"cl-title-left"},[e._v(e._s(e.$t("histogram.titleText"))+" "),a("div",{staticClass:"path-message"},[a("span",[e._v(e._s(e.$t("symbols.leftbracket")))]),a("span",[e._v(e._s(e.$t("trainingDashboard.summaryDirPath")))]),a("span",[e._v(e._s(e.summaryPath))]),a("span",[e._v(e._s(e.$t("symbols.rightbracket")))])])]),a("div",{staticClass:"cl-title-right"},[a("div",{staticClass:"cl-close-btn",on:{click:e.jumpToTrainDashboard}},[a("img",{attrs:{src:i("4d06")}})])])]),a("div",{staticClass:"cl-histogram-operate-content"},[a("multiselectGroupComponents",{ref:"multiselectGroupComponents",attrs:{checkListArr:e.tagList},on:{selectedChange:e.tagSelectedChanged}})],1),a("div",{staticClass:"cl-histogram-view-type-select-content"},[a("div",{staticClass:"view-title"},[e._v(e._s(e.$t("histogram.viewType")))]),a("el-radio-group",{attrs:{fill:"#00A5A7","text-color":"#FFFFFF",size:"small"},on:{change:e.viewTypeChange},model:{value:e.curViewName,callback:function(t){e.curViewName=t},expression:"curViewName"}},[a("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("histogram.overlay")))]),a("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("histogram.offset")))])],1),e.curViewName?a("div",{staticClass:"view-title"},[e._v(e._s(e.$t("histogram.xAxisTitle")))]):e._e(),e.curViewName?a("el-radio-group",{attrs:{fill:"#00A5A7","text-color":"#FFFFFF",size:"small",disabled:0===e.curViewName},on:{change:e.timeTypeChange},model:{value:e.curAxisName,callback:function(t){e.curAxisName=t},expression:"curAxisName"}},[a("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("histogram.step")))]),a("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("histogram.relativeTime")))]),a("el-radio-button",{attrs:{label:2}},[e._v(e._s(e.$t("histogram.absoluteTime")))])],1):e._e()],1),a("div",{staticClass:"cl-histogram-show-data-content"},[e.originDataArr.length?e._e():a("div",{staticClass:"image-noData"},[a("div",[a("img",{attrs:{src:i("9485")}})]),e.initOver?a("div",{staticClass:"noData-text"},[e._v(e._s(e.$t("public.noData")))]):a("div",{staticClass:"noData-text"},[e._v(e._s(e.$t("public.dataLoading")))])]),e.originDataArr.length?a("div",{staticClass:"data-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.chartTipFlag,expression:"chartTipFlag"}],attrs:{id:"echartTip"}},[a("table",{staticClass:"char-tip-table borderspacing3"},[a("tr",[a("td",[e._v(e._s(e.$t("histogram.centerValue")))]),a("td",[e._v(e._s(e.$t("histogram.step")))]),a("td",[e._v(e._s(e.$t("histogram.relativeTime")))]),a("td",[e._v(e._s(e.$t("histogram.absoluteTime")))])]),a("tr",{attrs:{id:"tipTr"}})])]),e._l(e.originDataArr,(function(t){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"sampleItem.show"}],key:t.domId,staticClass:"sample-content",class:t.fullScreen?"char-full-screen":""},[a("div",{staticClass:"chars-container"},[a("div",{staticClass:"char-item-content",attrs:{id:t.domId}}),a("div",{staticClass:"tag-title",attrs:{title:t.tagName}},[e._v(e._s(t.tagName))])])])}))],2):e._e()]),e.originDataArr.length?a("div",{staticClass:"pagination-content"},[a("el-pagination",{attrs:{"current-page":e.pageIndex+1,"page-sizes":e.pageSizes,"page-size":e.pageNum,layout:"total, prev, pager, next, jumper",total:e.curFilterSamples.length},on:{"current-change":e.currentPageChange}})],1):e._e()])])},r=[],s=(i("99af"),i("4de4"),i("4160"),i("fb6a"),i("a434"),i("a9e3"),i("b680"),i("d3b7"),i("ac1f"),i("25f0"),i("5319"),i("1276"),i("159b"),i("a95e")),o=i("3778"),n=i("2dd7"),l=i("313e"),c=i.n(l),h=i("5698"),u=i("7e02"),m={format:h["b"],precisionRound:h["c"]},d={mixins:[u["a"]],data:function(){return{tagList:[],trainingJobId:this.$route.query.train_id,summaryPath:this.$route.query.summaryPath,originDataArr:[],initOver:!1,curAxisName:0,curViewName:1,curFullTagDic:{},multiSelectedTagNames:{},curFilterSamples:[],curPageArr:[],pageIndex:0,pageSizes:[6],pageNum:6,zrDrawElement:{hoverDots:[]},chartTipFlag:!1,charResizeTimer:null,changeAxisTimer:null,changeViewTimer:null}},computed:{},components:{multiselectGroupComponents:s["a"]},watch:{},destroyed:function(){var e=this;window.removeEventListener("resize",this.resizeCallback),this.curPageArr.length&&this.curPageArr.forEach((function(t){e.clearZrData(t)})),this.changeAxisTimer&&(clearTimeout(this.changeAxisTimer),this.changeAxisTimer=null),this.changeViewTimer&&(clearTimeout(this.changeViewTimer),this.changeViewTimer=null)},mounted:function(){this.init(),window.addEventListener("resize",this.resizeCallback,!1)},methods:{resizeCallback:function(){var e=this;this.charResizeTimer&&(clearTimeout(this.charResizeTimer),this.charResizeTimer=null),this.charResizeTimer=setTimeout((function(){e.curPageArr.forEach((function(e){e.charObj&&e.charObj.resize()}))}),500)},init:function(){if(!this.$route.query||!this.$route.query.train_id)return this.$message.error(this.$t("trainingDashboard.invalidId")),void(document.title=this.$t("histogram.titleText")+"-MindInsight");document.title=decodeURIComponent(this.$route.query.train_id)+"-"+this.$t("histogram.titleText")+"-MindInsight",this.getOriginData(),this.isTimeReload&&this.autoUpdateSamples()},jumpToTrainDashboard:function(){this.$router.push({path:"/train-manage/training-dashboard",query:{id:this.trainingJobId}})},getOriginData:function(){var e=this,t={plugin_name:"histogram",train_id:this.trainingJobId};o["a"].getSingleTrainJob(t).then((function(t){if(t&&t.data&&t.data.train_jobs&&t.data.train_jobs.length){var i=t.data.train_jobs[0];if(i.tags){var a=[],r=[];i.tags.forEach((function(t){e.curFullTagDic[t]||(e.curFullTagDic[t]=!0,a.push({label:t,checked:!0,show:!0}),r.push({tagName:t,zr:null,show:!1,fullScreen:!1,domId:"".concat(t),oriData:{},charOption:{},chartData:[],charObj:null}))})),e.tagList=a,e.originDataArr=r,e.$nextTick((function(){e.multiSelectedTagNames=e.$refs.multiselectGroupComponents.updateSelectedDic(),e.initOver=!0,e.updateTagInPage()}))}}else e.initOver=!0}),this.requestErrorCallback).catch((function(t){e.initOver=!0,e.$message.error(e.$t("public.dataError"))}))},tagSelectedChanged:function(e){e&&(this.multiSelectedTagNames=e,this.pageIndex=0,this.updateTagInPage())},currentPageChange:function(e){this.pageIndex=e-1,this.getCurPageDataArr()},getCurPageDataArr:function(e){var t=this;e||this.curPageArr.forEach((function(e){e.show=!1,t.clearZrData(e)}));for(var i=this.pageIndex*this.pageNum,a=i+this.pageNum,r=[],s=i;s<a;s++){var o=this.curFilterSamples[s];o&&(o.show=!0,r.push(o))}this.curPageArr=r,this.freshCurPageData()},freshCurPageData:function(){var e=this;this.curPageArr.forEach((function(t,i){if(t&&t.tagName){var a={train_id:e.trainingJobId,tag:t.tagName};o["a"].getHistogramData(a).then((function(i){if(i&&i.data){var a=JSON.parse(JSON.stringify(i.data));t.chartData=e.formOriData(a),e.formatDataToChar(t),e.updateSampleData(t),e.sampleEventBind(t)}}))}}))},timeTypeChange:function(e){var t=this;this.changeAxisTimer&&(clearTimeout(this.changeAxisTimer),this.changeAxisTimer=null),this.changeAxisTimer=setTimeout((function(){t.curPageArr.forEach((function(e){t.updateSampleData(e)}))}),500)},viewTypeChange:function(e){var t=this;this.changeViewTimer&&(clearTimeout(this.changeViewTimer),this.changeViewTimer=null),this.changeViewTimer=setTimeout((function(){t.curPageArr.forEach((function(e){t.formatDataToChar(e),t.updateSampleData(e)}))}),200)},updateTagInPage:function(e){var t=this,i=[];this.originDataArr.forEach((function(e){t.multiSelectedTagNames[e.tagName]&&i.push(e)})),this.curFilterSamples=i,this.getCurPageDataArr(e)},clearAllData:function(){var e=this;this.originDataArr.forEach((function(t){e.clearZrData(t)})),this.tagList=[],this.originDataArr=[],this.curFullTagDic={},this.multiSelectedTagNames={},this.curFilterSamples=[],this.pageIndex=0,this.curPageArr=[],this.$nextTick((function(){e.$refs.multiselectGroupComponents.updateSelectedDic()}))},requestErrorCallback:function(e){this.initOver||(this.initOver=!0),this.isReloading&&(this.$store.commit("setIsReload",!1),this.isReloading=!1),e.response&&e.response.data?this.clearAllData():"ECONNABORTED"===e.code&&/^timeout/.test(e.message)||this.clearAllData()},updateAllData:function(e){var t=this,i={plugin_name:"histogram",train_id:this.trainingJobId};o["a"].getSingleTrainJob(i,e).then((function(e){if(t.isReloading&&(t.$store.commit("setIsReload",!1),t.isReloading=!1),e&&e.data&&e.data.train_jobs&&e.data.train_jobs.length&&e.data.train_jobs[0].tags){var i=e.data.train_jobs[0],a=t.removeNoneExistentData(i),r=t.checkNewDataAndComplete(i);t.$nextTick((function(){t.multiSelectedTagNames=t.$refs.multiselectGroupComponents.updateSelectedDic(),t.updateTagInPage(!r&&!a)}))}else t.clearAllData()}),this.requestErrorCallback).catch((function(e){t.$message.error(t.$t("public.dataError"))}))},removeNoneExistentData:function(e){if(!e||!e.tags)return!1;var t={},i=!1;e.tags.forEach((function(e){t[e]=!0}));for(var a=this.tagList.length,r=a-1;r>=0;r--)t[this.tagList[r].label]||(i=!0,delete this.curFullTagDic[this.tagList[r].label],this.tagList.splice(r,1));for(var s=this.originDataArr.length,o=s-1;o>=0;o--)t[this.originDataArr[o].tagName]||(i=!0,this.clearZrData(this.originDataArr[o]),this.originDataArr[o].charObj.clear(),this.originDataArr.splice(o,1));return this.originDataArr.forEach((function(e,t){e.sampleIndex=t})),i},checkNewDataAndComplete:function(e){var t=this;if(!e||!e.tags)return!1;var i=!1;return e.tags.forEach((function(e){t.curFullTagDic[e]||(t.tagList.push({label:e,checked:!0,show:!1}),t.originDataArr.push({tagName:e,zr:null,show:!1,fullScreen:!1,domId:"".concat(e),oriData:{},charOption:{},chartData:[],charObj:null}),t.curFullTagDic[e]=!0,i=!0)})),i},updateSampleData:function(e){e.charOption=this.formatCharOption(e),e.charObj||(e.charObj=c.a.init(document.getElementById(e.domId),null)),this.removeTooltip(e),e.charObj.setOption(e.charOption,!0)},sampleEventBind:function(e){var t=this;e.zr||(e.zr=e.charObj.getZr(),e.zr.off("mouseout","mousemove"),e.zr.on("mouseout",(function(i){t.removeTooltip(e),t.chartTipFlag=!1})),e.zr.on("mousemove",(function(i){t.removeTooltip(e),t.mousemoveEvent(e,i)})))},mousemoveEvent:function(e,t){var i=this,a="s",r=this.findNearestValue(e,[t.offsetX,t.offsetY]);if(r&&null!==r.yIndex&&null!==r.binIndex){var s,o=r.binIndex,n=r.yIndex,l=e.chartData,h=l[n],u=Math.max(0,m.precisionRound(.01,1.01)-1),d=m.format(".".concat(u,"e")),g=e.charObj.getModel().getComponent("grid",0).coordinateSystem.getRect(),p=g.y-10,f=[];if(!h||!h.items[o])return;this.chartTipFlag||(this.chartTipFlag=!0),1===this.curViewName&&null!==n?f=this.makePolyPoints(n,this.getCoord,p,e):0===this.curViewName&&h.items&&h.items.forEach((function(t){f.push(i.getCoord([t[2],t[3]],e))})),this.zrDrawElement.hoverLine=new c.a.graphic.Polyline({silent:!0,shape:{points:f.slice(1,-1)},z:999}),e.zr.add(this.zrDrawElement.hoverLine),this.zrDrawElement.tooltip=new c.a.graphic.Text({});var v=h.items[o][2],b=0;l.forEach((function(t,a){var r=t.step,l=i.getCoord([v,r],e);if(a===n)b=h.items[o][3];else for(var u=t.items,m=1;m<u.length-1;m++){var d=u[m+1][2],g=u[m+1][3];if(u[m][2]===v){b=u[m][3];break}if(u[m][2]<v&&d>v){var f=(v-u[m][2])/(d-u[m][2]);b=(g-u[m][3])*f+u[m][3];break}}s=l[0];var A={z:1e3};1===i.curViewName?(l[1]-=(b-e.oriData.minZ)/(e.oriData.maxZ-e.oriData.minZ)*p,A.shape={cx:s,cy:l[1],r:1.5}):(A.shape={cx:0,cy:0,r:1.5},A.position=e.charObj.convertToPixel("grid",[v,b]));var D=new c.a.graphic.Circle(A);e.zr.add(D),i.zrDrawElement.hoverDots.push(D)})),this.zrDrawElement.tooltip=new c.a.graphic.Text({});var A="",D=h.items[o][3];A="<td>".concat(D.toString().length>=6?d(D):D,'</td><td style="text-align:center;">').concat(this.formateNUmber(h.step),"</td><td>").concat(this.formateNUmber(h.relative_time.toFixed(0))).concat(a,"</td><td>").concat(this.dealrelativeTime(new Date(1e3*h.wall_time).toString()),"</td>");var C=document.querySelector("#tipTr");if(C.innerHTML=A,e.fullScreen){var w=document.querySelector("#echartTip").clientWidth,x=document.querySelector("#echartTip").clientHeight,T=document.body.scrollWidth,S=document.body.scrollHeight,k=document.querySelector(".cl-histogram-show-data-content").scrollTop,y=document.querySelector(".cl-histogram-show-data-content").offsetTop;x+t.event.y+20>S&&S>x?document.querySelector("#echartTip").style.top="".concat(t.event.y+k-x-20-y,"px"):document.querySelector("#echartTip").style.top="".concat(t.event.y+k+20-y,"px"),w+t.event.x+80>T&&T>w?document.querySelector("#echartTip").style.left="".concat(t.event.x-w-20,"px"):document.querySelector("#echartTip").style.left="".concat(t.event.x+20,"px")}else{var F=document.getElementById(e.domId).parentNode.parentNode.clientWidth,N=document.getElementById(e.domId).parentNode.parentNode.clientHeight,E=document.getElementById(e.domId).parentNode.parentNode.offsetLeft,I=document.getElementById(e.domId).parentNode.parentNode.offsetTop,_=document.querySelector("#echartTip");_.style.top="".concat(I+N-60,"px"),E>_.clientWidth?_.style.left="".concat(E-_.clientWidth,"px"):_.style.left="".concat(E+F,"px")}if(this.zrDrawElement.tooltipX=new c.a.graphic.Text({position:[s,g.y+g.height],style:{text:v.toString().length>=6?v.toExponential(3):Math.round(1e3*v)/1e3,textFill:"#fff",textAlign:"center",fontSize:12,textBackgroundColor:"#333",textBorderWidth:2,textPadding:[5,7],rich:{}},z:2e3}),e.zr.add(this.zrDrawElement.tooltipX),1===this.curViewName&&f&&f.length){var z="";null!==n&&(z=this.yAxisFormatter(e,h.step)),this.zrDrawElement.tooltipY=new c.a.graphic.Text({position:[g.x+g.width,f[f.length-1][1]],style:{text:z,textFill:"#fff",textVerticalAlign:"middle",fontSize:12,textBackgroundColor:"#333",textBorderWidth:2,textPadding:[5,7],rich:{}},z:2e3}),e.zr.add(this.zrDrawElement.tooltipY)}}},getCoord:function(e,t){return t.charObj.convertToPixel("grid",e)},findNearestValue:function(e,t){var i=this;if(t&&t.length&&e&&e.charObj&&e.oriData){var a=e.charObj.convertFromPixel("grid",t);if(a&&a.length){var r=null,s=null,o=1/0,n=-1/0,l=1/0,c=e.charObj.getModel().getComponent("grid",0).coordinateSystem.getRect(),h=c.y-10,u=a[0];if(e.chartData.forEach((function(r,o){for(var c,m,d=0;d<r.items.length-1;d++){var g=r.items[d],p=r.items[d+1],f=p[2],v=p[3];if(g.length>=4&&g[2]<u&&f>=u){var b=(u-g[2])/(f-g[2]);m=(v-g[3])*b+g[3],c=Math.abs(a[1]-m);break}}if(0===i.curViewName&&c<l)l=c,s=o;else if(1===i.curViewName){var A=i.getCoord([u,r.step],e),D=A[1];A[1]-=(m-e.oriData.minZ)/(e.oriData.maxZ-e.oriData.minZ)*h,t[1]>A[1]&&t[1]<D&&D>n&&(n=D,s=o)}})),null===s&&1===this.curViewName&&e.chartData.forEach((function(e,t){t>=a[1]&&(s=null===s?t:Math.min(s,t))})),null!==s){var m=e.chartData[s].items;m.forEach((function(e,t){var i=Math.abs(e[2]-a[0]);i<o&&(o=i,r=t)})),r=0===r?1:r===m.length-1?m.length-2:r}return{binIndex:r,yIndex:s}}}},dealrelativeTime:function(e){var t=e.split(" "),i=t[0]+" "+t[1]+" "+t[2]+", "+t[4];return i},clearZrData:function(e){e&&e.zr&&(this.removeTooltip(e),e.zr.off("mouseout","mousemove"),e.zr=null)},removeTooltip:function(e){e&&e.zr&&(this.zrDrawElement.hoverDots&&this.zrDrawElement.hoverDots.forEach((function(t){return e.zr.remove(t)})),this.zrDrawElement.hoverLine&&e.zr.remove(this.zrDrawElement.hoverLine),this.zrDrawElement.tooltip&&e.zr.remove(this.zrDrawElement.tooltip),this.zrDrawElement.tooltipY&&e.zr.remove(this.zrDrawElement.tooltipY),this.zrDrawElement.tooltipX&&e.zr.remove(this.zrDrawElement.tooltipX))},getValue:function(e,t,i){return e[t][i]},makePolyPoints:function(e,t,i,a){for(var r=[],s=a.oriData.seriesData,o=a.oriData.maxZ,n=a.oriData.minZ,l=0;l<s[e].length;){var c=this.getValue(s,e,l++),h=this.getValue(s,e,l++),u=this.getValue(s,e,l++),m=t([c,h],a);o!==n&&(m[1]-=(u-n)/(o-n)*i),r.push(m)}return r},formOriData:function(e){var t=[],i=e.histograms.length?e.histograms[0].wall_time:0;return e.histograms.forEach((function(e,a){var r=e.step.toString(),s={wall_time:e.wall_time,relative_time:e.wall_time-i,step:r,items:[]},o=[];if(e.buckets.forEach((function(t){var i=t[0]+t[1]/2,a=o.filter((function(e){return e[0]===i}));a.length||o.push([e.wall_time,r,i,Math.floor(t[2])])})),o.sort((function(e,t){return e[0]-t[0]})),o.length){var n=o[0][2],l=o[o.length-1][2],c=[[e.wall_time,r,n,0]].concat(o,[[e.wall_time,r,l,0]]);s.items=c,t.push(s)}})),t},formatDataToChar:function(e){var t=this,i=e.chartData,a=[],r=-1/0,s=1/0,o=-1/0,n=1/0,l=[];i&&i.length&&i.forEach((function(e){var i=[];l.push(e.step),e.items.forEach((function(a){0===t.curViewName?i.push([a[2],a[3]]):1===t.curViewName&&i.push(a[2],e.step,a[3]),r=Math.max(r,a[2]),s=Math.min(s,a[2]),n=Math.min(n,a[3]),o=Math.max(o,a[3])})),a.push(i)})),e.oriData={seriesData:a,maxX:r,minX:s,maxZ:o,minZ:n,gridData:l}},formatCharOption:function(e){var t=this,i="#346E69",a="#EBFFFD",r=e.oriData,s=this.getGrientColor(i,a,r.seriesData.length),o=this.toggleFullScreen,l=this.curAxisName,c=this,h={grid:{left:40,top:60,right:80,bottom:60},xAxis:{max:r.maxX,min:r.minX,axisLine:{onZero:!1},axisLabel:{fontSize:"11",formatter:function(e){return c.formateNUmber(e)}},splitLine:{show:!1}},yAxis:{position:"right",axisLine:{onZero:!1,show:!1},splitLine:{show:!0},axisTick:{show:!1},boundaryGap:!1,axisLabel:{fontSize:"11",formatter:function(e){return c.formateNUmber(e)}}},toolbox:{top:20,right:20,emphasis:{iconStyle:{textPosition:"top",borderColor:"#00A5A7"}},feature:{myToolFullScreen:{show:!0,title:this.$t("histogram.fullScreen"),iconStyle:{borderColor:e.fullScreen?"#00A5A7":"#6D7278"},icon:n["a"].fullScreenIcon,onclick:function(){o(e)}}}}};if(1===this.curViewName){var u=[];r.seriesData.forEach((function(e,t){var i={name:e[1],value:e,itemStyle:{color:s[t]}};u.push(i)})),h.series=[{type:"custom",dimensions:["x","y"],renderItem:function(i,a){var r=t.makePolyPoints(i.dataIndex,a.coord,i.coordSys.y-10,e);return{type:"polyline",z2:i.dataIndex,silent:!0,shape:{points:r},style:a.style({stroke:"#bbb",lineWidth:1})}},data:u}],h.yAxis.data=r.gridData,h.yAxis.type="category",h.grid.top=126,2===l&&e.fullScreen&&(h.grid.right=140),h.yAxis.inverse=!0,h.yAxis.axisLabel.formatter=function(t){return c.yAxisFormatter(e,t)}}else 0===this.curViewName&&(h.color=s,h.series=[],r.seriesData.forEach((function(e){h.series.push({type:"line",symbol:"none",lineStyle:{width:1},data:e.slice(1,-1)})})));return h},yAxisFormatter:function(e,t){var i="",a=e.chartData.filter((function(e){return e.step===t}));return a.length&&(i=2===this.curAxisName?e.fullScreen?this.dealrelativeTime(new Date(1e3*a[0].wall_time).toString()):[]:1===this.curAxisName?"".concat(this.formateNUmber(a[0].relative_time.toFixed(0)),"s"):this.formateNUmber(a[0].step)),i},formateNUmber:function(e){return e=Number(e),e.toString().length>6?e.toExponential(3):Math.round(1e3*e)/1e3},formatColor:function(e){if(e){var t=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,i=e.toLowerCase().slice(1);if(t.test(i)){var a="";if(3===i.length){for(var r=0;r<3;r++)a+=a.slice(r,r+1).concat(a.slice(r,r+1));i=a}for(var s=[],o=0;o<6;o+=2)s.push(parseInt("0x".concat(i.slice(o,o+2))));return s}return i}},formatColorToHex:function(e){var t=/^(rgb|RGB)/g;if(t.test(e)){for(var i=e.replace(/(?:(|)|rgb|RGB)*/g,"").split(","),a="",r=0;r<i.length;r++){var s=Number(i[r]).toString(16);s=s<10?"0".concat(s):s,"0"===s&&(s+=s),a+=s}return 6!==a.length&&(a=e),a}},getGrientColor:function(e,t,i){for(var a=this.formatColor(e),r=this.formatColor(t),s=(r[0]-a[0])/i,o=(r[1]-a[1])/i,n=(r[2]-a[2])/i,l=[],c=0;c<i;c++){var h=parseInt(s*c+a[0]),u=parseInt(o*c+a[1]),m=parseInt(n*c+a[2]),d=this.formatColorToHex("rgb(".concat(h,",").concat(u,",").concat(m,")"));l.push(d)}return l},toggleFullScreen:function(e){e&&(this.removeTooltip(e),e.fullScreen=!e.fullScreen,e.fullScreen?(2===this.curAxisName&&(e.charOption.grid.right=140),e.charOption.toolbox.feature.myToolFullScreen.iconStyle.borderColor="#00A5A7"):(e.charOption.grid.right=80,e.charOption.toolbox.feature.myToolFullScreen.iconStyle.borderColor="#6D7278"),setTimeout((function(){e.charObj.setOption(e.charOption),e.charObj.resize(),document.getElementById(e.domId).scrollIntoView()}),0))}}},g=d,p=(i("d707"),i("2877")),f=Object(p["a"])(g,a,r,!1,null,null,null);t["default"]=f.exports},"74d4":function(e,t,i){},"7e02":function(e,t,i){"use strict";var a,r,s={data:function(){return{autoUpdateTimer:null,isReloading:!1}},computed:{isReload:function(){return this.$store.state.isReload},isTimeReload:function(){return this.$store.state.isTimeReload},timeReloadValue:function(){return this.$store.state.timeReloadValue}},watch:{isReload:function(e,t){e&&(this.isReloading=!0,this.isTimeReload&&this.autoUpdateSamples(),this.updateAllData(!1))},isTimeReload:function(e,t){e?this.autoUpdateSamples():this.stopUpdateSamples()},timeReloadValue:function(){this.autoUpdateSamples()}},methods:{autoUpdateSamples:function(){var e=this;this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null),this.autoUpdateTimer=setInterval((function(){e.$store.commit("clearToken"),e.updateAllData(!0)}),1e3*this.timeReloadValue)},stopUpdateSamples:function(){this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null)}},destroyed:function(){this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null),this.isReloading&&(this.$store.commit("setIsReload",!1),this.isReloading=!1)}},o=s,n=i("2877"),l=Object(n["a"])(o,a,r,!1,null,null,null);t["a"]=l.exports},"82b9":function(e,t,i){"use strict";i("4a0b")},9485:function(e,t,i){e.exports=i.p+"static/img/nodata.8290bed9.png"},a434:function(e,t,i){"use strict";var a=i("23e7"),r=i("23cb"),s=i("a691"),o=i("50c4"),n=i("7b0b"),l=i("65f0"),c=i("8418"),h=i("1dde"),u=i("ae40"),m=h("splice"),d=u("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,p=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!d},{splice:function(e,t){var i,a,h,u,m,d,b=n(this),A=o(b.length),D=r(e,A),C=arguments.length;if(0===C?i=a=0:1===C?(i=0,a=A-D):(i=C-2,a=p(g(s(t),0),A-D)),A+i-a>f)throw TypeError(v);for(h=l(b,a),u=0;u<a;u++)m=D+u,m in b&&c(h,u,b[m]);if(h.length=a,i<a){for(u=D;u<A-a;u++)m=u+a,d=u+i,m in b?b[d]=b[m]:delete b[d];for(u=A;u>A-a+i;u--)delete b[u-1]}else if(i>a)for(u=A-a;u>D;u--)m=u+a-1,d=u+i-1,m in b?b[d]=b[m]:delete b[d];for(u=0;u<i;u++)b[u+D]=arguments[u+2];return b.length=A-a+i,h}})},a95e:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cl-checklist-container"},[i("div",{staticClass:"select-content"},[i("div",{staticClass:"title mr24"},[e._v(e._s(e.componentsLabel.title||e.$t("components.tagSelectTitle")))]),i("div",{staticClass:"select-all mr24",on:{click:e.listSelectAll}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:e.operateSelectAll?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item select-disable"},[e._v(e._s(e.$t("components.selectAll")))])]),e.listFullScreen?i("el-input",{staticClass:"search-input-item",attrs:{placeholder:e.componentsLabel.placeholder||e.$t("components.tagFilterPlaceHolder")},on:{input:e.listFilter},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e.listFullScreen?e._e():i("div",{ref:e.itemId,staticClass:"select-item-content"},e._l(e.checkListArr,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],key:a,staticClass:"select-item",class:e.isLimit&&e.selectedNumber>=e.limitNum&&!t.checked?"item-disable":"item-able",on:{click:function(i){return e.listItemClick(t)}}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:t.checked?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item"},[i("el-tooltip",{attrs:{effect:"dark","popper-class":"tooltip-show-content",content:t.label,placement:"top"}},[i("span",{staticClass:"select-disable"},[t.checked&&"NOT_IN_CACHE"===t.loading?i("i",{staticClass:"el-icon-time",attrs:{title:e.$t("trainingDashboard.waitLoading")}}):e._e(),t.checked&&"CACHING"===t.loading?i("i",{staticClass:"el-icon-loading",attrs:{title:e.$t("trainingDashboard.loadingTip")}}):e._e(),e._v(" "+e._s(t.label))])])],1)])})),0),e.overRowFlag||e.searchInput?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.listFullScreen,expression:"!listFullScreen"}],staticClass:"select-content-open select-disable",on:{click:e.toggleListFullScreen}},[e._v(e._s(e.$t("components.open")))]):e._e(),e.overRowFlag||e.listFullScreen?i("div",{directives:[{name:"show",rawName:"v-show",value:e.listFullScreen,expression:"listFullScreen"}],staticClass:"select-content-open select-disable",on:{click:e.toggleListFullScreen}},[e._v(e._s(e.$t("components.close")))]):e._e()],1),e.listFullScreen?i("div",{staticClass:"select-content-all"},e._l(e.checkListArr,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],key:a,staticClass:"select-item",class:e.isLimit&&e.selectedNumber>=e.limitNum&&!t.checked?"item-disable":"item-able",on:{click:function(i){return e.listItemClick(t)}}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:t.checked?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item"},[i("el-tooltip",{attrs:{effect:"dark","popper-class":"tooltip-show-content",content:t.label,placement:"top"}},[i("span",{staticClass:"select-disable"},[t.checked&&"NOT_IN_CACHE"===t.loading?i("i",{staticClass:"el-icon-time",attrs:{title:e.$t("trainingDashboard.waitLoading")}}):e._e(),t.checked&&"CACHING"===t.loading?i("i",{staticClass:"el-icon-loading",attrs:{title:e.$t("trainingDashboard.loadingTip")}}):e._e(),e._v(" "+e._s(t.label))])])],1)])})),0):e._e()])},r=[],s=(i("4160"),i("45fc"),i("a9e3"),i("4d63"),i("ac1f"),i("25f0"),i("159b"),{props:{checkListArr:Array,isLimit:{type:Boolean,default:!1},limitNum:{type:Number,default:0},componentsLabel:{type:Object,default:function(){return{title:"",placeholder:""}}}},data:function(){return{listFullScreen:!1,overRowFlag:!1,searchInputTimer:null,searchInput:"",valiableSearchInput:"",multiSelectedItemNames:{},operateSelectAll:!0,perSelectItemMarginBottom:1,selectedNumber:0,itemId:"",searching:!1}},computed:{},watch:{},mounted:function(){this.init()},methods:{init:function(){var e=this;this.itemId="".concat((new Date).getTime())+"".concat(this.$store.state.multiSelectedGroupCount),this.$store.commit("multiSelectedGroupComponentNum"),this.$nextTick((function(){e.resizeCallback()})),window.addEventListener("resize",this.resizeCallback,!1)},resizeCallback:function(){var e=this.$refs[this.itemId];e&&(this.overRowFlag=e.clientHeight<e.scrollHeight-this.perSelectItemMarginBottom)},listSelectAll:function(){var e=this;if(this.operateSelectAll=!this.operateSelectAll,this.multiSelectedItemNames={},this.operateSelectAll)if(this.isLimit)for(var t=this.checkListArr.length,i=0;i<t;i++){var a=this.checkListArr[i];this.selectedNumber>=this.limitNum?a.checked&&a.show&&(this.multiSelectedItemNames[a.label]=!0):a.checked?a.show&&(this.multiSelectedItemNames[a.label]=!0):a.show&&(a.checked=!0,this.multiSelectedItemNames[a.label]=!0,this.selectedNumber++)}else this.checkListArr.forEach((function(t){t.show&&(t.checked=!0,e.multiSelectedItemNames[t.label]=!0)}));else this.checkListArr.forEach((function(t){t.show&&t.checked&&(e.selectedNumber--,t.checked=!1)}));this.$emit("selectedChange",this.multiSelectedItemNames)},listFilter:function(){var e=this;this.searching=!0,this.searchInputTimer&&(clearTimeout(this.searchInputTimer),this.searchInputTimer=null),this.searchInputTimer=setTimeout((function(){var t;e.searching=!1;try{t=new RegExp(e.searchInput)}catch(a){return void e.$message.warning(e.$t("public.regIllegal"))}e.valiableSearchInput=e.searchInput,e.multiSelectedItemNames={},e.selectedNumber=0;var i=!0;e.checkListArr.forEach((function(a){a.checked&&e.selectedNumber++,t.test(a.label)?(a.show=!0,a.checked?e.multiSelectedItemNames[a.label]=!0:i=!1):a.show=!1})),e.isLimit&&!i&&(i=e.selectedNumber>=e.limitNum||e.selectedNumber>=e.checkListArr.length),e.operateSelectAll=i,e.$emit("selectedChange",e.multiSelectedItemNames)}),200)},listItemClick:function(e){if(!(!e||this.isLimit&&this.selectedNumber>=this.limitNum&&!e.checked)){e.checked=!e.checked,e.checked?(this.multiSelectedItemNames[e.label]=!0,this.selectedNumber++):this.multiSelectedItemNames[e.label]&&(delete this.multiSelectedItemNames[e.label],this.selectedNumber--);var t=!0;this.checkListArr.some((function(e){if(e.show&&!e.checked)return t=!1,!0})),this.isLimit&&!t&&(t=this.selectedNumber>=this.limitNum||this.selectedNumber>=this.checkListArr.length),this.operateSelectAll=t,this.$emit("selectedChange",this.multiSelectedItemNames)}},toggleListFullScreen:function(){var e=this;this.listFullScreen=!this.listFullScreen,this.listFullScreen||this.$nextTick((function(){e.resizeCallback()}))},updateSelectedDic:function(){var e,t=this;if(this.searching)return this.multiSelectedItemNames;try{e=new RegExp(this.searchInput)}catch(o){e=new RegExp(this.valiableSearchInput)}this.multiSelectedItemNames={},this.selectedNumber=0;var i=!0;if(this.isLimit){for(var a=this.checkListArr.length,r=0;r<a;r++){var s=this.checkListArr[r];s.checked&&(this.selectedNumber>=this.limitNum?s.checked=!1:this.selectedNumber++),e.test(s.label)?(s.show=!0,s.checked&&(this.multiSelectedItemNames[s.label]=!0)):s.show=!1}i=this.selectedNumber>=this.limitNum||this.selectedNumber>=this.checkListArr.length}else this.checkListArr.forEach((function(a){e.test(a.label)?(a.show=!0,a.checked?t.multiSelectedItemNames[a.label]=!0:i=!1):a.show=!1}));return this.operateSelectAll=i,this.resizeCallback(),this.multiSelectedItemNames}},destroyed:function(){window.removeEventListener("resize",this.resizeCallback),this.searchInputTimer&&(clearTimeout(this.searchInputTimer),this.searchInputTimer=null)}}),o=s,n=(i("82b9"),i("2877")),l=Object(n["a"])(o,a,r,!1,null,null,null);t["a"]=l.exports},b680:function(e,t,i){"use strict";var a=i("23e7"),r=i("a691"),s=i("408a"),o=i("1148"),n=i("d039"),l=1..toFixed,c=Math.floor,h=function(e,t,i){return 0===t?i:t%2===1?h(e,t-1,i*e):h(e*e,t/2,i)},u=function(e){var t=0,i=e;while(i>=4096)t+=12,i/=4096;while(i>=2)t+=1,i/=2;return t},m=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){l.call({})}));a({target:"Number",proto:!0,forced:m},{toFixed:function(e){var t,i,a,n,l=s(this),m=r(e),d=[0,0,0,0,0,0],g="",p="0",f=function(e,t){var i=-1,a=t;while(++i<6)a+=e*d[i],d[i]=a%1e7,a=c(a/1e7)},v=function(e){var t=6,i=0;while(--t>=0)i+=d[t],d[t]=c(i/e),i=i%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==d[e]){var i=String(d[e]);t=""===t?i:t+o.call("0",7-i.length)+i}return t};if(m<0||m>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(t=u(l*h(2,69,1))-69,i=t<0?l*h(2,-t,1):l/h(2,t,1),i*=4503599627370496,t=52-t,t>0){f(0,i),a=m;while(a>=7)f(1e7,0),a-=7;f(h(10,a,1),0),a=t-1;while(a>=23)v(1<<23),a-=23;v(1<<a),f(1,1),v(2),p=b()}else f(0,i),f(1<<-t,0),p=b()+o.call("0",m);return m>0?(n=p.length,p=g+(n<=m?"0."+o.call("0",m-n)+p:p.slice(0,n-m)+"."+p.slice(n-m))):p=g+p,p}})},d707:function(e,t,i){"use strict";i("74d4")},fb6a:function(e,t,i){"use strict";var a=i("23e7"),r=i("861d"),s=i("e8b5"),o=i("23cb"),n=i("50c4"),l=i("fc6a"),c=i("8418"),h=i("b622"),u=i("1dde"),m=i("ae40"),d=u("slice"),g=m("slice",{ACCESSORS:!0,0:0,1:2}),p=h("species"),f=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!d||!g},{slice:function(e,t){var i,a,h,u=l(this),m=n(u.length),d=o(e,m),g=o(void 0===t?m:t,m);if(s(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?r(i)&&(i=i[p],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return f.call(u,d,g);for(a=new(void 0===i?Array:i)(v(g-d,0)),h=0;d<g;d++,h++)d in u&&c(a,h,u[d]);return a.length=h,a}})}}]);