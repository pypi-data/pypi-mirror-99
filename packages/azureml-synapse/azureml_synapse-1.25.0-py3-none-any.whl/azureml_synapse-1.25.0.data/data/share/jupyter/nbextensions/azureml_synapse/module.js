!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"),require("moment"),require("base/js/namespace"),require("base/js/events"),require("require"),require("notebook/js/codecell"));else if("function"==typeof define&&define.amd)define(["jquery","moment","base/js/namespace","base/js/events","require","notebook/js/codecell"],e);else{var a="object"==typeof exports?e(require("jquery"),require("moment"),require("base/js/namespace"),require("base/js/events"),require("require"),require("notebook/js/codecell")):e(t.jquery,t.moment,t["base/js/namespace"],t["base/js/events"],t.require,t["notebook/js/codecell"]);for(var o in a)("object"==typeof exports?exports:t)[o]=a[o]}}("undefined"!=typeof self?self:this,function(t,e,a,o,n,i){return function(t){function e(o){if(a[o])return a[o].exports;var n=a[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,o){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=195)}({113:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var a=t.cell_id;x.hasOwnProperty(a)&&(C[x[a]]=!1),x[a]=e,C[e]=t}function i(t){var e=C[t];return void 0==e&&(e=null),e}function s(t){if(C.hasOwnProperty(t)){var e=C[t];delete x[e],delete C[t]}}function r(t,e){var a=e.cell;a instanceof y&&(w.length<=0&&(g.default.trigger("started.currentcell",a),g.default.trigger("started"+a.cell_id+"currentcell",a)),w.push(a),h=w[0])}function l(t,e){null!=h&&(g.default.trigger("finished.currentcell",h),g.default.trigger("finished"+h.cell_id+"currentcell",h)),w.shift(),null!=(h=w[0])&&(g.default.trigger("started.currentcell",h),g.default.trigger("started"+h.cell_id+"currentcell",h))}function d(){return h}function p(){return f}function c(t,e){var a=e.cell,o=w.indexOf(a);o>=-1&&w.splice(o,1)}function u(){S||(g.default.on("execute.CodeCell",r),g.default.on("finished_execute.CodeCell",l),g.default.on("delete.Cell",c))}Object.defineProperty(e,"__esModule",{value:!0});var h,f,m=a(72),b=(o(m),a(73)),g=o(b),v=a(207),A=o(v),k=a(32),y=(o(k),A.default.CodeCell),w=[],S=!1,x={},C={};e.default={register:u,getRunningCell:d,getLastCell:p,addCellPair:n,removeCellPair:s,getFrontendCell:i},t.exports=e.default},114:function(t,e){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var o=new Uint8Array(16);t.exports=function(){return a(o),o}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},115:function(t,e){function a(t,e){var a=e||0,n=o;return[n[t[a++]],n[t[a++]],n[t[a++]],n[t[a++]],"-",n[t[a++]],n[t[a++]],"-",n[t[a++]],n[t[a++]],"-",n[t[a++]],n[t[a++]],"-",n[t[a++]],n[t[a++]],n[t[a++]],n[t[a++]],n[t[a++]],n[t[a++]]].join("")}for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);t.exports=a},195:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(){console.log("SparkMonitor: Loading SparkMonitor Front-End Extension");var t=new s.default;window.sm=t,l.default.register()}Object.defineProperty(e,"__esModule",{value:!0}),e.load_ipython_extension=void 0;var i=a(196),s=o(i),r=a(113),l=o(r);e.load_ipython_extension=n},196:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(){var t=this;this.id=b(),this.cellmonitors={},this.comm=null,l.default.on("kernel_connected.Kernel",p.default.proxy(this.startComm,this)),this.data={},this.appName="NULL",this.appId="NULL",this.app="NULL",this.totalCores=0,this.numExecutors=0,this.display_mode="shown",l.default.on("clear_output.CodeCell",function(e,a){var o=t.getCellMonitor(a.cell.cell_id);o&&(o.removeDisplay(),t.stopCellMonitor(a.cell.cell_id))}),this.createButtons()}Object.defineProperty(e,"__esModule",{value:!0});var i=a(72),s=o(i),r=a(73),l=o(r),d=a(32),p=o(d),c=a(197),u=o(c),h=a(113),f=o(h),m=a(208),b=m.v4;n.prototype.getCellMonitor=function(t){return this.cellmonitors[t]},n.prototype.startCellMonitor=function(t){var e=this;return null!=this.cellmonitors[t.cell_id]&&this.cellmonitors[t.cell_id].removeDisplay(),l.default.one("started"+t.cell_id+"currentcell",function(){var a=t;e.cellExecutedAgain(a)}),this.cellmonitors[t.cell_id]=new u.default(this,t),this.display_mode="shown",this.cellmonitors[t.cell_id]},n.prototype.cellExecutedAgain=function(t){this.stopCellMonitor(t.cell_id)},n.prototype.stopCellMonitor=function(t){null!=this.cellmonitors[t]&&(this.cellmonitors[t].removeDisplay(),this.cellmonitors[t]=null,delete this.cellmonitors[t])},n.prototype.createButtons=function(){var t=this,e=function(){t.toggleAll()},a={icon:"fa-tasks",help:"Toggle Spark Monitoring Displays",help_index:"zz",handler:e},o=s.default.actions.register(a,"toggle-spark-monitoring","SparkMonitor");s.default.toolbar.add_buttons_group([o])},n.prototype.toggleAll=function(){"hidden"==this.display_mode?this.showAll():"shown"==this.display_mode&&this.hideAll()},n.prototype.showAll=function(){for(var t in this.cellmonitors)this.cellmonitors.hasOwnProperty(t)&&0==this.cellmonitors[t].displayVisible&&this.cellmonitors[t].createDisplay();this.display_mode="shown"},n.prototype.hideAll=function(){for(var t in this.cellmonitors)this.cellmonitors.hasOwnProperty(t)&&1==this.cellmonitors[t].displayVisible&&this.cellmonitors[t].removeDisplay();this.display_mode="hidden"},n.prototype.on_comm_msg=function(t){this.handleMessage(t)},n.prototype.on_comm_close=function(t){console.log("SparkMonitor: Comm Close Message:",t)},n.prototype.startComm=function(){console.log("SparkMonitor: Starting Comm with kernel."),this.comm&&this.comm.close(),this.comm=s.default.notebook.kernel.comm_manager.new_comm("SynapseSparkMonitor",{msgtype:"FrontEndStart",clienttype:"Jupyter",clientid:this.id}),this.comm.on_msg(p.default.proxy(this.on_comm_msg,this)),this.comm.on_close(p.default.proxy(this.on_comm_close,this))},n.prototype.getCellWithGuid=function(t,e){var a=f.default.getFrontendCell(t);if(null==a){var a=f.default.getRunningCell();null!=a&&e&&f.default.addCellPair(a,t)}return a},n.prototype.onSparkJobStart=function(t){var e=this.getCellWithGuid(t.cellGuid,!0);if(null==e)return void console.error("SparkMonitor: Job started with no running cell.");if(0==e)return void console.error("SparkMonitor: Job started with cell that already has a another monitor.");console.log("SparkMonitor: Job Start at cell: ",e.cell_id,t);var a=this.getCellMonitor(e.cell_id);a||(a=this.startCellMonitor(e)),this.data["app"+this.app+"job"+t.jobId]={cell_id:e.cell_id},this.totalCores=t.totalCores,this.numExecutors=t.numExecutors,a&&a.onSparkJobStart(t)},n.prototype.onSparkJobEnd=function(t){var e=this.data["app"+this.app+"job"+t.jobId].cell_id;if(e){console.log("SparkMonitor: Job End at cell: ",e,t);var a=this.getCellMonitor(e);a&&a.onSparkJobEnd(t),f.default.removeCellPair(t.cellGuid)}else console.error("SparkMonitor:ERROR no cellID for job")},n.prototype.onSparkStageSubmitted=function(t){console.log("SparkMonitor:Stage Submitted",t);var e=this.getCellWithGuid(t.cellGuid,!1);if(null==e)return void console.error("SparkMonitor: Stage started with no running cell.");if(0==e)return void console.error("SparkMonitor: Job started with cell that already has a another monitor.");this.data["app"+this.app+"stage"+t.stageId]={cell_id:e.cell_id};var a=this.getCellMonitor(e.cell_id);a&&a.onSparkStageSubmitted(t)},n.prototype.onSparkStageCompleted=function(t){console.log("SparkMonitor:Stage Completed",t);var e=this.data["app"+this.app+"stage"+t.stageId].cell_id;if(e){var a=this.cellmonitors[e];a&&a.onSparkStageCompleted(t)}else console.error("SparkMonitor:ERROR no cellId for completed stage")},n.prototype.onSparkTaskStart=function(t){var e=this.data["app"+this.app+"stage"+t.stageId].cell_id;if(e){var a=this.getCellMonitor(e);a&&a.onSparkTaskStart(t)}else console.error("SparkMonitor:ERROR no cellID for task start")},n.prototype.onSparkTaskEnd=function(t){var e=this.data["app"+this.app+"stage"+t.stageId].cell_id;if(e){var a=this.getCellMonitor(e);a&&a.onSparkTaskEnd(t)}else console.error("SparkMonitor:ERROR no cellID for task end")},n.prototype.onSparkApplicationEnd=function(t){},n.prototype.onSparkApplicationStart=function(t){this.appId=t.appId,this.appName=t.appName,this.appAttemptId=t.appAttemptId,this.app=this.appId+"_"+this.appAttemptId},n.prototype.onSparkExecutorAdded=function(t){this.totalCores=t.totalCores,this.numExecutors+=1;var e=f.default.getRunningCell();if(null!=e){var a=this.getCellMonitor(e.cell_id);a&&a.onSparkExecutorAdded(t)}},n.prototype.onSparkExecutorRemoved=function(t){this.totalCores=t.totalCores,this.numExecutors-=1;var e=f.default.getRunningCell();if(null!=e){var a=this.getCellMonitor(e.cell_id);a&&a.onSparkExecutorRemoved(t)}},n.prototype.handleMessage=function(t){if(t.content.data.msgtype||console.warn("SparkMonitor: Unknown message"),"fromlivy"==t.content.data.msgtype){var e=JSON.parse(t.content.data.msg);switch(e.msgtype){case"sparkJobReceived":var a=f.default.getRunningCell();f.default.addCellPair(a,e.cellGuid),console.log("SparkMonitor: Spark job received: "+e.cellGuid);break;case"sparkJobStart":this.onSparkJobStart(e);break;case"sparkJobEnd":this.onSparkJobEnd(e);break;case"sparkStageSubmitted":this.onSparkStageSubmitted(e);break;case"sparkStageCompleted":this.onSparkStageCompleted(e);break;case"sparkTaskStart":this.onSparkTaskStart(e);break;case"sparkTaskEnd":this.onSparkTaskEnd(e);break;case"sparkApplicationStart":this.onSparkApplicationStart(e);break;case"sparkApplicationEnd":this.onSparkApplicationEnd(e);break;case"sparkExecutorAdded":this.onSparkExecutorAdded(e);break;case"sparkExecutorRemoved":this.onSparkExecutorRemoved(e);break;case"sparkMonitorDebug":console.log("SparkMonitor[Debug]:",e.info)}}},e.default=n,t.exports=e.default},197:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var a=this;window.cm=this,this.monitor=t,this.cell=e,this.view="jobs",this.lastview="jobs",this.initialDisplayCreated=!1,this.displayVisible=!1,this.cellcompleted=!1,this.allcompleted=!1,this.displayElement=null,this.cellStartTime=new Date,this.cellEndTime=-1,this.badgesmodified=!1,this.badgeInterval=null,this.numActiveJobs=0,this.numCompletedJobs=0,this.numFailedJobs=0,l.default.off("finished"+e.cell_id+"currentcell"),l.default.one("finished"+e.cell_id+"currentcell",function(){a.onCellExecutionCompleted()}),this.jobData={},this.stageData={},this.stageIdtoJobId={},this.timeline=null,this.taskchart=null,A&&(this.timeline=new A(this)),k&&(this.taskchart=new k(this))}Object.defineProperty(e,"__esModule",{value:!0});var i=a(72),s=o(i),r=a(73),l=o(r),d=a(198),p=o(d),c=a(32),u=o(c),h=a(199),f=(o(h),a(200)),m=o(f);a(201),a(203);var b=a(205),g=(o(b),a(33)),v=o(g);a(206);var A=null,k=null;(0,p.default)(["./timeline"],function(t){A=t,console.log("SparkMonitor: Timeline module loaded",[t])}),(0,p.default)(["./taskchart"],function(t){k=t,console.log("SparkMonitor: TaskChart module loaded",[t])}),n.prototype.createDisplay=function(){var t=this;if(this.cell.element.find(".CellMonitor").length)console.error("SparkMonitor: Error Display Already Exists");else{var e=(0,u.default)(m.default).hide();this.displayElement=e,this.cell.element.find(".inner_cell").append(e),e.slideToggle(),this.displayVisible=!0,this.allcompleted||(this.badgeInterval=setInterval(u.default.proxy(this.setBadges,this),1e3)),this.setBadges(!0),e.find(".stopbutton").click(function(){t.stopJobs()}),this.cellcompleted&&e.find(".stopbutton").hide(),e.find(".stopbutton").hide(),e.find(".closebutton").click(function(){t.removeDisplay()}),e.find(".sparkuitabbutton").click(function(){t.openSparkUI("")}),e.find(".titlecollapse").click(function(){"hidden"!=t.view?(t.lastview=t.view,t.hideView(t.view),t.view="hidden",t.cell.element.find(".content").slideUp({queue:!1,duration:400,complete:function(){t.cell.element.find(".headericon").addClass("headericoncollapsed"),e.find(".tabcontent").removeClass("tabcontentactive"),e.find(".tabbutton").removeClass("tabbuttonactive")}})):t.showView(t.lastview)}),this.timeline||e.find(".timelinetabbutton").hide(),this.taskchart||e.find(".taskviewtabbutton").hide(),e.find(".taskviewtabbutton").click(function(){"tasks"!=t.view&&t.showView("tasks")}),e.find(".timelinetabbutton").click(function(){"timeline"!=t.view&&t.showView("timeline")}),e.find(".jobtabletabbutton").click(function(){"jobs"!=t.view&&t.showView("jobs")}),this.showView("jobs")}},n.prototype.removeDisplay=function(){this.displayVisible=!1,this.badgeInterval&&(clearInterval(this.badgeInterval),this.badgeInterval=null),this.hideView(this.view),this.displayElement.remove()},n.prototype.stopJobs=function(){s.default.notebook.kernel.interrupt(),this.monitor.send({msgtype:"sparkStopJobs"})},n.prototype.openSparkUI=function(t){window.open(this.sparkUiUrl+t)},n.prototype.showView=function(t){var e=this,a=this.displayElement;switch(a.find(".tabcontent").removeClass("tabcontentactive"),a.find(".tabbutton").removeClass("tabbuttonactive"),"hidden"==this.view&&a.find(".content").slideDown({queue:!1,duration:400,complete:function(){e.cell.element.find(".headericon").removeClass("headericoncollapsed")}}),t){case"jobs":this.hideView(this.view),this.view="jobs",a.find(".jobtablecontent").addClass("tabcontentactive"),a.find(".jobtabletabbutton").addClass("tabbuttonactive"),this.createJobTable();break;case"tasks":if(this.hideView(this.view),this.view="tasks",a.find(".taskviewcontent").addClass("tabcontentactive"),a.find(".taskviewtabbutton").addClass("tabbuttonactive"),!this.taskchart)throw"Error Task Chart Module not loaded yet";this.taskchart.create();break;case"timeline":if(this.hideView(this.view),this.view="timeline",a.find(".timelinecontent").addClass("tabcontentactive"),a.find(".timelinetabbutton").addClass("tabbuttonactive"),!this.timeline)throw"Error Timeline Module not loaded yet";this.timeline.create()}},n.prototype.hideView=function(t){try{switch(t){case"jobs":this.hideJobTable();break;case"tasks":this.taskchart&&this.taskchart.hide();break;case"timeline":this.timeline&&this.timeline.hide()}}catch(t){}},n.prototype.setBadges=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.badgesmodified||t)&&(this.badgesmodified=!1,this.displayElement.find(".badgeexecutorcount").text(this.monitor.numExecutors),this.displayElement.find(".badgeexecutorcorescount").text(this.monitor.totalCores),this.numActiveJobs>0?(this.displayElement.find(".badgerunning").show().css("display","inline"),this.displayElement.find(".badgerunningcount").html(this.numActiveJobs)):this.displayElement.find(".badgerunning").hide(500),this.numCompletedJobs>0?(this.displayElement.find(".badgecompleted").show().css("display","inline"),this.displayElement.find(".badgecompletedcount").html(this.numCompletedJobs)):this.displayElement.find(".badgecompleted").hide(500),this.numFailedJobs>0?(this.displayElement.find(".badgefailed").show().css("display","inline"),this.displayElement.find(".badgefailedcount").html(this.numFailedJobs)):this.displayElement.find(".badgefailed").hide(500))},n.prototype.onCellExecutionCompleted=function(){this.cellEndTime=new Date,this.cellcompleted=!0,0!=this.numActiveJobs||this.allcompleted||this.onAllCompleted(),this.displayVisible&&this.displayElement.find(".stopbutton").hide(500)},n.prototype.onAllCompleted=function(){this.allcompleted=!0,this.badgeInterval&&(clearInterval(this.badgeInterval),this.badgeInterval=null),this.displayVisible&&this.setBadges(!0),this.timeline&&this.timeline.onAllCompleted(),this.taskchart&&this.taskchart.onAllCompleted()},n.prototype.createJobTable=function(){if("jobs"!=this.view)throw"SparkMonitor: Drawing job table when view is not jobs";var t=this,e=(0,u.default)("<thead><tr>                            <th class='thbutton'></th>                            <th class='thjobid'>Job ID</th >                            <th class='thjobname'>Job Name</th>                            <th class='thjobstatus'>Status</th>                            <th class='thjobstages'>Stages</th>                            <th class='thjobtasks'>Tasks</th>                            <th class='thjobstart'>Submission Time</th>                            <th class='thjobtime'>Duration</th>                        </tr ></thead >"),a=(0,u.default)("<tbody></tbody>").addClass("jobtablebody");for(var o in t.jobData){var n=t.jobData[o],i=t.createJobItem();t.updateJobItem(i,n,!0),a.append(i)}var s=(0,u.default)("<table/>").addClass("jobtable");s.append(e,a),this.displayElement.find(".jobtablecontent").empty().append(s),this.allcompleted||this.registerJobTableRefresher()},n.prototype.createStageItem=function(){var t=(0,u.default)("<tr></tr>").addClass("stagerow"),e=(0,u.default)("<td></td>").addClass("tdstageid"),a=(0,u.default)("<td></td>").text("Unknown").addClass("tdstagename"),o=(0,u.default)("<span></span>").addClass("UNKNOWN").text("UNKNOWN"),n=(0,u.default)("<td></td>").addClass("tdstagestatus").html(o),i=(0,u.default)('<div class="cssprogress">                      <div class="data"></div><span class="val1"></span><span class="val2"></span></div>').addClass("tdstageitemprogress"),s=(0,u.default)("<td></td>").addClass("tdstageprogress").append(i),r=(0,u.default)("<td></td>").text("Unknown").addClass("tdstagestarttime"),l=(0,u.default)("<td></td>").text("-").addClass("tdstageduration");return t.append(e,a,n,s,r,l),t},n.prototype.updateStageItem=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.modified||a){e.modified=!1;var o=(0,u.default)("<span></span>").addClass(e.status).text(e.status);t.find(".tdstagestatus").html(o),t.find(".tdstageid").text(e.id);var n=0,i=0,s=e.numCompletedTasks+(e.numActiveTasks>0?" + "+e.numActiveTasks+" ":"")+" / "+e.numTasks;if(e.numTasks>0&&(n=e.numCompletedTasks/e.numTasks*100,i=e.numActiveTasks/e.numTasks*100,t.find(".tdstageitemprogress .data").text(s)),t.find(".tdstagestatus"),t.find(".tdstageitemprogress .val1").width(n+"%"),t.find(".tdstageitemprogress .val2").width(i+"%"),e.name&&t.find(".tdstagename").text(e.name),e.start){var r=(0,u.default)("<time></time>").addClass("timeago").attr("data-livestamp",e.start).attr("title",e.start.toString()).text(e.start.toString());t.find(".tdstagestarttime").empty().html(r)}if(e.start&&e.end&&"RUNNING"!=e.status){var l=v.default.duration(e.end.getTime()-e.start.getTime());t.find(".tdstageduration").text(l.format("d[d] h[h]:mm[m]:ss[s]"))}}},n.prototype.createJobItem=function(){var t=(0,u.default)('<tr><td class="stagetableoffset"></td><td colspan=7 class="stagedata"></td></tr>').addClass("jobstagedatarow").hide(),e=(0,u.default)("<table class='stagetable'>                    <thead>                    <th class='thstageid'>Stage Id</th>                    <th class='thstagename'>Stage Name</th>                    <th class='thstagestatus'>Status</th>                    <th class='thstagetasks'>Tasks</th>                    <th class='thstagestart'>Submission Time</th>                    <th class='thstageduration'>Duration</th>                    </thead>                    <tbody></tbody></table>").addClass("stagetable");t.find(".stagedata").append(e);var a=(0,u.default)("<td></td>").addClass("tdstagebutton").html('<span class="tdstageicon"></span>'),o=a.find(".tdstageicon");a.click(function(){o.toggleClass("tdstageiconcollapsed"),t.slideToggle()});var n=(0,u.default)("<td></td>").addClass("tdjobid"),i=(0,u.default)("<td></td>").addClass("tdjobname"),s=(0,u.default)("<span></span>").addClass("pending").text("PENDING").addClass("tditemjobstatus"),r=(0,u.default)("<td></td>").addClass("tdjobstatus").html(s),l=(0,u.default)("<td></td>").addClass("tdjobstages"),d=(0,u.default)('<div class="cssprogress">                        <div class="data"></div><span class="val1"></span><span class="val2"></span></div>').addClass("tdjobitemprogress"),p=(0,u.default)("<td></td>").addClass("tdtasks").append(d),c=(0,u.default)("<td></td>").addClass("tdjobstarttime"),h=(0,u.default)("<td></td>").text("-").addClass("tdjobduration"),f=(0,u.default)("<tr></tr>").addClass("jobrow");return f.append(a,n,i,r,l,p,c,h),f.add(t)},n.prototype.updateJobItem=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.modified||a){e.modified=!1,t.addClass("jobrow"+e.id);var o=this;e.stageIds.forEach(function(e){var a=t.find(".stagerow"+e);a.length?o.updateStageItem(a,o.stageData[e]):(a=o.createStageItem().addClass("stagerow"+e),t.find(".stagetable tbody").append(a),o.updateStageItem(a,o.stageData[e],!0))});var n=0,i=0;if(e.numTasks>0){n=e.numCompletedTasks/e.numTasks*100,i=e.numActiveTasks/e.numTasks*100;var s=e.numCompletedTasks+(e.numActiveTasks>0?" + "+e.numActiveTasks+" ":"")+" / "+e.numTasks;t.find(".tdjobitemprogress").find(".data").text(s),t.find(".tdjobitemprogress .val1").width(n+"%"),t.find(".tdjobitemprogress .val2").width(i+"%")}t.find(".tdjobid").text(e.id),t.find(".tdjobname").text(e.name);var r=(0,u.default)("<span></span>").addClass(e.status).text(e.status).addClass("tditemjobstatus");t.find(".tdjobstatus").html(r),t.find(".tdjobstages").text(e.numCompletedStages+"/"+e.numStages+(e.numSkippedStages>0?" ("+e.numSkippedStages+" skipped)":"        ")+(e.numActiveStages>0?"("+e.numActiveStages+" active) ":""));var l=(0,u.default)("<time></time>").addClass("timeago").attr("data-livestamp",e.start).attr("title",e.start.toString()).addClass("tdjobstart").livestamp(e.start);if(t.find(".tdjobstarttime").html(l),"RUNNING"!=e.status){var d=v.default.duration(e.end.getTime()-e.start.getTime());t.find(".tdjobduration").text(d.format("d[d] h[h]:mm[m]:ss[s]"))}}},n.prototype.updateJobTable=function(){var t=this;if("jobs"!=this.view)throw"SparkMonitor: Updating job table when view is not jobs";for(var e in t.jobData){var a=t.jobData[e],o=this.displayElement.find(".jobtablecontent table tbody .jobrow"+e);o.length?this.updateJobItem(o,a):(o=this.createJobItem(),this.displayElement.find(".jobtablebody").append(o),this.updateJobItem(o,a,!0))}},n.prototype.registerJobTableRefresher=function(){clearInterval(this.jobtableinterval);this.jobtableinterval=setInterval(u.default.proxy(this.updateJobTable,this),1e3)},n.prototype.clearJobTableRefresher=function(){clearInterval(this.jobtableinterval)},n.prototype.hideJobTable=function(){this.clearJobTableRefresher()},n.prototype.onSparkJobStart=function(t){var e=this;this.numActiveJobs+=1,this.badgesmodified=!0,this.appId=t.appId,this.sparkUiUrl=t.sparkUiUrl;var a=(0,u.default)("<div>").text(t.name).html().split(" ")[0];if(this.jobData[t.jobId]={id:t.jobId,start:new Date(t.submissionTime),name:a,status:t.status,stageIds:t.stageIds,numTasks:t.numTasks,numActiveTasks:0,numCompletedTasks:0,numFailedTasks:0,numStages:t.stageIds.length,numActiveStages:0,numCompletedStages:0,numFailedStages:0,numSkippedStages:0,modified:!0},t.stageIds.forEach(function(a){e.stageIdtoJobId[a]||(e.stageIdtoJobId[a]=[]),e.stageIdtoJobId[a].push(t.jobId);var o=(0,u.default)("<div>").text(t.stageInfos[a].name).html().split(" ")[0];e.stageData[a]={id:a,status:"PENDING",job:t.jobId,name:o,numTasks:t.stageInfos[a].numTasks,numActiveTasks:0,numCompletedTasks:0,numFailedTasks:0,modified:!0}}),"null"==a){var o=Math.max.apply(null,t.stageIds);e.jobData[t.jobId].name=e.stageData[o].name}this.initialDisplayCreated||(this.createDisplay(),this.initialDisplayCreated=!0),this.timeline&&this.timeline.onSparkJobStart(t),this.taskchart&&this.taskchart.onSparkJobStart(t)},n.prototype.onSparkJobEnd=function(t){var e=this;this.jobData[t.jobId].status=t.status;var a=0;this.jobData[t.jobId].stageIds.forEach(function(o){"PENDING"==e.stageData[o].status||"SKIPPED"==e.stageData[o].status?(e.stageData[o].status="SKIPPED",e.jobData[t.jobId].numSkippedStages+=1,e.jobData[t.jobId].numStages-=1,e.stageData[o].modified=!0):a+=e.stageData[o].numTasks}),e.jobData[t.jobId].numTasks=a,this.numActiveJobs-=1,"SUCCEEDED"==t.status?(this.numCompletedJobs+=1,this.jobData[t.jobId].status="COMPLETED"):(this.numFailedJobs+=1,this.jobData[t.jobId].status="FAILED"),this.badgesmodified=!0,this.jobData[t.jobId].end=new Date(t.completionTime),this.jobData[t.jobId].modified=!0,this.timeline&&this.timeline.onSparkJobEnd(t),this.taskchart&&this.taskchart.onSparkJobEnd(t),0==this.numActiveJobs&&this.cellcompleted&&!this.allcompleted&&this.onAllCompleted()},n.prototype.onSparkStageSubmitted=function(t){var e,a=this,o=(0,u.default)("<div>").text(t.name).html().split(" ")[0];e=-1==t.submissionTime?new Date:new Date(t.submissionTime),this.stageIdtoJobId[t.stageId].forEach(function(t){a.jobData[t].numActiveStages+=1,a.jobData[t].modified=!0}),this.stageData[t.stageId].status="RUNNING",this.stageData[t.stageId].name=o,this.stageData[t.stageId].start=e,this.stageData[t.stageId].numTasks=t.numTasks,this.stageData[t.stageId].modified=!0,this.timeline&&this.timeline.onSparkStageSubmitted(t)},n.prototype.onSparkStageCompleted=function(t){var e=this;(0,u.default)("<div>").text(t.name).html().split(" ")[0];this.stageIdtoJobId[t.stageId].forEach(function(a){e.jobData[a].numActiveStages-=1,e.jobData[a].modified=!0,"COMPLETED"==t.status?e.jobData[a].numCompletedStages+=1:e.jobData[a].numFailedStages+=1}),this.stageData[t.stageId].status=t.status,t.submissionTime>0&&(this.stageData[t.stageId].start=new Date(t.submissionTime)),t.completionTime>0&&(this.stageData[t.stageId].end=new Date(t.completionTime)),this.stageData[t.stageId].modified=!0,this.timeline&&this.timeline.onSparkStageCompleted(t)},n.prototype.onSparkTaskStart=function(t){var e=this;this.stageData[t.stageId].numActiveTasks+=1,this.stageData[t.stageId].firsttaskstart=new Date(t.launchTime),this.stageData[t.stageId].modified=!0,this.stageIdtoJobId[t.stageId].forEach(function(t){e.jobData[t].numActiveTasks+=1,e.jobData[t].modified=!0}),this.timeline&&this.timeline.onSparkTaskStart(t),this.taskchart&&this.taskchart.onSparkTaskStart(t)},n.prototype.onSparkTaskEnd=function(t){var e=this;this.stageData[t.stageId].numActiveTasks-=1,this.stageData[t.stageId].modified=!0,"SUCCESS"==t.status?this.stageData[t.stageId].numCompletedTasks+=1:this.stageData[t.stageId].numFailedTasks+=1,this.stageIdtoJobId[t.stageId].forEach(function(a){e.jobData[a].numActiveTasks-=1,e.jobData[a].modified=!0,"SUCCESS"==t.status?e.jobData[a].numCompletedTasks+=1:e.jobData[a].numFailedTasks+=1}),this.timeline&&this.timeline.onSparkTaskEnd(t),this.taskchart&&this.taskchart.onSparkTaskEnd(t)},n.prototype.onSparkExecutorAdded=function(t){this.badgesmodified=!0},n.prototype.onSparkExecutorRemoved=function(t){this.badgesmodified=!0},e.default=n,t.exports=e.default},198:function(t,e){t.exports=n},199:function(t,e,a){var o,n,i;!function(s){n=[a(32),a(33)],o=s,void 0!==(i="function"==typeof o?o.apply(e,n):o)&&(t.exports=i)}(function(t,e){var a=1e3,o=!1,n=t([]),i=function(){l.resume()},s=function(a,o){var i=a.data("livestampdata");if("number"==typeof o&&(o*=1e3),a.removeAttr("data-livestamp").removeData("livestamp"),o=e(o),e.isMoment(o)&&!isNaN(+o)){var s=t.extend({},{original:a.contents()},i);s.moment=e(o),a.data("livestampdata",s).empty(),n.push(a[0])}},r=function(){o||(l.update(),setTimeout(r,a))},l={update:function(){t("[data-livestamp]").each(function(){var e=t(this);s(e,e.data("livestamp"))});var a=[];n.each(function(){var o=t(this),n=o.data("livestampdata");if(void 0===n)a.push(this);else if(e.isMoment(n.moment)){var i=o.html(),s=n.moment.fromNow();if(i!=s){var r=t.Event("change.livestamp");o.trigger(r,[i,s]),r.isDefaultPrevented()||o.html(s)}}}),n=n.not(a),delete n.prevObject},pause:function(){o=!0},resume:function(){o=!1,r()},interval:function(t){if(void 0===t)return a;a=t}},d={add:function(a,o){return"number"==typeof o&&(o*=1e3),o=e(o),e.isMoment(o)&&!isNaN(+o)&&(a.each(function(){s(t(this),o)}),l.update()),a},destroy:function(e){return n=n.not(e),e.each(function(){var a=t(this),o=a.data("livestampdata");if(void 0===o)return e;a.html(o.original?o.original:"").removeData("livestampdata")}),e},isLivestamp:function(t){return void 0!==t.data("livestampdata")}};t.livestamp=l,t(i),t.fn.livestamp=function(t,e){return d[t]||(e=t,t="add"),d[t](this,e)}})},200:function(t,e){t.exports=' <div class="CellMonitor pm"> <div class=title> <span class=titleleft> <span class="tbitem titlecollapse"><span class=headericon></span></span> <span class=tabbuttons-outer> <span class=tabbuttons> <span class="jobtabletabbutton tabbutton" dt=tooltiptop title=Jobs><span class="jobtabbuttonicon tabbuttonicon"></span></span> <span class="taskviewtabbutton tabbutton" dt=tooltiptop title=Tasks><span class="taskviewtabbuttonicon tabbuttonicon"></span></span> <span class="timelinetabbutton tabbutton" dt=tooltiptop title="Event Timeline"><span class="timelinetabbuttonicon tabbuttonicon"></span></span> <span class="sparkuitabbutton tabbutton" dt=tooltiptop title="Open the Spark UI"><span class="sparkuitabbuttonicon tabbuttonicon"></span></span> <span class="stopbutton tabbutton" dt=tooltiptop title="Stop Running Jobs"><span class="stopbuttonicon tabbuttonicon"></span></span> </span> </span> </span> <span class=titleright> <span class="tbitem badgecontainer"> <b>Jobs:</b> <span class=badges><span class=badgerunning><span class=badgerunningcount>0</span> RUNNING</span> <span class=badgecompleted><span class=badgecompletedcount>0</span> COMPLETED</span><span class=badgefailed><span class=badgefailedcount>0</span> FAILED</span> </span> <b>Spark: </b> <span class=badgeexecutor><span class=badgeexecutorcount>0</span> EXECUTORS</span> <span class=badgeexecutorcores><span class=badgeexecutorcorescount>0</span> CORES</span> </span> <span class=tabbuttons-outer> <span class=tabbuttons> <span class="closebutton tabbutton" dt=tooltiptop title="Close Display"><span class="closebuttonicon tabbuttonicon"></span></span> </span> </span> </span> </div> <div class=content> <div class="jobtablecontent tabcontent"> </div> <div class="taskviewcontent tabcontent"> <div class=taskcontainer></div> </div> <div class="timelinecontent tabcontent"> <div class=timelinetoolbar> Event Timeline <span class=timecheckboxspan><input type=checkbox name=showtimes class=timecheckbox value=Bike>Show task phases</span> </div> <div class="timelinewrapper hidephases"> <div class=timelinecontainer1> </div> <div class=timelinecontainer2> </div> <div class=timelinecontainer3> </div> </div> </div> </div> </div> '},201:function(t,e,a){var o=a(202);"string"==typeof o&&(o=[[t.i,o,""]]);var n={};n.transform=void 0;a(35)(o,n);o.locals&&(t.exports=o.locals)},202:function(t,e,a){e=t.exports=a(34)(!1),e.push([t.i,'.pm{box-shadow:0 0 2px 0 rgba(0,0,0,.4);background-color:#f7f7f7;margin:5px 0;overflow-x:auto}.pm .title{background-color:#f5f5f5;overflow:hidden;height:30px;border-left:4px solid #f37600;min-width:620px}.pm .titleright{float:right;position:relative;height:100%}.pm .titleleft{display:inline-block;height:100%}.pm .tbitem{padding:0 15px;height:30px;text-align:center;vertical-align:middle;display:table-cell}.pm .badgecontainer{padding:0 5px}.pm .titlecollapse:hover{background-color:#cecece}.headericon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAXUlEQVR4AWMAgVGwjkGKNA3/GT4wZDAwkqABDA8zaBKtAQp/MjQwsBGnAQGvMVgTpwEB/zFMZ+AjoAEDPmUIpKGGfwzTGPho5OmfDPUMbKREnAYpSSOdgZGSxDcKADdXTK1stp++AAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%;background-size:100%;width:15px;display:inline-block;top:-2px;height:24px;vertical-align:middle;transition:transform .4s;transform:rotate(90deg)}.headericoncollapsed{transform:rotate(0deg)}.pm .badges{text-align:center;margin-right:10px}.badgerunning{color:#42a5f5}.badgecompleted{color:#20b520}.badgefailed{color:#db3636}.badgecompleted,.badgefailed,.badgerunning{font-size:80%;white-space:nowrap;font-weight:700;display:none;margin:0 2px}.badgeexecutor,.badgeexecutorcores{font-size:80%;white-space:nowrap;font-weight:700;margin:0 2px;color:rgba(117,57,0,.65)}.uibuttondisabled{color:#b2b2b2}.pm .cancel:active{font:larger}.pm .tabbuttonicon{display:inline-block;position:relative;top:-2px;width:24px;height:24px;vertical-align:middle;opacity:.6}.pm .timelinetabbuttonicon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAALklEQVR4AWMYRuA/YTjYNdA/lLCJka6BvgDF4gY4uwFZhnQN9PcDIZp0DcMGAADGCJlpwLGAQAAAAABJRU5ErkJggg==)}.pm .sparkuitabbuttonicon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfiDAcIBAc7ZMSOAAAAeklEQVQ4y+VSQRKAIAhcGB/Wz8yX5c/oZkDQ5DSewhOwi7IusDrosSt3LM/ewGqaPxUEwp4R4qieUEzW0VXWBrxjixYUVDddRlWcAAFBw18QLDzR/GofBl5jmiZYuHkOp/+/o0WtMmuZD9ZYRbA7BAbwNUq8n4rA+GGchuo6KeMih3UAAAAASUVORK5CYII=)}.pm .taskviewtabbuttonicon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAQ0lEQVR4Ac3SsQ2AQAzF0LcgOrH/AuSWCHUa0pxQ7Pa7++ZyC/nhthRCNoZC9h4OMCXA9ACDg7+/tNv5o7BEM79M5QVZbBWGPizgRwAAAABJRU5ErkJggg==)}.pm .jobtabbuttonicon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAG0lEQVR4AWMY2eA/BMJYmHAQahj19Kinhz0AAOazv0F7pjjzAAAAAElFTkSuQmCC)}.pm .stopbuttonicon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAr0lEQVR4Ab2TxxWDQBBDv2M3bmI7cJquoAsoiJNzAXvdAjBRzjl8XeaNJDL8nSFGyopQaFVMVmzuMGVLfqZtsb1Kl5j8hmK6XFDE7yi6vJj8gaant7pr1hkOr5DHkeleBghTxAGjpuKLCZw8Q6RaFqGmokleglhpqQqKS0tE0FIVxSXCB4UnL+nlm/7gsQ7ZPvPiXvs0Jh9+fNAluhPvfvoDiQFGwpJQaFlMVmz+zB4uewsoywq4xgAAAABJRU5ErkJggg==)}.pm .closebuttonicon{background-size:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAa0lEQVR4AeWSsREDIQwEtwlRhO3vP0JFPLgeHJDdnEfBh2y8F2hHnM5FJ1AayRtLshiE6F8WHUsw9kT0m8BDMFlMotZ10rzuaHtS63qo6s8HWkaLFXpo5ErXyKWukS25dRM5sXz+Pt+Ls/kBnolC6l7shJkAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:50%}.pm .tabbutton{display:inline-block;position:relative;height:100%;font-size:small;cursor:pointer;cursor:hand;padding:5px;margin:0 8px}.pm .closebutton{padding:5px;margin:0}.pm .tabbuttons{margin:0;font-size:0;display:inline-block;height:30px}.pm .tabbuttons-outer{display:table-cell}.pm .cancelbutton:hover,.pm .tabbutton:hover{background-color:#cecece}.pm .tabbuttonactive{font-weight:700;border-bottom:2px solid #f37600}.pm .content{float:clear}.pm .tabcontent{display:none}.pm .tabcontentactive{display:initial}.sparkuiframe{width:100%;height:100%;box-sizing:border-box;overflow:hidden;background-repeat:no-repeat;background-position:50%}.ui-tooltip{background:#666;color:#fff;border:none;padding:0;opacity:1}.ui-tooltip-content{position:relative;padding:5px}.ui-tooltip-content:after{content:"";position:absolute;border-style:solid;display:block;width:0}.tpright .ui-tooltip-content:after{top:5px;left:-10px;border-color:transparent #666;border-width:10px 10px 10px 0}.tpleft .ui-tooltip-content:after{top:5px;right:-10px;border-color:transparent #666;border-width:10px 0 10px 10px}.tptop .ui-tooltip-content:after{bottom:-10px;left:72px;border-color:#666 transparent;border-width:10px 10px 0}.tpbottom .ui-tooltip-content:after{top:-10px;left:72px;border-color:#666 transparent;border-width:0 10px 10px}.sparkui-dialog{padding:0;box-shadow:0 0 6px 0 hsla(0,0%,50%,.83)}.sparkui-dialog .ui-corner-all{border-radius:0}.sparkui-dialog .ui-dialog-content.ui-widget-content{padding:0}.sparkui-dialog .ui-widget-header{border:1px solid #f37600;background:#f37600;color:#000;font-weight:700;text-align:center}.pm .taskcontainer{user-select:none}',""])},203:function(t,e,a){var o=a(204);"string"==typeof o&&(o=[[t.i,o,""]]);var n={};n.transform=void 0;a(35)(o,n);o.locals&&(t.exports=o.locals)},204:function(t,e,a){e=t.exports=a(34)(!1),e.push([t.i,".pm .tdstageicon{display:block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAXUlEQVR4AWMAgVGwjkGKNA3/GT4wZDAwkqABDA8zaBKtAQp/MjQwsBGnAQGvMVgTpwEB/zFMZ+AjoAEDPmUIpKGGfwzTGPho5OmfDPUMbKREnAYpSSOdgZGSxDcKADdXTK1stp++AAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%;background-size:100%;width:15px;top:-2px;height:24px;vertical-align:middle;transition:transform .4s;transform:rotate(0deg)}.pm .tdstageiconcollapsed{transform:rotate(90deg)}.pm td.stagetableoffset{background-color:#f5f5f5}.pm th{background-color:#fafafa}.pm td,.pm th{font-size:small;border:0}.pm td{background-color:#fff;border-top:1px solid rgba(84,84,84,.08)}.pm table{border-radius:0;width:100%}.pm tbody{overflow:auto}.pm tr{border:0}.pm td,.pm th{text-align:center;vertical-align:middle;height:25px;line-height:25px}.pm tr .tdstagebutton:hover~td,tr .tdstagebutton:hover{background-color:rgba(184,223,255,.37)}.pm th.thbutton{width:4%}.pm th.thjobid{width:6%}.pm th.thjobname{width:10%}.pm th.thjobstatus{width:12%}.pm th.thjobtages{width:10%}.pm th.thjobtasks{width:28%}.pm th.thjobstart{width:20%}.pm th.thjobtime{width:10%}.pm th.thstageid{width:8%}.pm th.thstagename{width:10%}.pm th.thstagestatus{width:17%}.pm th.thstagetasks{width:33%}.pm th.thstagestart{width:20%}.pm th.thstageduration{width:12%}.pm .tdstatus,progress{padding:2px}.pm .RUNNING{color:#42a5f5}.pm .FAILED{color:#db3636}.pm .COMPLETED{color:#20b520}.pm .PENDING{color:#9c27b0}.pm .SKIPPED{color:#616161}.pm .COMPLETED,.pm .FAILED,.pm .PENDING,.pm .RUNNING,.pm .SKIPPED{font-size:75%;padding:4px 8px;border-radius:2px}.pm .stagetable tr th{background:#fafafa}.pm .cssprogress{display:block;background:#e7e7e7;width:100%;height:2em;padding:0;overflow:hidden;text-align:left;position:relative;font-size:75%;border-radius:2px;color:#fff}.pm .cssprogress .val1{width:0;background:#20b520}.pm .cssprogress .data{text-align:center;width:100%;position:absolute;z-index:4;line-height:20px}.pm .cssprogress .val2{background:#42a5f5;width:0}.pm .cssprogress span{height:100px;display:inline-block;position:relative;overflow:hidden;margin:0;padding:0;transition:width 1s;top:-50px}",""])},205:function(t,e,a){t.exports=a.p+"8a7630caadfb15dbd13cb469853ab004.gif"},206:function(t,e,a){/*! Moment Duration Format v1.3.0
 *  https://github.com/jsmreese/moment-duration-format 
 *  Date: 2014-07-15
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2014 John Madhavan-Reese
 *  Released under the MIT license
 */
!function(t,e){function o(t){var e="";if(!(t=parseInt(t,10))||t<1)return e;for(;t;)e+="0",t-=1;return e}function n(t,e,a){return null==t&&(t=""),t=""+t,(a?t:"")+o(e-t.length)+(a?"":t)}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t,e){for(var a=t.length;a-=1;)if(e(t[a]))return t[a]}function l(t,e){var a,o=0,n=t.length;for("function"!=typeof e&&(a=e,e=function(t){return t===a});o<n;){if(e(t[o]))return t[o];o+=1}}function d(t,e){var a=0,o=t.length;if(t&&o)for(;a<o;){if(!1===e(t[a],a))return;a+=1}}function p(t,e){var a=0,o=t.length,n=[];if(!t||!o)return n;for(;a<o;)n[a]=e(t[a],a),a+=1;return n}function c(t,e){return p(t,function(t){return t[e]})}function u(t){var e=[];return d(t,function(t){t&&e.push(t)}),e}function h(t){var e=[];return d(t,function(t){l(e,t)||e.push(t)}),e}function f(t,e){var a=[];return d(t,function(t){d(e,function(e){t===e&&a.push(t)})}),h(a)}function m(t,e){var a=[];return d(t,function(o,n){if(!e(o))return a=t.slice(n),!1}),a}function b(t,e){return m(t.slice().reverse(),e).reverse()}function g(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}var v;try{v=a(33)}catch(t){}if(!v&&t.moment&&(v=t.moment),!v)throw"Moment Duration Format cannot find Moment.js";v.duration.fn.format=function(){var t,e,a,r,A,k,y=[].slice.call(arguments),w=g({},this.format.defaults),S=v.duration(this);return w.duration=this,d(y,function(t){return"string"==typeof t||"function"==typeof t?void(w.template=t):"number"==typeof t?void(w.precision=t):void(s(t)&&g(w,t))}),a=w.types=i(w.types)?w.types:w.types.split(" "),"function"==typeof w.template&&(w.template=w.template.apply(w)),t=new RegExp(p(a,function(t){return w[t].source}).join("|"),"g"),r=function(t){return l(a,function(e){return w[e].test(t)})},e=p(w.template.match(t),function(t,e){var a=r(t);return{index:e,length:t.length,token:"escape"===a?t.replace(w.escape,"$1"):t,type:"escape"===a||"general"===a?null:a}},this),A=f(a,h(u(c(e,"type")))),A.length?(d(A,function(t,a){var o,n,i,s,r;o=S.as(t),n=o>0?Math.floor(o):Math.ceil(o),i=o-n,s=a+1===A.length,r=!a,d(e,function(e){e.type===t&&(g(e,{value:o,wholeValue:n,decimalValue:i,isLeast:s,isMost:r}),r&&null==w.forceLength&&e.length>1&&(w.forceLength=!0))}),S.subtract(n,t)}),w.trim&&(e=("left"===w.trim?m:b)(e,function(t){return!(t.isLeast||null!=t.type&&t.wholeValue)})),k=!1,"right"===w.trim&&e.reverse(),e=p(e,function(t){var e,a;if(!t.type)return t.token;if(e=t.isLeast&&w.precision<0?(Math.floor(t.wholeValue*Math.pow(10,w.precision))*Math.pow(10,-w.precision)).toString():t.wholeValue.toString(),e=e.replace(/^\-/,""),t.length>1&&(k||t.isMost||w.forceLength)&&(e=n(e,t.length)),t.isLeast&&w.precision>0)switch(a=t.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),a.length){case 1:e+="."+n(a[0],w.precision,!0).slice(0,w.precision);break;case 2:e+="."+n(a[1],w.precision,!0).slice(0,w.precision);break;case 3:e+="."+n(o(+a[2]-1)+(a[0]||"0")+a[1],w.precision,!0).slice(0,w.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return t.isMost&&t.value<0&&(e="-"+e),k=!0,e}),"right"===w.trim&&e.reverse(),e.join("")):c(e,"token").join("")},v.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var t=this.types,e=this.duration;switch(r(t,function(t){return e._data[t]})){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)},207:function(t,e){t.exports=i},208:function(t,e,a){var o=a(209),n=a(210),i=n;i.v1=o,i.v4=n,t.exports=i},209:function(t,e,a){function o(t,e,a){var o=e&&a||0,p=e||[];t=t||{};var c=t.node||n,u=void 0!==t.clockseq?t.clockseq:i;if(null==c||null==u){var h=s();null==c&&(c=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==u&&(u=i=16383&(h[6]<<8|h[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:d+1,b=f-l+(m-d)/1e4;if(b<0&&void 0===t.clockseq&&(u=u+1&16383),(b<0||f>l)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=f,d=m,i=u,f+=122192928e5;var g=(1e4*(268435455&f)+m)%4294967296;p[o++]=g>>>24&255,p[o++]=g>>>16&255,p[o++]=g>>>8&255,p[o++]=255&g;var v=f/4294967296*1e4&268435455;p[o++]=v>>>8&255,p[o++]=255&v,p[o++]=v>>>24&15|16,p[o++]=v>>>16&255,p[o++]=u>>>8|128,p[o++]=255&u;for(var A=0;A<6;++A)p[o+A]=c[A];return e||r(p)}var n,i,s=a(114),r=a(115),l=0,d=0;t.exports=o},210:function(t,e,a){function o(t,e,a){var o=e&&a||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var r=0;r<16;++r)e[o+r]=s[r];return e||i(s)}var n=a(114),i=a(115);t.exports=o},32:function(e,a){e.exports=t},33:function(t,a){t.exports=e},34:function(t,e){function a(t,e){var a=t[1]||"",n=t[3];if(!n)return a;if(e&&"function"==typeof btoa){var i=o(n);return[a].concat(n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"})).concat([i]).join("\n")}return[a].join("\n")}function o(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=a(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(o[i]=!0)}for(n=0;n<t.length;n++){var s=t[n];"number"==typeof s[0]&&o[s[0]]||(a&&!s[2]?s[2]=a:a&&(s[2]="("+s[2]+") and ("+a+")"),e.push(s))}},e}},35:function(t,e,a){function o(t,e){for(var a=0;a<t.length;a++){var o=t[a],n=f[o.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](o.parts[i]);for(;i<o.parts.length;i++)n.parts.push(p(o.parts[i],e))}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(p(o.parts[i],e));f[o.id]={id:o.id,refs:1,parts:s}}}}function n(t,e){for(var a=[],o={},n=0;n<t.length;n++){var i=t[n],s=e.base?i[0]+e.base:i[0],r=i[1],l=i[2],d=i[3],p={css:r,media:l,sourceMap:d};o[s]?o[s].parts.push(p):a.push(o[s]={id:s,parts:[p]})}return a}function i(t,e){var a=b(t.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=A[A.length-1];if("top"===t.insertAt)o?o.nextSibling?a.insertBefore(e,o.nextSibling):a.appendChild(e):a.insertBefore(e,a.firstChild),A.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(e)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=A.indexOf(t);e>=0&&A.splice(e,1)}function r(t){var e=document.createElement("style");return t.attrs.type="text/css",d(e,t.attrs),i(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",d(e,t.attrs),i(t,e),e}function d(t,e){Object.keys(e).forEach(function(a){t.setAttribute(a,e[a])})}function p(t,e){var a,o,n,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var d=v++;a=g||(g=r(e)),o=c.bind(null,a,d,!1),n=c.bind(null,a,d,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=l(e),o=h.bind(null,a,e),n=function(){s(a),a.href&&URL.revokeObjectURL(a.href)}):(a=r(e),o=u.bind(null,a),n=function(){s(a)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else n()}}function c(t,e,a,o){var n=a?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var i=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function u(t,e){var a=e.css,o=e.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}function h(t,e,a){var o=a.css,n=a.sourceMap,i=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||i)&&(o=k(o)),n&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var s=new Blob([o],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}var f={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),b=function(t){var e={};return function(a){return void 0===e[a]&&(e[a]=t.call(this,a)),e[a]}}(function(t){return document.querySelector(t)}),g=null,v=0,A=[],k=a(74);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var a=n(t,e);return o(a,e),function(t){for(var i=[],s=0;s<a.length;s++){var r=a[s],l=f[r.id];l.refs--,i.push(l)}if(t){o(n(t,e),e)}for(var s=0;s<i.length;s++){var l=i[s];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete f[l.id]}}}};var y=function(){var t=[];return function(e,a){return t[e]=a,t.filter(Boolean).join("\n")}}()},72:function(t,e){t.exports=a},73:function(t,e){t.exports=o},74:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var a=e.protocol+"//"+e.host,o=a+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n))return t;var i;return i=0===n.indexOf("//")?n:0===n.indexOf("/")?a+n:o+n.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}}})});
//# sourceMappingURL=module.js.map