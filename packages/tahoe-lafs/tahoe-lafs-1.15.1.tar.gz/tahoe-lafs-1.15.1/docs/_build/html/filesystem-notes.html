
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Filesystem-specific notes &#8212; Tahoe-LAFS 1.x documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Old Configuration Files" href="historical/configuration.html" />
    <link rel="prev" title="Storage Node Protocol (“Great Black Swamp”, “GBS”)" href="proposed/http-storage-node-protocol.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="historical/configuration.html" title="Old Configuration Files"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="proposed/http-storage-node-protocol.html" title="Storage Node Protocol (“Great Black Swamp”, “GBS”)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Tahoe-LAFS 1.x documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="filesystem-specific-notes">
<h1>Filesystem-specific notes<a class="headerlink" href="#filesystem-specific-notes" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li><a class="reference internal" href="#ext3">ext3</a></li>
</ol>
<p>Tahoe storage servers use a large number of subdirectories to store their
shares on local disk. This format is simple and robust, but depends upon the
local filesystem to provide fast access to those directories.</p>
<div class="section" id="ext3">
<h2>ext3<a class="headerlink" href="#ext3" title="Permalink to this headline">¶</a></h2>
<p>For moderate- or large-sized storage servers, you’ll want to make sure the
“directory index” feature is enabled on your ext3 directories, otherwise
share lookup may be very slow. Recent versions of ext3 enable this
automatically, but older filesystems may not have it enabled:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo tune2fs -l /dev/sda1 |grep feature
Filesystem features:      has_journal ext_attr resize_inode dir_index filetype needs_recovery sparse_super large_file
</pre></div>
</div>
<p>If “dir_index” is present in the “features:” line, then you’re all set. If
not, you’ll need to use tune2fs and e2fsck to enable and build the index. See
<a class="reference external" href="http://wiki2.dovecot.org/MailboxFormat/Maildir">http://wiki2.dovecot.org/MailboxFormat/Maildir</a> for some hints.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Filesystem-specific notes</a><ul>
<li><a class="reference internal" href="#ext3">ext3</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="proposed/http-storage-node-protocol.html"
                        title="previous chapter">Storage Node Protocol (“Great Black Swamp”, “GBS”)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="historical/configuration.html"
                        title="next chapter">Old Configuration Files</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/filesystem-notes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="historical/configuration.html" title="Old Configuration Files"
             >next</a> |</li>
        <li class="right" >
          <a href="proposed/http-storage-node-protocol.html" title="Storage Node Protocol (“Great Black Swamp”, “GBS”)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Tahoe-LAFS 1.x documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, The Tahoe-LAFS Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>