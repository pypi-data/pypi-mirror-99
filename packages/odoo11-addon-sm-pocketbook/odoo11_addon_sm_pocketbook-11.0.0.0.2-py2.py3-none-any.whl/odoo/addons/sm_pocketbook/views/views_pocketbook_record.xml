<odoo>
  <data>
    <record id="view_pocketbook_record_window" model="ir.actions.act_window">
      <field name="name">Pocketbook records</field>
      <field name="res_model">pocketbook.pocketbook_record</field>
      <field name="view_mode">tree,form</field>
    </record>

    <record id="view_pocketbook_record_search" model="ir.ui.view">
      <field name="name">sm_pocketbook.pocketbook_record.search</field>
      <field name="model">pocketbook.pocketbook_record</field>
      <field name="type">search</field>
      <field name="arch" type="xml">
        <search string="DB pocketbook search">
          <field name="id"/>
          <field name="name"/>
          <field name="related_member_id"/>
        </search>
      </field>
    </record>

    <record id="view_pocketbook_record_list" model="ir.ui.view">
      <field name="name">sm_pocketbook.pocketbook_record.list</field>
      <field name="model">pocketbook.pocketbook_record</field>
      <field name="arch" type="xml">
        <tree>
          <field name="id"/>
          <field name="name"/>
          <field name="date"/>
          <field name="amount"/>
          <field name="obs"/>
          <field name="related_member_id"/>
          <field name="related_account_id"/>
          <field name="related_analytic_account_id"/>
        </tree>
      </field>
    </record>
    <record id="view_pocketbook_record_form" model="ir.ui.view">
      <field name="name">sm_pocketbook.pocketbook_record.form</field>
      <field name="model">pocketbook.pocketbook_record</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Edit record" version="7.0">
          <sheet>
            <notebook>
              <page string="Data">
                <group>
                  <field name="name"/>
                  <field name="date" readonly="True"/>
                  <field name="amount" readonly="True"/>
                  <field name="related_member_id"/>
                  <field name="related_account_id" required="True"/>
                  <field name="related_analytic_account_id" required="True"/>
                  <field name="obs"/>
                  <field name="history_line_ids" widget="one2many_list">
                    <tree string="History" create="true" edit="true" delete="true" open="true">
                      <field name="name" />
                      <field name="date"/>
                      <field name="amount"/>
                      <field name="related_invoice_line_id"/>
                      <field name="obs"/>
                    </tree>
                  </field>
                </group>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <menuitem name="Pocketbook" id="sm_pocketbook.pocketbook_main" parent="vertical_carsharing.menu_root"/>
    <menuitem name="Pocketbook records" id="sm_pocketbook.menu_pocketbook_record" parent="sm_pocketbook.pocketbook_main" action="view_pocketbook_record_window"/>


  </data>
</odoo>
