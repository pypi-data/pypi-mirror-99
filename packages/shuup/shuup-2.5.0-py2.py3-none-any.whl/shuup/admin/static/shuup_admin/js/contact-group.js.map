{"version":3,"sources":["edit-members.js"],"names":["total","nextRow","newRow","parseInt","$","val","lastRow","closest","blankRow","clone","find","each","name","attr","replace","on","event","preventDefault","id","appendTo"],"mappings":";CAQC,WACG,aAEIA,IAGAC,EACAC,EAJAF,EAAQG,SAASC,EAAE,2BAA2BC,OAC9CC,EAAUF,EAAE,2CAA2CG,QAAQ,MAC/DC,EAAWF,EAAQG,QAIvBD,EAASE,KAAK,SAASC,KAAK,WACpBC,IAAAA,EAAOR,EAAE,MAAMS,KAAK,QAAQC,QAAQ,KAAOd,EAAQ,GAAK,IAAK,MACjEI,EAAE,MAAMS,KAAK,CACDD,KAAAA,MAIhBR,EAAE,aAAaW,GAAG,QAAS,SAASC,GAChCA,EAAMC,iBACNhB,EAAUO,EAASC,SACnBP,EAASD,EAAQQ,SACVC,KAAK,SAASC,KAAK,WAClBC,IAAAA,EAAOR,EAAE,MAAMS,KAAK,QAAQC,QAAQ,KAAK,IAAMd,EAAQ,KACvDkB,EAAK,MAAQN,EACjBR,EAAE,MAAMS,KAAK,CACDD,KAAAA,EACFM,GAAAA,IACPb,IAAI,MAEXL,GAAgB,EAChBI,EAAE,2BAA2BC,IAAIL,GACjCE,EAAOiB,SAASb,EAAQC,QAAQ,UAChCD,EAAUJ,IA/BjB","file":"contact-group.js","sourceRoot":"../../../static_src/contact_group","sourcesContent":["/**\n * This file is part of Shuup.\n *\n * Copyright (c) 2012-2021, Shoop Commerce Ltd. All rights reserved.\n *\n * This source code is licensed under the OSL-3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n(function (){\n    \"use strict\";\n\n    var total = parseInt($(\"#id_members-TOTAL_FORMS\").val());\n    var lastRow = $(\"#contact_group_form .browse-widget:last\").closest(\"tr\");\n    var blankRow = lastRow.clone();\n    var nextRow;\n    var newRow;\n\n    blankRow.find(\"input\").each(function() {\n        var name = $(this).attr(\"name\").replace(\"-\" + (total - 1) + \"-\", \"--\");\n        $(this).attr({\n            \"name\": name\n        });\n    });\n\n    $(\"#add-more\").on(\"click\", function(event) {\n        event.preventDefault();\n        nextRow = blankRow.clone();\n        newRow = nextRow.clone();\n        newRow.find(\"input\").each(function() {\n            var name = $(this).attr(\"name\").replace(\"--\",\"-\" + total + \"-\");\n            var id = \"id_\" + name;\n            $(this).attr({\n                \"name\": name,\n                \"id\": id\n            }).val(\"\");\n        });\n        total = total + 1;\n        $(\"#id_members-TOTAL_FORMS\").val(total);\n        newRow.appendTo(lastRow.closest(\"tbody\"));\n        lastRow = newRow;\n    });\n}());\n"]}