{"version":3,"sources":["snippet.js"],"names":["getModeFromSnippetType","type","window","addEventListener","Array","from","document","getElementsByClassName","forEach","el","$snippetType","$","closest","find","createCodeMirror","mode","ShuupCodeMirror","change","evt","target","value","val"],"mappings":";AAQA,SAASA,EAAuBC,GACxBA,MAAS,eAATA,EACO,MACS,cAATA,EACA,aAEJ,YAGXC,OAAOC,iBAAiB,OAAQ,WAC5BC,MAAMC,KAAKC,SAASC,uBAAuB,gCAAgCC,QAAQ,SAAAC,GACzEC,IAAAA,EAAeC,EAAEF,GAAIG,QAAQ,QAAQC,KAAK,yBACvCC,SAAAA,EAAiBC,GACtBb,OAAOc,gBAAgBF,iBAAiBL,EAAI,CACxCM,KAAMf,EAAuBe,KAGrCL,EAAaO,OAAO,SAACC,GACjBJ,EAAiBI,EAAIC,OAAOC,SAGhCN,EAAiBJ,EAAaW","file":"snippet.js","sourceRoot":"../../../static_src/admin","sourcesContent":["/**\n * This file is part of Shuup.\n *\n * Copyright (c) 2012-2021, Shoop Commerce Ltd. All rights reserved.\n *\n * This source code is licensed under the OSL-3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nfunction getModeFromSnippetType(type) {\n    if (type === \"inline_css\") {\n        return \"css\";\n    } else if (type === \"inline_js\") {\n        return \"javascript\";\n    }\n    return \"htmlmixed\";\n}\n\nwindow.addEventListener(\"load\", () => {\n    Array.from(document.getElementsByClassName(\"xtheme-code-editor-textarea\")).forEach(el => {\n        const $snippetType = $(el).closest(\"form\").find(\"[name='snippet_type']\");\n        function createCodeMirror(mode) {\n            window.ShuupCodeMirror.createCodeMirror(el, {\n                mode: getModeFromSnippetType(mode)\n            });\n        }\n        $snippetType.change((evt) => {\n            createCodeMirror(evt.target.value);\n        });\n\n        createCodeMirror($snippetType.val());\n    });\n});\n"]}