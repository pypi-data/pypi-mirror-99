(function(e){function t(t){for(var s,o,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},a={embed:0},n=[];function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([1,"chunk-vendors","chunk-common"]),r()})({1:function(e,t,r){e.exports=r("8518")},7195:function(e,t,r){},8518:function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var s=r("8c4f"),a=r("2b0e"),n=r("bc3a"),o=r.n(n),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},l=[],c={name:"Embed"},u=c,d=(r("d81a"),r("2877")),p=Object(d["a"])(u,i,l,!1,null,null,null),f=p.exports,b=r("134b"),m=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view-layout",[e.isLoading?r("div",{staticClass:"box is-marginless"},[r("progress",{staticClass:"progress is-small is-info"})]):e.getIsResourceReport?r("div",{staticClass:"box is-marginless"},[r("ReportEmbed",{attrs:{report:e.resource}})],1):e.getIsResourceDashboard?r("DashboardEmbed",{attrs:{dashboard:e.resource.dashboard,"reports-with-query-results":e.resource.reportsWithQueryResults}}):r("div",{staticClass:"box is-marginless"},[r("div",{staticClass:"content has-text-centered"},[r("p",{staticClass:"is-italic"},[e._v(e._s(e.error))])])]),r("div",{staticClass:"is-pulled-right mt-05r scale-08"},[r("a",{staticClass:"is-size-7",attrs:{href:"https://meltano.com",target:"_blank"}},[r("span",{staticClass:"is-inline-block has-text-grey"},[e._v("Made with")]),r("Logo",{staticClass:"ml-05r"})],1)])],1)},y=[],v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"columns is-vcentered"},[r("div",{staticClass:"column"},[r("h2",{staticClass:"title"},[e._v(e._s(e.dashboard.name))]),e.dashboard.description?r("h3",{staticClass:"subtitle"},[e._v("\n        "+e._s(e.dashboard.description)+"\n      ")]):e._e()])]),e.reportsWithQueryResults.length?r("div",{staticClass:"columns is-multiline"},e._l(e.reportsWithQueryResults,(function(e){return r("div",{key:e.id,staticClass:"column is-half"},[r("div",{staticClass:"box"},[r("ReportEmbed",{attrs:{report:e}})],1)])})),0):r("div",{staticClass:"columns"},[e._m(0)])])},g=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"column"},[r("div",{staticClass:"box"},[r("div",{staticClass:"content"},[r("p",[e._v("No reports yet...")])])])])}],O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("article",{staticClass:"media is-paddingless is-vcentered"},[r("figure",{staticClass:"media-left"},[r("p",{staticClass:"image level-item is-48x48 container"},[r("ConnectorLogo",{attrs:{connector:e.extractorName}})],1)]),r("div",{staticClass:"media-content"},[r("h3",{staticClass:"title is-5"},[e._v(e._s(e.report.name))])]),e.hasDateRange?r("div",{staticClass:"media-right"},[r("div",{staticClass:"field is-pulled-right is-inline-block"},[r("small",{staticClass:"has-text-grey is-size-7"},[e._v(e._s(e.dateRangeLabel))])])]):e._e()]),r("Chart",{attrs:{"chart-type":e.report.chartType,results:e.report.queryResults,"result-aggregates":e.report.queryResultAggregates}})],1)},C=[],_=(r("a481"),r("8ef6")),j=r("d85b"),R=r("441e"),w={name:"ReportEmbed",components:{Chart:_["a"],ConnectorLogo:j["a"]},mixins:[R["a"]],props:{report:{type:Object,default:null}},computed:{extractorName:function(){return this.report.namespace?this.report.namespace.replace("model","tap"):""}}},x=w,E=Object(d["a"])(x,O,C,!1,null,null,null),k=E.exports,P={name:"DashboardEmbed",components:{ReportEmbed:k},props:{dashboard:{type:Object,default:null},reportsWithQueryResults:{type:Array,default:null}}},S=P,D=Object(d["a"])(S,v,g,!1,null,null,null),T=D.exports,L=r("63e7"),$=r("d706"),M=r("5605"),A={name:"ResourceEmbed",components:{DashboardEmbed:T,Logo:$["a"],ReportEmbed:k,RouterViewLayout:M["a"]},props:{token:{type:String,default:null},today:{type:String,default:null}},data:function(){return{error:null,isLoading:!0,resource:null,resourceType:null}},computed:{getIsResourceDashboard:function(){return this.resourceType===L["a"].DASHBOARD},getIsResourceReport:function(){return this.resourceType===L["a"].REPORT}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;L["b"].load(this.token,this.today).then((function(t){e.resource=t.data.resource,e.resourceType=t.data.resourceType})).catch((function(t){e.error=t.response.data.code})).finally((function(){return e.isLoading=!1}))}}},I=A,q=(r("b1a5"),Object(d["a"])(I,h,y,!1,null,null,null)),z=q.exports;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach((function(t){Object(m["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=new s["a"]({mode:"history",routes:[{path:"/-/embed/:token",name:"resource-embed",component:z,meta:{title:"Meltano Resource Embed"},props:function(e){return Q({},e.params,{today:e.query.today})}}]}),J=W,H=r("37d9");a["default"].use(s["a"]),o.a.defaults.headers.common["X-JSON-SCHEME"]="camel",a["default"].prototype.$flask=Object(b["a"])(),a["default"].prototype.$flask.isSendAnonymousUsageStats&&Object(H["a"])({id:a["default"].prototype.$flask.embedTrackingID,router:J}),new a["default"]({el:"#app",router:J,render:function(e){return e(f)}})},b1a5:function(e,t,r){"use strict";var s=r("e4a4"),a=r.n(s);a.a},d81a:function(e,t,r){"use strict";var s=r("7195"),a=r.n(s);a.a},e4a4:function(e,t,r){}});
//# sourceMappingURL=embed.d003921e.js.map