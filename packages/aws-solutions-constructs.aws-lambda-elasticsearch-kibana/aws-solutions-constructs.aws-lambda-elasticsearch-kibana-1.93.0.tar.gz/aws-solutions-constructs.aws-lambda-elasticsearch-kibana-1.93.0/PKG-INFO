Metadata-Version: 2.1
Name: aws-solutions-constructs.aws-lambda-elasticsearch-kibana
Version: 1.93.0
Summary: CDK Constructs for AWS Lambda to AWS Elasticsearch with Kibana integration
Home-page: https://github.com/awslabs/aws-solutions-constructs.git
Author: Amazon Web Services
License: Apache-2.0
Project-URL: Source, https://github.com/awslabs/aws-solutions-constructs.git
Description: # aws-lambda-elasticsearch-kibana module
        
        <!--BEGIN STABILITY BANNER-->---
        
        
        ![Stability: Experimental](https://img.shields.io/badge/stability-Experimental-important.svg?style=for-the-badge)
        
        > All classes are under active development and subject to non-backward compatible changes or removal in any
        > future version. These are not subject to the [Semantic Versioning](https://semver.org/) model.
        > This means that while you may use them, you may need to update your source code when upgrading to a newer version of this package.
        
        ---
        <!--END STABILITY BANNER-->
        
        | **Reference Documentation**:| <span style="font-weight: normal">https://docs.aws.amazon.com/solutions/latest/constructs/</span>|
        |:-------------|:-------------|
        
        <div style="height:8px"></div>
        
        | **Language**     | **Package**        |
        |:-------------|-----------------|
        |![Python Logo](https://docs.aws.amazon.com/cdk/api/latest/img/python32.png) Python|`aws_solutions_constructs.aws_lambda_elasticsearch_kibana`|
        |![Typescript Logo](https://docs.aws.amazon.com/cdk/api/latest/img/typescript32.png) Typescript|`@aws-solutions-constructs/aws-lambda-elasticsearch-kibana`|
        |![Java Logo](https://docs.aws.amazon.com/cdk/api/latest/img/java32.png) Java|`software.amazon.awsconstructs.services.lambdaelasticsearchkibana`|
        
        This AWS Solutions Construct implements the AWS Lambda function and Amazon Elasticsearch Service with the least privileged permissions.
        
        Here is a minimal deployable pattern definition in Typescript:
        
        ```python
        # Example automatically generated without compilation. See https://github.com/aws/jsii/issues/826
        from aws_solutions_constructs.aws_lambda_elasticsearch_kibana import LambdaToElasticSearchAndKibana
        from aws_cdk.core import Aws
        
        lambda_props = {
            "code": lambda_.Code.from_asset(f"{__dirname}/lambda"),
            "runtime": lambda_.Runtime.NODEJS_12_X,
            "handler": "index.handler"
        }
        
        LambdaToElasticSearchAndKibana(self, "test-lambda-elasticsearch-kibana",
            lambda_function_props=lambda_props,
            domain_name="test-domain",
            # TODO: Ensure the Cognito domain name is globally unique
            cognito_domain_name="globallyuniquedomain" + Aws.ACCOUNT_ID
        )
        ```
        
        ## Initializer
        
        ```text
        new LambdaToElasticSearchAndKibana(scope: Construct, id: string, props: LambdaToElasticSearchAndKibanaProps);
        ```
        
        *Parameters*
        
        * scope [`Construct`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_core.Construct.html)
        * id `string`
        * props [`LambdaToElasticSearchAndKibanaProps`](#pattern-construct-props)
        
        ## Pattern Construct Props
        
        | **Name**     | **Type**        | **Description** |
        |:-------------|:----------------|-----------------|
        |existingLambdaObj?|[`lambda.Function`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-lambda.Function.html)|Existing instance of Lambda Function object, if this is set then the lambdaFunctionProps is ignored.|
        |lambdaFunctionProps?|[`lambda.FunctionProps`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-lambda.FunctionProps.html)|User provided props to override the default props for the Lambda function.|
        |esDomainProps?|[`elasticsearch.CfnDomainProps`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-elasticsearch.CfnDomainProps.html)|Optional user provided props to override the default props for the Elasticsearch Service|
        |domainName|`string`|Domain name for the Cognito and the Elasticsearch Service|
        |cognitoDomainName?|`string`|Optional Cognito Domain Name, if provided it will be used for Cognito Domain, and domainName will be used for the Elasticsearch Domain|
        |createCloudWatchAlarms|`boolean`|Whether to create recommended CloudWatch alarms|
        |domainEndpointEnvironmentVariableName?|`string`|Optional Name for the ElasticSearch domain endpoint environment variable set for the Lambda function.|
        
        ## Pattern Properties
        
        | **Name**     | **Type**        | **Description** |
        |:-------------|:----------------|-----------------|
        |lambdaFunction|[`lambda.Function`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-lambda.Function.html)|Returns an instance of lambda.Function created by the construct|
        |userPool|[`cognito.UserPool`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-cognito.UserPool.html)|Returns an instance of cognito.UserPool created by the construct|
        |userPoolClient|[`cognito.UserPoolClient`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-cognito.UserPoolClient.html)|Returns an instance of cognito.UserPoolClient created by the construct|
        |identityPool|[`cognito.CfnIdentityPool`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-cognito.CfnIdentityPool.html)|Returns an instance of cognito.CfnIdentityPool created by the construct|
        |elasticsearchDomain|[`elasticsearch.CfnDomain`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-elasticsearch.CfnDomain.html)|Returns an instance of elasticsearch.CfnDomain created by the construct|
        |elasticsearchDomain|[`iam.Role`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-iam.Role.html)|Returns an instance of iam.Role created by the construct for elasticsearch.CfnDomain|
        |cloudwatchAlarms?|[`cloudwatch.Alarm[]`](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-cloudwatch.Alarm.html)|Returns a list of cloudwatch.Alarm created by the construct|
        
        ## Lambda Function
        
        This pattern requires a lambda function that can post data into the Elasticsearch. A sample function is provided [here](https://github.com/awslabs/aws-solutions-constructs/blob/master/source/patterns/%40aws-solutions-constructs/aws-lambda-elasticsearch-kibana/test/lambda/index.js).
        
        ## Default settings
        
        Out of the box implementation of the Construct without any override will set the following defaults:
        
        ### AWS Lambda Function
        
        * Configure limited privilege access IAM role for Lambda function
        * Enable reusing connections with Keep-Alive for NodeJs Lambda function
        * Enable X-Ray Tracing
        * Set Environment Variables
        
          * (default) DOMAIN_ENDPOINT
          * AWS_NODEJS_CONNECTION_REUSE_ENABLED (for Node 10.x and higher functions)
        
        ### Amazon Cognito
        
        * Set password policy for User Pools
        * Enforce the advanced security mode for User Pools
        
        ### Amazon Elasticsearch Service
        
        * Deploy best practices CloudWatch Alarms for the Elasticsearch Domain
        * Secure the Kibana dashboard access with Cognito User Pools
        * Enable server-side encryption for Elasticsearch Domain using AWS managed KMS Key
        * Enable node-to-node encryption for Elasticsearch Domain
        * Configure the cluster for the Amazon ES domain
        
        ## Architecture
        
        ![Architecture Diagram](architecture.png)
        
        ---
        
        
        Â© Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
        
Platform: UNKNOWN
Classifier: Intended Audience :: Developers
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: JavaScript
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Typing :: Typed
Classifier: License :: OSI Approved
Requires-Python: >=3.6
Description-Content-Type: text/markdown
