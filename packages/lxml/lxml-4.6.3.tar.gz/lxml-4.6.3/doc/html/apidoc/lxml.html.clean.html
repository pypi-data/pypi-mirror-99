

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>lxml.html.clean module &mdash; lxml  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lxml.html.defs module" href="lxml.html.defs.html" />
    <link rel="prev" title="lxml.html.builder module" href="lxml.html.builder.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> lxml
          

          
            
            <img src="_static/python-xml.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                4.6.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="lxml.html">lxml package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lxml.html.html">lxml.html package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lxml.html.ElementSoup.html">lxml.html.ElementSoup module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lxml.html._diffcommand.html">lxml.html._diffcommand module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lxml.html._setmixin.html">lxml.html._setmixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lxml.html.builder.html">lxml.html.builder module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">lxml.html.clean module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lxml.html.defs.html">lxml.html.defs module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lxml.html.diff.html">lxml.html.diff module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lxml.html.formfill.html">lxml.html.formfill module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lxml.html.html5parser.html">lxml.html.html5parser module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lxml.html.soupparser.html">lxml.html.soupparser module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lxml.isoschematron.html">lxml.isoschematron package</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxml.ElementInclude.html">lxml.ElementInclude module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxml._elementpath.html">lxml._elementpath module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxml.builder.html">lxml.builder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxml.cssselect.html">lxml.cssselect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxml.doctestcompare.html">lxml.doctestcompare module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxml.etree.html">lxml.etree module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxml.objectify.html">lxml.objectify module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxml.sax.html">lxml.sax module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">lxml</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="lxml.html">lxml package</a> &raquo;</li>
        
          <li><a href="lxml.html.html">lxml.html package</a> &raquo;</li>
        
      <li>lxml.html.clean module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lxml.html.clean.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-lxml.html.clean">
<span id="lxml-html-clean-module"></span><h1>lxml.html.clean module<a class="headerlink" href="#module-lxml.html.clean" title="Permalink to this headline">¶</a></h1>
<p>A cleanup tool for HTML.</p>
<p>Removes unwanted tags and content.  See the <cite>Cleaner</cite> class for
details.</p>
<dl class="py class">
<dt id="lxml.html.clean.Cleaner">
<em class="property">class </em><code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">Cleaner</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Instances cleans the document of each of the possible offending
elements.  The cleaning is controlled by attributes; you can
override attributes in a subclass, or set them in the constructor.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">scripts</span></code>:</dt><dd><p>Removes any <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tags.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">javascript</span></code>:</dt><dd><p>Removes any Javascript, like an <code class="docutils literal notranslate"><span class="pre">onclick</span></code> attribute. Also removes stylesheets
as they could contain Javascript.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">comments</span></code>:</dt><dd><p>Removes any comments.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">style</span></code>:</dt><dd><p>Removes any style tags.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">inline_style</span></code></dt><dd><p>Removes any style attributes.  Defaults to the value of the <code class="docutils literal notranslate"><span class="pre">style</span></code> option.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">links</span></code>:</dt><dd><p>Removes any <code class="docutils literal notranslate"><span class="pre">&lt;link&gt;</span></code> tags</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">meta</span></code>:</dt><dd><p>Removes any <code class="docutils literal notranslate"><span class="pre">&lt;meta&gt;</span></code> tags</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">page_structure</span></code>:</dt><dd><p>Structural parts of a page: <code class="docutils literal notranslate"><span class="pre">&lt;head&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;html&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;title&gt;</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">processing_instructions</span></code>:</dt><dd><p>Removes any processing instructions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">embedded</span></code>:</dt><dd><p>Removes any embedded objects (flash, iframes)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">frames</span></code>:</dt><dd><p>Removes any frame-related tags</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">forms</span></code>:</dt><dd><p>Removes any form tags</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">annoying_tags</span></code>:</dt><dd><p>Tags that aren’t <em>wrong</em>, but are annoying.  <code class="docutils literal notranslate"><span class="pre">&lt;blink&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;marquee&gt;</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remove_tags</span></code>:</dt><dd><p>A list of tags to remove.  Only the tags will be removed,
their content will get pulled up into the parent tag.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kill_tags</span></code>:</dt><dd><p>A list of tags to kill.  Killing also removes the tag’s content,
i.e. the whole subtree, not just the tag itself.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">allow_tags</span></code>:</dt><dd><p>A list of tags to include (default include all).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remove_unknown_tags</span></code>:</dt><dd><p>Remove any tags that aren’t standard parts of HTML.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">safe_attrs_only</span></code>:</dt><dd><p>If true, only include ‘safe’ attributes (specifically the list
from the feedparser HTML sanitisation web site).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">safe_attrs</span></code>:</dt><dd><p>A set of attribute names to override the default list of attributes
considered ‘safe’ (when safe_attrs_only=True).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">add_nofollow</span></code>:</dt><dd><p>If true, then any &lt;a&gt; tags will have <code class="docutils literal notranslate"><span class="pre">rel=&quot;nofollow&quot;</span></code> added to them.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">host_whitelist</span></code>:</dt><dd><p>A list or set of hosts that you can use for embedded content
(for content like <code class="docutils literal notranslate"><span class="pre">&lt;object&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;link</span> <span class="pre">rel=&quot;stylesheet&quot;&gt;</span></code>, etc).
You can also implement/override the method
<code class="docutils literal notranslate"><span class="pre">allow_embedded_url(el,</span> <span class="pre">url)</span></code> or <code class="docutils literal notranslate"><span class="pre">allow_element(el)</span></code> to
implement more complex rules for what can be embedded.
Anything that passes this test will be shown, regardless of
the value of (for instance) <code class="docutils literal notranslate"><span class="pre">embedded</span></code>.</p>
<p>Note that this parameter might not work as intended if you do not
make the links absolute before doing the cleaning.</p>
<p>Note that you may also need to set <code class="docutils literal notranslate"><span class="pre">whitelist_tags</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">whitelist_tags</span></code>:</dt><dd><p>A set of tags that can be included with <code class="docutils literal notranslate"><span class="pre">host_whitelist</span></code>.
The default is <code class="docutils literal notranslate"><span class="pre">iframe</span></code> and <code class="docutils literal notranslate"><span class="pre">embed</span></code>; you may wish to
include other tags like <code class="docutils literal notranslate"><span class="pre">script</span></code>, or you may want to
implement <code class="docutils literal notranslate"><span class="pre">allow_embedded_url</span></code> for more control.  Set to None to
include all tags.</p>
</dd>
</dl>
<p>This modifies the document <em>in place</em>.</p>
<dl class="py method">
<dt id="lxml.html.clean.Cleaner._has_sneaky_javascript">
<code class="sig-name descname">_has_sneaky_javascript</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">style</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner._has_sneaky_javascript" title="Permalink to this definition">¶</a></dt>
<dd><p>Depending on the browser, stuff like <code class="docutils literal notranslate"><span class="pre">e</span> <span class="pre">x</span> <span class="pre">p</span> <span class="pre">r</span> <span class="pre">e</span> <span class="pre">s</span> <span class="pre">s</span> <span class="pre">i</span> <span class="pre">o</span> <span class="pre">n(...)</span></code>
can get interpreted, or <code class="docutils literal notranslate"><span class="pre">expre/*</span> <span class="pre">stuff</span> <span class="pre">*/ssion(...)</span></code>.  This
checks for attempt to do stuff like this.</p>
<p>Typically the response will be to kill the entire style; if you
have just a bit of Javascript in the style another rule will catch
that and remove only the Javascript from the style; this catches
more sneaky attempts.</p>
</dd></dl>

<dl class="py method">
<dt id="lxml.html.clean.Cleaner._kill_elements">
<code class="sig-name descname">_kill_elements</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">doc</span></em>, <em class="sig-param"><span class="n">condition</span></em>, <em class="sig-param"><span class="n">iterate</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner._kill_elements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lxml.html.clean.Cleaner._remove_javascript_link">
<code class="sig-name descname">_remove_javascript_link</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">link</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner._remove_javascript_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lxml.html.clean.Cleaner._substitute_comments">
<code class="sig-name descname">_substitute_comments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner._substitute_comments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string obtained by replacing the leftmost non-overlapping occurrences of pattern in string by the replacement repl.</p>
</dd></dl>

<dl class="py method">
<dt id="lxml.html.clean.Cleaner.allow_element">
<code class="sig-name descname">allow_element</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">el</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner.allow_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide whether an element is configured to be accepted or rejected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>el</strong> – an element.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true to accept the element or false to reject/discard it.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lxml.html.clean.Cleaner.allow_embedded_url">
<code class="sig-name descname">allow_embedded_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">el</span></em>, <em class="sig-param"><span class="n">url</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner.allow_embedded_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide whether a URL that was found in an element’s attributes or text
if configured to be accepted or rejected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>el</strong> – an element.</p></li>
<li><p><strong>url</strong> – a URL found on the element.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true to accept the URL and false to reject it.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lxml.html.clean.Cleaner.allow_follow">
<code class="sig-name descname">allow_follow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">anchor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner.allow_follow" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to suppress rel=”nofollow” on some anchors.</p>
</dd></dl>

<dl class="py method">
<dt id="lxml.html.clean.Cleaner.clean_html">
<code class="sig-name descname">clean_html</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">html</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner.clean_html" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="lxml.html.clean.Cleaner.kill_conditional_comments">
<code class="sig-name descname">kill_conditional_comments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">doc</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.Cleaner.kill_conditional_comments" title="Permalink to this definition">¶</a></dt>
<dd><p>IE conditional comments basically embed HTML that the parser
doesn’t normally see.  We can’t allow anything like that, so
we’ll kill any comments that could be conditional.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner._tag_link_attrs">
<code class="sig-name descname">_tag_link_attrs</code><em class="property"> = {'a': 'href', 'applet': ['code', 'object'], 'embed': 'src', 'iframe': 'src', 'layer': 'src', 'link': 'href', 'script': 'src'}</em><a class="headerlink" href="#lxml.html.clean.Cleaner._tag_link_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.add_nofollow">
<code class="sig-name descname">add_nofollow</code><em class="property"> = False</em><a class="headerlink" href="#lxml.html.clean.Cleaner.add_nofollow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.allow_tags">
<code class="sig-name descname">allow_tags</code><em class="property"> = None</em><a class="headerlink" href="#lxml.html.clean.Cleaner.allow_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.annoying_tags">
<code class="sig-name descname">annoying_tags</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.annoying_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.comments">
<code class="sig-name descname">comments</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.comments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.embedded">
<code class="sig-name descname">embedded</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.embedded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.forms">
<code class="sig-name descname">forms</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.forms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.frames">
<code class="sig-name descname">frames</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.frames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.host_whitelist">
<code class="sig-name descname">host_whitelist</code><em class="property"> = ()</em><a class="headerlink" href="#lxml.html.clean.Cleaner.host_whitelist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.inline_style">
<code class="sig-name descname">inline_style</code><em class="property"> = None</em><a class="headerlink" href="#lxml.html.clean.Cleaner.inline_style" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.javascript">
<code class="sig-name descname">javascript</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.javascript" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.kill_tags">
<code class="sig-name descname">kill_tags</code><em class="property"> = None</em><a class="headerlink" href="#lxml.html.clean.Cleaner.kill_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.links">
<code class="sig-name descname">links</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.links" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.meta">
<code class="sig-name descname">meta</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.page_structure">
<code class="sig-name descname">page_structure</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.page_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.processing_instructions">
<code class="sig-name descname">processing_instructions</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.processing_instructions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.remove_tags">
<code class="sig-name descname">remove_tags</code><em class="property"> = None</em><a class="headerlink" href="#lxml.html.clean.Cleaner.remove_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.remove_unknown_tags">
<code class="sig-name descname">remove_unknown_tags</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.remove_unknown_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.safe_attrs">
<code class="sig-name descname">safe_attrs</code><em class="property"> = frozenset({'abbr', 'accept', 'accept-charset', 'accesskey', 'action', 'align', 'alt', 'axis', 'border', 'cellpadding', 'cellspacing', 'char', 'charoff', 'charset', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'compact', 'coords', 'datetime', 'dir', 'disabled', 'enctype', 'for', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'ismap', 'label', 'lang', 'longdesc', 'maxlength', 'media', 'method', 'multiple', 'name', 'nohref', 'noshade', 'nowrap', 'prompt', 'readonly', 'rel', 'rev', 'rows', 'rowspan', 'rules', 'scope', 'selected', 'shape', 'size', 'span', 'src', 'start', 'summary', 'tabindex', 'target', 'title', 'type', 'usemap', 'valign', 'value', 'vspace', 'width'})</em><a class="headerlink" href="#lxml.html.clean.Cleaner.safe_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.safe_attrs_only">
<code class="sig-name descname">safe_attrs_only</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.safe_attrs_only" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.scripts">
<code class="sig-name descname">scripts</code><em class="property"> = True</em><a class="headerlink" href="#lxml.html.clean.Cleaner.scripts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.style">
<code class="sig-name descname">style</code><em class="property"> = False</em><a class="headerlink" href="#lxml.html.clean.Cleaner.style" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="lxml.html.clean.Cleaner.whitelist_tags">
<code class="sig-name descname">whitelist_tags</code><em class="property"> = {'embed', 'iframe'}</em><a class="headerlink" href="#lxml.html.clean.Cleaner.whitelist_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._break_text">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_break_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">max_width</span></em>, <em class="sig-param"><span class="n">break_character</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._break_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._insert_break">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_insert_break</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">word</span></em>, <em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">break_character</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._insert_break" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._is_image_dataurl">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_is_image_dataurl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">pos</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">endpos</span><span class="o">=</span><span class="default_value">9223372036854775807</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._is_image_dataurl" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan through string looking for a match, and return a corresponding match object instance.</p>
<p>Return None if no position in the string matches.</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._is_javascript_scheme">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_is_javascript_scheme</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._is_javascript_scheme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._is_possibly_malicious_scheme">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_is_possibly_malicious_scheme</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">pos</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">endpos</span><span class="o">=</span><span class="default_value">9223372036854775807</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._is_possibly_malicious_scheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan through string looking for a match, and return a corresponding match object instance.</p>
<p>Return None if no position in the string matches.</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._link_text">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_link_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">link_regexes</span></em>, <em class="sig-param"><span class="n">avoid_hosts</span></em>, <em class="sig-param"><span class="n">factory</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._link_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._looks_like_tag_content">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_looks_like_tag_content</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">pos</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">endpos</span><span class="o">=</span><span class="default_value">9223372036854775807</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._looks_like_tag_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan through string looking for a match, and return a corresponding match object instance.</p>
<p>Return None if no position in the string matches.</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._replace_css_import">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_replace_css_import</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repl</span></em>, <em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._replace_css_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string obtained by replacing the leftmost non-overlapping occurrences of pattern in string by the replacement repl.</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._replace_css_javascript">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_replace_css_javascript</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repl</span></em>, <em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._replace_css_javascript" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string obtained by replacing the leftmost non-overlapping occurrences of pattern in string by the replacement repl.</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean._substitute_whitespace">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">_substitute_whitespace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repl</span></em>, <em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean._substitute_whitespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string obtained by replacing the leftmost non-overlapping occurrences of pattern in string by the replacement repl.</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean.autolink">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">autolink</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">el</span></em>, <em class="sig-param"><span class="n">link_regexes</span><span class="o">=</span><span class="default_value">[re.compile('(?P&lt;body&gt;https?://(?P&lt;host&gt;[a-z0-9._-]+)(?:/[/\\-_.,a-z0-9%&amp;?;=~]*)?(?:\\([/\\-_.,a-z0-9%&amp;?;=~]*\\))?)', re.IGNORECASE), re.compile('mailto:(?P&lt;body&gt;[a-z0-9._-]+&#64;(?P&lt;host&gt;[a-z0-9_.-]+[a-z]))', re.IGNORECASE)]</span></em>, <em class="sig-param"><span class="n">avoid_elements</span><span class="o">=</span><span class="default_value">['textarea', 'pre', 'code', 'head', 'select', 'a']</span></em>, <em class="sig-param"><span class="n">avoid_hosts</span><span class="o">=</span><span class="default_value">[re.compile('^localhost', re.IGNORECASE), re.compile('\\bexample\\.(?:com|org|net)$', re.IGNORECASE), re.compile('^127\\.0\\.0\\.1$')]</span></em>, <em class="sig-param"><span class="n">avoid_classes</span><span class="o">=</span><span class="default_value">['nolink']</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.autolink" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn any URLs into links.</p>
<p>It will search for links identified by the given regular
expressions (by default mailto and http(s) links).</p>
<p>It won’t link text in an element in avoid_elements, or an element
with a class in avoid_classes.  It won’t link to anything with a
host that matches one of the regular expressions in avoid_hosts
(default localhost and 127.0.0.1).</p>
<p>If you pass in an element, the element’s tail will not be
substituted, only the contents of the element.</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean.autolink_html">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">autolink_html</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">html</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.autolink_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn any URLs into links.</p>
<p>It will search for links identified by the given regular
expressions (by default mailto and http(s) links).</p>
<p>It won’t link text in an element in avoid_elements, or an element
with a class in avoid_classes.  It won’t link to anything with a
host that matches one of the regular expressions in avoid_hosts
(default localhost and 127.0.0.1).</p>
<p>If you pass in an element, the element’s tail will not be
substituted, only the contents of the element.</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean.clean_html">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">clean_html</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">html</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.clean_html" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="lxml.html.clean.word_break">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">word_break</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">el</span></em>, <em class="sig-param"><span class="n">max_width</span><span class="o">=</span><span class="default_value">40</span></em>, <em class="sig-param"><span class="n">avoid_elements</span><span class="o">=</span><span class="default_value">['pre', 'textarea', 'code']</span></em>, <em class="sig-param"><span class="n">avoid_classes</span><span class="o">=</span><span class="default_value">['nobreak']</span></em>, <em class="sig-param"><span class="n">break_character</span><span class="o">=</span><span class="default_value">'\u200b'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.word_break" title="Permalink to this definition">¶</a></dt>
<dd><p>Breaks any long words found in the body of the text (not attributes).</p>
<p>Doesn’t effect any of the tags in avoid_elements, by default
<code class="docutils literal notranslate"><span class="pre">&lt;textarea&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;pre&gt;</span></code></p>
<p>Breaks words by inserting &amp;#8203;, which is a unicode character
for Zero Width Space character.  This generally takes up no space
in rendering, but does copy as a space, and in monospace contexts
usually takes up space.</p>
<p>See <a class="reference external" href="http://www.cs.tut.fi/~jkorpela/html/nobr.html">http://www.cs.tut.fi/~jkorpela/html/nobr.html</a> for a discussion</p>
</dd></dl>

<dl class="py function">
<dt id="lxml.html.clean.word_break_html">
<code class="sig-prename descclassname">lxml.html.clean.</code><code class="sig-name descname">word_break_html</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">html</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lxml.html.clean.word_break_html" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lxml.html.defs.html" class="btn btn-neutral float-right" title="lxml.html.defs module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lxml.html.builder.html" class="btn btn-neutral float-left" title="lxml.html.builder module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, lxml dev team

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>