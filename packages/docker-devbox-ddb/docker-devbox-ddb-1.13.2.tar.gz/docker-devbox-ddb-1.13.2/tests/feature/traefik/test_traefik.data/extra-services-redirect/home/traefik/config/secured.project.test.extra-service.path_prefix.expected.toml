# This configuration file has been automatically generated by ddb
[http.routers]
  [http.routers.extra-service-path_prefix]
    rule = "Host(`secured.project.test`)"
    entrypoints = ["http"]
    service = "extra-service-path_prefix"
    middlewares = ["extra-service-path_prefix-redirect-to-https"]
  [http.routers.extra-service-path_prefix-tls]
    rule = "Host(`secured.project.test`) && PathPrefix(`{{_local.path_prefix}}{regex:$$|/.*}`)""
    entrypoints = ["https"]
    tls = true
    service = "extra-service-path_prefix"
    middlewares = ["extra-service-path_prefix-stripprefix"]

[http.middlewares]
  [http.middlewares.extra-service-path_prefix-redirect-to-https.redirectScheme]
    scheme = "https"
  [http.middlewares.extra-service-path_prefix-stripprefix.stripPrefix]
    prefixes = "/path_prefix"

[http.services]
  [http.services.extra-service-path_prefix]
    [http.services.extra-service-path_prefix.loadBalancer]
      [[http.services.extra-service-path_prefix.loadBalancer.servers]]
        url = "http://192.168.240.211:10000"
