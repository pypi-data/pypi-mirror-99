.\" Man page generated from reStructuredText.
.
.TH "KIWI::SYSTEM::BOXBUILD" "8" "Mar 22, 2021" "0.2.7" "KIWI - Boxed Build Plugin"
.SH NAME
kiwi::system::boxbuild \- Self Contained Image Build
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
kiwi\-ng [global options] service <command> [<args>]

kiwi\-ng system boxbuild \-h | \-\-help
kiwi\-ng system boxbuild \-\-box=<name>
    [\-\-box\-memory=<vmgb>]
    [\-\-box\-debug]
    [\-\-no\-update\-check]
    [\-\-x86_64]
    <kiwi_build_command_args>...
kiwi\-ng system boxbuild \-\-list\-boxes
kiwi\-ng system boxbuild help
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
build an image in a self contained environment. The \fBboxbuild\fP
command uses KVM to start a virtual machine and run the kiwi
build command inside of that virtual machine. The provided
\fB\-\-description\fP and \fB\-\-target\-dir\fP options are setup as shared
folders between the host and the guest. No other data will be
shared with the host which also allows for cross distribution
builds. The boxbuild command provides the following additional
features over the standard build command:
.INDENT 0.0
.IP \(bu 2
Build images independent of the host.
.IP \(bu 2
Build images as normal user not as root.
.IP \(bu 2
Build cross distribution images on one host.
.IP \(bu 2
Build in predefined build VMs called boxes which includes
all components needed to build appliances.
.UNINDENT
.sp
For running the build process in a virtual machine it\(aqs required
to provide VM images that are suitable to perform this job. We
call the VM images \fBboxes\fP and they contain kiwi itself as well
as all other components needed to build appliances. Those boxes
are hosted in the Open Build Service and are publicly available
on the \fBSubprojects\fP tab at:
\fI\%https://build.opensuse.org/project/show/Virtualization:Appliances:SelfContained\fP
.sp
As a user you don\(aqt need to work with the boxes because this
is all done by the plugin. The \fBboxbuild\fP command knows where to
fetch the box and also cares for an update of the box when it
has changed.
.SH OPTIONS
.INDENT 0.0
.TP
.BI \-\-box\fB= <name>
Name of the virtual machine that should be used for
the build process.
.TP
.B \-\-list\-boxes
show available build boxes.
.TP
.BI \-\-box\-memory\fB= <vmgb>
Number of GBs to reserve as main memory for the virtual
machine. By default 8GB will be used.
.TP
.B \-\-no\-update\-check
Skip check for available box update. The option has no
effect if the selected box does not yet exist on the host.
.TP
.B \-\-x86_64
Select box for the x86_64 architecture. If no architecture
is selected the host architecture is used for selecting
the box. The selected box architecture also specifies the
target architecture for the image build with that box.
.TP
.B \-\-box\-debug
In debug mode the started virtual machine will be kept open
.UNINDENT
.sp
<kiwi_build_command_args>...
.INDENT 0.0
.INDENT 3.5
List of command parameters as supported by the kiwi\-ng
build command. The information given here is passed
along to the kiwi\-ng system build command running in
the virtual machine. See the Example below how to provide
options to the build command correctly.
.UNINDENT
.UNINDENT
.SH EXAMPLE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ git clone https://github.com/OSInside/kiwi\-descriptions

$ kiwi \-\-type vmx system boxbuild \-\-box suse \-\- \e
    \-\-description kiwi\-descriptions/suse/x86_64/suse\-tumbleweed\-JeOS \e
    \-\-target\-dir /tmp/myimage
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHOR
Marcus Schäfer
.SH COPYRIGHT
2020, Marcus Schäfer
.\" Generated by docutils manpage writer.
.
