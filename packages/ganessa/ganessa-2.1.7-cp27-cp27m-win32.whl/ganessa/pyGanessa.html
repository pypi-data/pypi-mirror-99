<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./pyGanessa.css" type="text/css" />
<title>./docs/pyGanessa</title>
<!-- Source: ./ganessa/ -->
<!-- Generated with ROBODoc Version 4.99.41 (Feb  6 2011) -->
</head>
<body>
<div id="logo">
<a name="robo_top_of_doc"></a>
</div> <!-- logo -->
<h3>TABLE OF CONTENTS</h3>
<ul>
<li>1. <a href="#robo0">ganessa.multithread/Functions_mt</a></li>
<ul>
<li>1.1. <a href="#robo95">Functions_mt/mp_run</a></li>
<li>1.2. <a href="#robo96">Functions_mt/required_cpu</a></li>
</ul>
<li>2. <a href="#robo1">ganessa.parallel/About</a></li>
<li>3. <a href="#robo2">ganessa.parallel/Classes_mt</a></li>
<ul>
<li>3.1. <a href="#robo32">Classes_mt/MultiProc</a>, <a href="#robo32">run</a>, <a href="#robo32">run_sequential</a></li>
</ul>
<li>4. <a href="#robo3">ganessa.plot/functions_plot</a></li>
<ul>
<li>4.1. <a href="#robo97">functions_plot/layout</a></li>
<li>4.2. <a href="#robo98">functions_plot/plotmes</a>, <a href="#robo98">plotmesx</a>, <a href="#robo98">pageplot</a>, <a href="#robo98">pageplotx</a></li>
</ul>
<li>5. <a href="#robo4">ganessa.sim&amp;th/About</a></li>
<li>6. <a href="#robo5">ganessa.sim&amp;th/Classes</a></li>
<ul>
<li>6.1. <a href="#robo31">Classes/Graph</a>, <a href="#robo31">extrnodes</a>, <a href="#robo31">adjlinks</a>, <a href="#robo31">adjnodes</a>, <a href="#robo31">propagate</a>, <a href="#robo31">dtree</a>, <a href="#robo31">PURPOSE</a></li>
</ul>
<li>7. <a href="#robo6">ganessa.sim&amp;th/Compatibility</a></li>
<li>8. <a href="#robo7">ganessa.sim&amp;th/Constants</a></li>
<ul>
<li>8.1. <a href="#robo34">Constants/BRANCH</a>, <a href="#robo34">LINK</a>, <a href="#robo34">NODE</a>, <a href="#robo34">NOEUD</a>, <a href="#robo34">TANK</a>, <a href="#robo34">RESERVOIR</a>, <a href="#robo34">RSV</a></li>
<li>8.2. <a href="#robo35">Constants/DICT</a></li>
<li>8.3. <a href="#robo36">Constants/M</a>, <a href="#robo36">NONE</a></li>
</ul>
<li>9. <a href="#robo8">ganessa.sim&amp;th/Functions</a></li>
<ul>
<li>9.1. <a href="#robo37">Functions/addSHLtype</a>, <a href="#robo37">addSHL</a>, <a href="#robo37">updateSHL</a>, <a href="#robo37">delSHL</a></li>
<li>9.2. <a href="#robo38">Functions/areas</a></li>
<li>9.3. <a href="#robo40">Functions/cmd</a>, <a href="#robo40">addcmdw</a>, <a href="#robo40">execute</a>, <a href="#robo40">cmdfile</a></li>
<li>9.4. <a href="#robo41">Functions/commit</a></li>
<li>9.5. <a href="#robo42">Functions/cwfold</a></li>
<li>9.6. <a href="#robo44">Functions/dist2link</a></li>
<li>9.7. <a href="#robo46">Functions/dll_version</a>, <a href="#robo46">full_version</a></li>
<li>9.8. <a href="#robo48">Functions/extrnodes</a></li>
<li>9.9. <a href="#robo51">Functions/gencmd</a>, <a href="#robo51">gencmdw</a>, <a href="#robo51">raw_gencmdw</a>, <a href="#robo51">_gencmdw</a></li>
<li>9.10. <a href="#robo54">Functions/getall</a></li>
<li>9.11. <a href="#robo55">Functions/getcodescount</a>, <a href="#robo55">nextcode</a></li>
<li>9.12. <a href="#robo56">Functions/getdemandbycode</a>, <a href="#robo56">getcodedemandinit</a>, <a href="#robo56">nextcodedemand</a></li>
<li>9.13. <a href="#robo57">Functions/getid</a></li>
<li>9.14. <a href="#robo58">Functions/getindex</a>, <a href="#robo58">exists</a></li>
<li>9.15. <a href="#robo59">Functions/getkeyword</a>, <a href="#robo59">modulekeyword</a>, <a href="#robo59">attrkeyword</a></li>
<li>9.16. <a href="#robo60">Functions/getvar</a>, <a href="#robo60">getunitname</a>, <a href="#robo60">getunitcoef</a></li>
<li>9.17. <a href="#robo62">Functions/importEpanet</a>, <a href="#robo62">exportEpanet</a></li>
<li>9.18. <a href="#robo64">Functions/init</a></li>
<li>9.19. <a href="#robo68">Functions/linkattr</a>, <a href="#robo68">nodeattr</a>, <a href="#robo68">tankattr</a>, <a href="#robo68">linkattrs</a>, <a href="#robo68">nodeattrs</a>, <a href="#robo68">tankattrs</a>, <a href="#robo68">attr</a>, <a href="#robo68">attrs</a>, <a href="#robo68">meanattr</a></li>
<li>9.20. <a href="#robo69">Functions/linkbbox</a></li>
<li>9.21. <a href="#robo70">Functions/linkXYZV</a>, <a href="#robo70">branchXYZV</a></li>
<li>9.22. <a href="#robo72">Functions/loadbin</a></li>
<li>9.23. <a href="#robo73">Functions/loadres</a></li>
<li>9.24. <a href="#robo74">Functions/nbobjects</a></li>
<li>9.25. <a href="#robo75">Functions/nbvertices</a></li>
<li>9.26. <a href="#robo76">Functions/nlinkattr</a>, <a href="#robo76">nnodeattr</a>, <a href="#robo76">ntankattr</a>, <a href="#robo76">nlinkattrs</a>, <a href="#robo76">nnodeattrs</a>, <a href="#robo76">ntankattrs</a>, <a href="#robo76">nattr</a>, <a href="#robo76">nattrs</a></li>
<li>9.27. <a href="#robo77">Functions/nodeXYZ</a></li>
<li>9.28. <a href="#robo78">Functions/quit</a>, <a href="#robo78">close</a></li>
<li>9.29. <a href="#robo80">Functions/reset</a></li>
<li>9.30. <a href="#robo81">Functions/resfile</a></li>
<li>9.31. <a href="#robo83">Functions/save</a>, <a href="#robo83">savemodel</a></li>
<li>9.32. <a href="#robo84">Functions/selectlen</a>, <a href="#robo84">select</a></li>
<li>9.33. <a href="#robo85">Functions/setbatchmode</a></li>
<li>9.34. <a href="#robo86">Functions/setlang</a></li>
<li>9.35. <a href="#robo87">Functions/setlinkattr</a>, <a href="#robo87">setbranchattr</a>, <a href="#robo87">setnodeattr</a></li>
<li>9.36. <a href="#robo88">Functions/shearstr</a></li>
<li>9.37. <a href="#robo91">Functions/useExceptions</a>, <a href="#robo91">GanessaError</a>, <a href="#robo91">SimulationError</a></li>
<li>9.38. <a href="#robo93">Functions/wqtracevectsize</a></li>
</ul>
<li>10. <a href="#robo9">ganessa.sim&amp;th/Iterators</a></li>
<ul>
<li>10.1. <a href="#robo18">Iterators/Branches</a>, <a href="#robo18">Links</a></li>
<li>10.2. <a href="#robo19">Iterators/DemandCodes</a></li>
<li>10.3. <a href="#robo20">Iterators/Demands</a></li>
<li>10.4. <a href="#robo21">Iterators/Elements</a></li>
<li>10.5. <a href="#robo23">Iterators/Nodes</a></li>
<li>10.6. <a href="#robo24">Iterators/Selected</a></li>
<li>10.7. <a href="#robo25">Iterators/Table</a></li>
<li>10.8. <a href="#robo26">Iterators/Tanks</a>, <a href="#robo26">Reservoirs</a></li>
<li>10.9. <a href="#robo27">Iterators/Unstable</a></li>
<li>10.10. <a href="#robo28">Iterators/WQSources</a></li>
</ul>
<li>11. <a href="#robo10">ganessa.sim/sFunctions</a></li>
<ul>
<li>11.1. <a href="#robo99">sFunctions/browseH</a>, <a href="#robo99">browseWQ</a></li>
<li>11.2. <a href="#robo100">sFunctions/defcalind</a>, <a href="#robo100">getcalind</a></li>
<li>11.3. <a href="#robo101">sFunctions/full_solveH</a></li>
<li>11.4. <a href="#robo102">sFunctions/getallminmax</a></li>
<li>11.5. <a href="#robo103">sFunctions/hstepcount</a>, <a href="#robo103">tslen</a>, <a href="#robo103">mslen</a>, <a href="#robo103">tsval</a>, <a href="#robo103">msval</a>, <a href="#robo103">tsvalbymts</a>, <a href="#robo103">tsinterv</a>, <a href="#robo103">wqtslen</a>, <a href="#robo103">refdate</a></li>
<li>11.6. <a href="#robo104">sFunctions/inv_summary</a></li>
<li>11.7. <a href="#robo105">sFunctions/msmooth</a></li>
<li>11.8. <a href="#robo106">sFunctions/setWQresultfile</a></li>
<li>11.9. <a href="#robo107">sFunctions/solveH</a></li>
<li>11.10. <a href="#robo108">sFunctions/stat_quantiles</a>, <a href="#robo108">stat_duration</a></li>
<li>11.11. <a href="#robo109">sFunctions/tsdemand</a>, <a href="#robo109">tsdevice</a>, <a href="#robo109">tsdemandlen</a>, <a href="#robo109">tsdevicelen</a></li>
</ul>
<li>12. <a href="#robo11">ganessa.sim/sIterators</a></li>
<ul>
<li>12.1. <a href="#robo29">sIterators/Dynamic_Stats</a></li>
<li>12.2. <a href="#robo30">sIterators/getMinMax</a></li>
</ul>
<li>13. <a href="#robo12">ganessa.sort/About</a></li>
<li>14. <a href="#robo13">ganessa.sort/sClasses</a></li>
<ul>
<li>14.1. <a href="#robo33">sClasses/HeapSort</a></li>
</ul>
<li>15. <a href="#robo14">ganessa.th/tFunctions</a></li>
<ul>
<li>15.1. <a href="#robo110">tFunctions/solveTH</a></li>
<li>15.2. <a href="#robo111">tFunctions/symmetric_node</a></li>
</ul>
<li>16. <a href="#robo15">ganessa.util/About</a></li>
<li>17. <a href="#robo16">ganessa.util/functions</a></li>
<ul>
<li>17.1. <a href="#robo39">functions/call_until_false</a></li>
<li>17.2. <a href="#robo43">functions/decode_time</a>, <a href="#robo43">decode_date</a></li>
<li>17.3. <a href="#robo45">functions/dist_to_poly</a>, <a href="#robo45">dist_p_seg</a>, <a href="#robo45">dist</a></li>
<li>17.4. <a href="#robo47">functions/envoi_msg</a></li>
<li>17.5. <a href="#robo49">functions/FichInfo</a>, <a href="#robo49">banner</a></li>
<li>17.6. <a href="#robo50">functions/formatting: strf2</a>, <a href="#robo50">strf3</a>, <a href="#robo50">strf2loc</a>, <a href="#robo50">strf3loc</a>, <a href="#robo50">stri</a>, <a href="#robo50">hhmmss</a>, <a href="#robo50">strd</a></li>
<li>17.7. <a href="#robo52">functions/get_proxy</a></li>
<li>17.8. <a href="#robo53">functions/get_python_exe</a></li>
<li>17.9. <a href="#robo61">functions/gfloat</a>, <a href="#robo61">gint</a>, <a href="#robo61">gbool</a></li>
<li>17.10. <a href="#robo63">functions/IniFile</a>, <a href="#robo63">get</a>, <a href="#robo63">set</a>, <a href="#robo63">getall</a>, <a href="#robo63">setall</a>, <a href="#robo63">save</a></li>
<li>17.11. <a href="#robo65">functions/is_text</a>, <a href="#robo65">myascii</a>, <a href="#robo65">unistr</a>, <a href="#robo65">str2uni</a>, <a href="#robo65">utf2uni</a>, <a href="#robo65">con2uni</a></li>
<li>17.12. <a href="#robo66">functions/is_wq</a></li>
<li>17.13. <a href="#robo67">functions/lec_csv</a></li>
<li>17.14. <a href="#robo71">functions/list2file</a></li>
<li>17.15. <a href="#robo79">functions/quotefilename</a></li>
<li>17.16. <a href="#robo82">functions/roundval</a>, <a href="#robo82">scaladjust</a></li>
<li>17.17. <a href="#robo89">functions/toidpic</a></li>
<li>17.18. <a href="#robo90">functions/update_package</a></li>
<li>17.19. <a href="#robo92">functions/winstr</a>, <a href="#robo92">utf</a>, <a href="#robo92">ws</a>, <a href="#robo92">aws</a>, <a href="#robo92">codewinfile</a></li>
<li>17.20. <a href="#robo94">functions/XMLduration</a></li>
</ul>
<li>18. <a href="#robo17">ganessa.util/iterators</a></li>
<ul>
<li>18.1. <a href="#robo22">iterators/group</a></li>
</ul>
</ul>
<a name="robo0"></a>
<a name="ganessa2emultithread2fFunctions5fmt"></a>
<h1>1.  ganessa.multithread/Functions_mt [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<a name="robo95"></a>
<a name="Functions5fmt2fmp5frun"></a>
<h2>1.1.  Functions_mt/mp_run [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">Functions_mt</a> ] [ Fonctions ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   This function is provided for legacy <a href="#robo6">Compatibility</a>.
   parallel.<a href="#robo32">MultiProc</a> should be used instead.
</p>
<p class="item_name">SYNTAX</p>
<p>   <strong>mp_run</strong>(logprint, tasks [, nb_cpu= -1] [, wait= 0.0] [, use_wpnum= False])
</p>
<p class="item_name">ARGUMENT</p>
<p>   see <a href="#robo32">MultiProc</a> and <a href="#robo32">run</a> 
</p>
<p class="item_name">RESULT</p>
<p>   this function is implemented as:
</p>
<ul><li>   <a href="#robo32">MultiProc</a>(logprint, nb_cpu, wait, use_wpnum).<a href="#robo32">run</a>(tasks)
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   Created 2016.12.14 
</li>
<li>   Updated 2017.11.14: class interface and optional wpnum argument. 
</li>
<li>   Updated 2017.11.16: machinery moved to parallel 
</li>
</ul>
<p></p>
<a name="robo96"></a>
<a name="Functions5fmt2frequired5fcpu"></a>
<h2>1.2.  Functions_mt/required_cpu [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">Functions_mt</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   ncpu = <strong>required_cpu</strong>(nb_cpu)
</p>
<p class="item_name">ARGUMENT</p>
<p>   int nb_cpu: expected number of parallel processes, up to the hardware core count.
   A negative or null value indicates the number of hardware cores + nb_cpu.
</p>
<p class="item_name">RESULT</p>
<p>   int ncpu: actual number of parallel processes (1 ... max physical core count)
</p>
<p class="item_name">EXAMPLE</p>
<ul><li>   <strong>required_cpu</strong>(-1) returns the hardware core count but one.
</li>
</ul>
<p></p>
<a name="robo1"></a>
<a name="ganessa2eparallel2fAbout"></a>
<h1>2.  ganessa.parallel/About [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">PURPOSE</p>
<p>   The module ganessa.parallel provides a multitasking (parallel) computing
   capability based on multiprocessing Process and Queue objects.
</p>
<a name="robo2"></a>
<a name="ganessa2eparallel2fClasses5fmt"></a>
<h1>3.  ganessa.parallel/Classes_mt [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<a name="robo32"></a>
<a name="Classes5fmt2fMultiProc"></a>
<h2>3.1.  Classes_mt/MultiProc, run,<br />run_sequential [ Objects ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo2">Classes_mt</a> ] [ Objects ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   The <strong>MultiProc</strong> class allows to define and <strong>run</strong> tasks in parallel. A number
   of N processing instances (nb_cpu provided, default all cores but one)
   are created; then tasks from the tasks list are dispatched to the processing
   instances.
</p>

<p>   An <a href="#robo64">init</a> task (resp. a term task) may be provided; if so it is called by
   each processing instance before the 1st task (resp. after the last one).
   If <a href="#robo64">init</a> is not provided,
   first N tasks are guaranteed to be <strong>run</strong> on distinct instances and
   can also be used for initialisation purposes. Then each task in the list is
   associated to the next processing instance available in turn. The execution
   order is not guaranteed (except the first N tasks if <a href="#robo64">init</a> is not provided).
</p>

<p>   <strong>run</strong> executes the tasks list in parallel processing instances; <strong>run_sequential</strong>
   executes the tasks list sequentially, i.e. <a href="#robo64">init</a>, tasks in order, term.
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   mp = <strong>MultiProc</strong>(logprint [, nb_cpu= -1] [, wait= 0.0] [, use_wpnum= False] [, reduce= <a href="#robo36">NONE</a>]
     [, progress= <a href="#robo36">NONE</a>])
</li>
<li>   results, resinit, resterm = mp.<strong>run</strong>(tasks [, <a href="#robo64">init</a>=<a href="#robo36">NONE</a>] [, term= <a href="#robo36">NONE</a>])
</li>
<li>   results, resinit, resterm = mp.<strong>run_sequential</strong>(tasks [, <a href="#robo64">init</a>=<a href="#robo36">NONE</a>] [, term= <a href="#robo36">NONE</a>] [, wpnum= <a href="#robo36">NONE</a>])
</li>
<li>   comb_results = mp.<strong>run</strong>(tasks [, <a href="#robo64">init</a>=<a href="#robo36">NONE</a>] [, term= <a href="#robo36">NONE</a>])
</li>
<li>   comb_results = mp.<strong>run_sequential</strong>(tasks [, <a href="#robo64">init</a>=<a href="#robo36">NONE</a>] [, term= <a href="#robo36">NONE</a>] [, wpnum= <a href="#robo36">NONE</a>])
</li>
<li>   ncpu = mp.nmaxcpu
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   function logprint: called by mp.<strong>run</strong> with a single str arg for logging
</li>
<li>   int nb_cpu: optional number of parallel processes, up to the hardware core count.
     A negative value indicates the number of hardware cores + nb_cpu (defaults to -1).
</li>
<li>   float wait: wait time (s) before the first task of each processing instance.
</li>
<li>   bool use_wpnum: if True, the function called in task list must accept an
     integer keyword argument wpnum, being equal to the process number (1 ... nb_cpu)
     in charge of its execution.
</li>
<li>   callable progress: function for displaying the overall progression.
     It is called after every task completion with the completion rank (starting at 0)
     and the total task count, i.e. progress(i, ntasks) where i in range(ntasks).
</li>
<li>   callable reduce: function for reducing the simulation results.
     the first call to '<a href="#robo64">init</a>' is used to initialise comb_results;
     then every incoming result is merged in turn (in random order):
     comb_result = reduce(comb_results, result)
</li>
<li>   tasks: list of (func, args) tuples defining the tasks to be <strong>run</strong> as
     result = func(*args) if use_wpnum is False or not <a href="#robo63">set</a>; or
     result = func(*args, wpnum= proc_num) otherwise.
     if func returns a str or unicode, it will be inserted in the log string.
</li>
<li>   optionally, func can be a tuple (fun, erfun); erfun(*args) will be called
     for a return value if fun(*args) raise an exception (added 190416).
</li>
<li>   <a href="#robo64">init</a> (optional) tuple (func, args) to be called by every processing instance
     before any tasks.
</li>
<li>   term (optional) tuple (func, args) to be called by every processing instance
     after all tasks.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int ncpu: number of processing instances.
</li>
</ul>
<p>   When reduce function is not provided:
</p>
<ul><li>   results: list of result = func(args), in the original tasks list order.
</li>
<li>   resinit: list of results for <a href="#robo64">init</a> calls (empty if <a href="#robo64">init</a> is <a href="#robo36">NONE</a>).
     Its length is the processing instances count.
</li>
<li>   resterm: list of results for term calls (empty if term is <a href="#robo36">NONE</a>).
     Its length is the processing instances count.
</li>
</ul>
<p>   When reduce function is provided:
</p>
<ul><li>   comb_results: reduced results. Roughly reduce(reduce, results, init_result)
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   tasks are <strong>run</strong> in parallel by the <a href="#robo63">set</a> of parallel processes: when a process
     ends up a task, it starts executing the next task available in the list.
</li>
<li>   the number of processing instances is available as mp.nmaxcpu
</li>
<li>   <strong>run_sequential</strong> is provided for debugging, it loops and <a href="#robo40">execute</a> tasks in turn.
</li>
<li>   if the tasks count is smaller than the number of requested cpus, the number
     of processing instances is reduced to the task count.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   Created 2016.12.14
</li>
<li>   Updated 2017.11.14: class interface and optional wpnum argument.
</li>
<li>   Updated 2017.11.17: renamed to parallel; added results return list.
     added <a href="#robo64">init</a> and term options
</li>
<li>   Updated 2017.11.20: return values as a tuple of 3 lists for tasks, <a href="#robo64">init</a>, term
</li>
<li>   Updated 2017.11.30: added progress method
</li>
<li>   Updated 2018.04.18: added reduce method; fix <a href="#robo64">init</a> seq <strong>run</strong> issue.
</li>
<li>   Updated 2018.05.14: fix python3 issue
</li>
<li>   Updated 2019.04.11: NotImplementedError handling in cpu_count
</li>
<li>   Updated 2019.04.16: added erfun handling for return value when fun raises an exception
</li>
</ul>
<p></p>
<a name="robo3"></a>
<a name="ganessa2eplot2ffunctions5fplot"></a>
<h1>4.  ganessa.plot/functions_plot [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<a name="robo97"></a>
<a name="functions5fplot2flayout"></a>
<h2>4.1.  functions_plot/layout [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo3">functions_plot</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Determines the number of pages, lines and columns of a figure
</p>
<p class="item_name">SYNTAX</p>
<p>   npages, nlines, ncols = <strong>layout</strong>(nbplots [, nlmax=6 ] [, ncmax= 4] [, orient= 'h'])
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   int nbplots: number of <a href="#robo31">Graph</a> to plot
</li>
<li>   int nlmax (optional, default 6): max nb of graphs per column
</li>
<li>   int ncmax (optional, default 4): max nb of graphs per line
</li>
<li>   char orient (optional, default 'h'): orientation of the <strong>layout</strong> (h or v)
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int npages:  number of pages to plot
</li>
<li>   int nlines:  number of lines per page
</li>
<li>   int ncols:   number of columns per page
</li>
</ul>
<p></p>
<p class="item_name">EXAMPLE</p>
<ul><li>   nf, nl, nc = <strong>layout</strong>(len(mes))
</li>
<li>   for i in range(nf):
</li>
<li>       <a href="#robo98">plotmes</a>(graphs[i*nl*nc:(i+1)*nl*nc] , ...)
</li>
</ul>
<p></p>
<a name="robo98"></a>
<a name="functions5fplot2fplotmes"></a>
<h2>4.2.  functions_plot/plotmes, plotmesx,<br />pageplot, pageplotx [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo3">functions_plot</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>plotmes</strong> plots one or more time series of the same kind in a single page.
</li>
<li>   <strong>plotmesx</strong> plots one or more time series of the same kind on one or more figures.
     it makes use of <a href="#robo97">layout</a> in order to determine the number of pages.
</li>
<li>   <strong>pageplot</strong> plots a <a href="#robo25">Table</a> of time series.
</li>
<li>   plot_close allows to clean up matplotlib scraps and should be called
     before the script ends.
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   <strong>plotmes</strong>(mes, <a href="#robo68">attr</a>  [, nl=3 ]  [, nc=2 ] [, cmt='' ] [, fgname=''] [, inter=True]  [, orient= 'h'])
</li>
<li>   <strong>plotmesx</strong>(mes, <a href="#robo68">attr</a> [, nlx=6 ] [, ncx=4 ] [, cmt='' ] [, fgname=''] [, inter=True]  [, orient= 'h'])
</li>
<li>   <strong>pageplot</strong>(tsl, title [, nl=3 ] [, nc=2 ] fgname=''] [, inter=True] [, lang='FR']  [, orient= 'h'])
</li>
<li>   <strong>pageplotx</strong>(tsl, title [, nlx=3 ] [, ncx=2 ] fgname=''] [, inter=True] [, lang='FR']  [, orient= 'h'])
</li>
<li>   plot_close()
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   list mes: either a list of element ids, for which the result time series
     will be retrieved from the result file. If a measurement is associated
     with an id, it will also be displayed on the same id <a href="#robo31">Graph</a>.
</li>
<li>   or a list of (id, ftime, fval), in which case the additional
     time serie (ftime, fval) will be plotted on the id <a href="#robo31">Graph</a>.
</li>
<li>   list tsl: list of (id, tvec, vvec [,vvec2]) to be plotted, one per <a href="#robo31">Graph</a>.
</li>
<li>   string <a href="#robo68">attr</a>: attribute to be plotted
    (or <a href="#robo68">attr</a>:DA for residual or <a href="#robo68">attr</a>:DR for relative residual)
</li>
<li>   string title: title for <strong>pageplot</strong>(x). If tsl contains 2 data series, title can
     be given as a tuple (title, legend1, legend2).
</li>
<li>   nl, nc: number of lines and columns of plots in the page (<strong>plotmes</strong> and <strong>pageplot</strong> only)
</li>
<li>   nlx, ncx: maximum number of lines and columns of plots in the page (<strong>plotmesx</strong> and <strong>pageplotx</strong> only)
</li>
<li>   cmt: optional comment appended to the title
</li>
<li>   string fgname: output file name - if not nul, the plot will be saved
     into a filename with extension '.png'.
</li>
<li>   bool inter: if False, no plot is displayed
</li>
<li>   char orient (optional, default 'h'): orientation of the <a href="#robo97">layout</a> (h or v)
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   Type of data and units are displayed (in french) in the figure title
</p>
<p class="item_name">HISTORY</p>
<ul><li>   170426: improvement of x axis labels when time horizon &gt; 24h
</li>
<li>   170618 (1.7.6): added <strong>pageplot</strong>
</li>
<li>   171120 (1.8.5): added plot_close
</li>
<li>   180924 (2.0.1): added orient kw
</li>
<li>   181105 (2.0.3): added <strong>pageplotx</strong>
</li>
<li>   200103 (2.0.8): plot reference before simulation
</li>
<li>   200315 (2.1.1): plot chlorine
</li>
<li>   200603 (2.1.3): single (static) measurement plotted as an horizontal line
</li>
<li>   200915 (2.1.5): <strong>pageplot</strong>(x) allows multiple ts per <a href="#robo31">Graph</a>.
</li>
</ul>
<p></p>
<a name="robo4"></a>
<a name="ganessa2esim26th2fAbout"></a>
<h1>5.  ganessa.sim&amp;th/About [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">PURPOSE</p>
<p>   The module ganessa.sim (resp. ganessa.th) provides a Python interface
   to Picwin32.dll and Ganessa_SIM.dll (resp. Ganessa_TH.dll) kernel API.
   Starting with version 2, it is compatible with 32 and 64 bits versions
   of python 3.6/3.7.
   Starting with version 2.1, it is compatible with python 3.7.6 and 3.8.
</p>

<p>   The module name ganessa.sim&amp;th is used for items availble both
   in .sim and .th environments
</p>
<p class="item_name">INSTALLATION</p>
<p>   pip install ganessa
</p>

<p>   The package expects the simulation kernel .dll to be found either
   in the folders given by %GANESSA_DIR environment variable (for Ganessa_xx.dll)
   or %PICCOLO_DIR (for Picwin32.dll),
   or in the %PATH environment variable (either name),
   or in one of the sub folders of Program Files folder (x86 under Windows 7):
</p>
<ul><li>   "Safege/Ganessa_&lt;lang&gt;/Ganessa_xx" (xx = SIM or TH) or
</li>
<li>   "Gfi Progiciels/Piccolo6_&lt;lang&gt;[_ck | _cl]/Picwin32.dll" or
</li>
<li>   "Gfi Progiciels/Picalor6_&lt;lang&gt;[_ck | _cl]/Picwin32.dll" or
</li>
<li>   "Adelior/Piccolo5_&lt;lang&gt;/Picwin32.dll"
</li>
</ul>
<p>   in either drive D: or C:
</p>
<p class="item_name">USE</p>
<p>   Syntax:
</p>
<ul><li>   import ganessa.sim as pic   (or ganessa.th for Picalor)
</li>
<li>   pic.<a href="#robo40">cmdfile</a>('my file.dat')
</li>
</ul>
<p>   Or:
</p>
<ul><li>   from ganessa.sim import *
</li>
<li>   <a href="#robo40">cmdfile</a>('my file.dat')
</li>
</ul>
<p>
   the import will perform the following initialisation tasks:
</p>
<ul><li>   locate Ganessa_xx.dll or Picwin32.dll kernel
</li>
<li>   initialise it
</li>
<li>   locate result.bin in a working subdirectory
</li>
<li>   bind termination to ctrl+Z
</li>
</ul>
<p></p>
<p class="item_name">CONTENT</p>
<p>   The package provides the following content:
</p>
<ul><li>   <a href="#robo7">Constants</a> for calling API <a href="#robo16">functions</a>
</li>
<li>   <a href="#robo17">iterators</a> for browsing objects and selections
</li>
<li>   <a href="#robo16">functions</a> for loading .bin file
</li>
<li>   <a href="#robo16">functions</a> for executing command files / command strings / running simulations
</li>
<li>   <a href="#robo16">functions</a> for catching simulation errors and retrieving <a href="#robo27">Unstable</a> items
</li>
<li>   <a href="#robo16">functions</a> for retrieving individual objects attributes
</li>
<li>   <a href="#robo16">functions</a> for retrieving <a href="#robo25">Table</a> entries and object count
</li>
<li>   <a href="#robo16">functions</a> for retrieving result or measurements time series
</li>
<li>   <a href="#robo16">functions</a> for retrieving min / max / avg values for all objects
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   Most of the <a href="#robo16">functions</a> are getter. A few direct setter <a href="#robo16">functions</a> are provided
     (<a href="#robo87">setlinkattr</a>, setdensity, <a href="#robo100">defcalind</a>, *SHL <a href="#robo16">functions</a>). The general <a href="#robo31">PURPOSE</a>
     <a href="#robo51">gencmd</a>(w), addcmd(w), <a href="#robo40">cmd</a>, <a href="#robo40">execute</a> and <a href="#robo40">cmdfile</a> can be used to build / <a href="#robo41">commit</a>
     any other settings with command language (see the Piccolo Reference Manual).
</li>
<li>   Commands (passed to <a href="#robo40">cmd</a>, <a href="#robo40">execute</a>, <a href="#robo40">cmdfile</a>) should be built in the language
     (idiom) of the current version. <a href="#robo59">getkeyword</a>, <a href="#robo59">modulekeyword</a>, <a href="#robo59">attrkeyword</a> allow
     to retrieve a given keyword in the current idiom; <a href="#robo51">gencmd</a>(w) allow to build a
     command line in the current idiom.
</li>
<li>   A command file may be written in any of English, French or Spanish, the current
     command language interpreter will switch to the xxx language from _LANG_ xxx
     command until the end of the file, then switch back to the current language.
</li>
<li>   Any suggestion for extending / improving can be mailed to: piccolo@safege.fr
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   The history of the package is:
</p>
<ul><li>   1.0.3: <a href="#robo98">plotmesx</a> png takes care of measurement type
</li>
<li>   1.0.4: added demand getter for a demand code or for all
</li>
<li>   1.0.5: added Windows 7 paths 'program files (x86)';
            added option to <a href="#robo63">get</a> TS by measurement step '<a href="#robo103">tsvalbymts</a>';
            added '<a href="#robo103">refdate</a>' : retireval of <a href="#robo103">refdate</a>
</li>
<li>   1.0.6: correction to the grid adjustment in <a href="#robo98">plotmes</a> (util)
</li>
<li>   1.0.7: <a href="#robo30">getMinMax</a> can be called with a selection name
</li>
<li>   1.0.8: <a href="#robo83">save</a> function
</li>
<li>   1.0.9: <a href="#robo91">SimulationError</a> exception catching + <a href="#robo83">save</a>(identical to MMI);
            requires numpy 1.8.1
</li>
<li>   1.1.0: same as 1.0.9 but requires only numpy 1.7.1
</li>
<li>   1.1.1: minor change to <a href="#robo92">codewinfile</a>=<a href="#robo92">winstr</a>
</li>
<li>   1.1.2: added '<a href="#robo40">execute</a>' for multiple commands as strings (\n managed as a separator)
</li>
<li>   1.1.3: (141104) disable useoffset for Y axes in 'util.<a href="#robo98">plotmes</a>'
</li>
<li>   1.1.4: (141118) handling Picwin32.dll provided by GFI after 18-11-2014 (best 03-12-2014)
</li>
<li>   1.1.5: (141205) handling ts &lt; ms in <a href="#robo103">tsvalbymts</a>
</li>
<li>   1.1.6: (150127) <a href="#robo77">nodeXYZ</a> added + bugfix in <a href="#robo68">attrs</a> documentation
</li>
<li>   1.1.7: (150309) minor grammatical changes
</li>
<li>   1.2.0: (150507) change in folder search order (ws7 priority) + language - OK with Picwin32 151203
</li>
<li>   1.2.1: (150527) Picalor enabled  as ganessa.th + density and SHL management;
            (150603) added '<a href="#robo68">meanattr</a>';
            (150610) added '<a href="#robo37">addSHLtype</a>'
</li>
<li>   1.2.2: (150709) bug fix calls <a href="#robo84">select</a>* from <a href="#robo24">Selected</a>
</li>
<li>   1.2.3: (150812) bug fix: return value of <a href="#robo99">browseWQ</a>; <a href="#robo54">getall</a>
</li>
<li>   1.2.4: (150910) <a href="#robo7">Constants</a> added (WQ, Inverse Pb) + <a href="#robo19">DemandCodes</a>
</li>
<li>   1.2.5: (150922) utils: tuning of <a href="#robo98">plotmes</a> subtitle fontsize for large titles
                      + <a href="#robo7">Constants</a> (MOD, NOD ...) + '<a href="#robo38">areas</a>' function
</li>
<li>   1.2.6: (151128) added <a href="#robo109">tsdemand</a> and <a href="#robo109">tsdemandlen</a>, <a href="#robo109">tsdevice</a> and <a href="#robo109">tsdevicelen</a>;
                     added tables (material, area etc.) access;
                     utils: added <a href="#robo71">list2file</a>
</li>
<li>   1.3.0: (151202) added support for <a href="#robo6">Compatibility</a> with Picwin32 12/2014, 12/2015 and Ganessa;
            (151206) addl <a href="#robo7">Constants</a> (BRA, DYN, <a href="#robo34">RSV</a>);
            (151218) reviewed <a href="#robo6">Compatibility</a> with Picwin32 (2015+ -&gt; Piccolo6), (2014 -&gt; Piccolo5)
</li>
<li>   1.3.1: (160108) header, footer and suffix optional args for utils.<a href="#robo71">list2file</a>;
            (160113) added memory allocation error exception (inverse module)
</li>
<li>   1.3.2: (160118) added retrieval of problematic devices;
            (160126) added 'H' <a href="#robo34">TANK</a> attribute in util.<a href="#robo98">plotmes</a>(x)
</li>
<li>   1.3.3: (160226) added <a href="#robo58">getindex</a>, <a href="#robo68">tankattrs</a>, <a href="#robo68">linkattr</a> and <a href="#robo68">linkattrs</a>
</li>
<li>   1.3.4: (160301) added <a href="#robo7">Constants</a> for inverse pb;
            (160309) added inverse simulation summary;
            (160318) added added nxxxxattr and nxxxxatrs function for getting attributes by index;
            (160325) added file quote as needed in <a href="#robo83">save</a> function;
            (160329) corrected doc (<a href="#robo84">selectlen</a>/<a href="#robo84">select</a>);
            (160405) corrected doc, added <a href="#robo70">linkXYZV</a>;
            (160408) utils: strloc, <a href="#robo50">strf3loc</a>
</li>
<li>   1.3.5: (160410) added <a href="#robo64">init</a>(folder)
</li>
<li>   1.3.6: (160511) added '<a href="#robo111">symmetric_node</a>' (Ganessa_TH);
            (160531) reviewed <a href="#robo6">Compatibility</a> with dll versions since 2014.
</li>
<li>   1.3.7: (160622) added OpenFileMMI <a href="#robo5">Classes</a>: SelectModel, SelectFile, ExecStatus;
            (160706) added '<a href="#robo44">dist2link</a>'; added 'util.<a href="#robo45">dist_to_poly</a>' as pure python backup;
                     OpenFileMMI uses simulation interface from caller, or <a href="#robo36">NONE</a>;
                     changed all <a href="#robo5">Classes</a> to new style;
                     added 'len' method to '<a href="#robo24">Selected</a>' and '<a href="#robo21">Elements</a>'; added '<a href="#robo31">Graph</a>'
</li>
<li>   1.4.0: (160715) setup changed to build whl from source files;
            (160719) minor bug fix in util.<a href="#robo98">plotmes</a> - reuse same fig in non interactive mode
</li>
<li>   1.4.1: (160820) OpenFileMMI SelectFile with null extension; load error handling
</li>
<li>   1.4.2: (160830) added AUTO and QUAL storestep <a href="#robo7">Constants</a>; minor fix in <a href="#robo51">gencmd</a>;
                     added include_depth optional attribute to '<a href="#robo70">linkXYZV</a>';
            (160915) added version_2016b in the Picwin32 lookup <a href="#robo25">Table</a>;
            (160919) added SelectFolder in OpenFileMMI;
            (160922) added <a href="#robo87">setlinkattr</a> as a synonym of <a href="#robo87">setbranchattr</a>;
            (160927) intermediate API for Piccolo6 2016 B (dec-2016)
</li>
<li>   1.5.0: (161010) added '<a href="#robo59">getkeyword</a>';
            (161019) minor change in util.<a href="#robo98">plotmes</a>: 160719 patch reviewed for better output;
            (161124) added '<a href="#robo108">stat_quantiles</a>', '<a href="#robo108">stat_duration</a>', and '<a href="#robo29">Dynamic_Stats</a>'
</li>
<li>   1.5.1  (161212) bug fix on ts* <a href="#robo16">functions</a> without result file;
                     added 'retry' optional argument to <a href="#robo101">full_solveH</a>
</li>
<li>   1.5.2  (170105) added folder=option in util.<a href="#robo71">list2file</a>
            (170110) build with numpy 1.11.0 - compatible with
</li>
<li>   1.7.0  (170119) build with BIND(C) instead of DEC$ATTRIBUTE C, REFERENCE;
                     required with ganessa_SIM &gt; 170117 (renamed API <a href="#robo16">functions</a>);
            (170125) added fixed_interval to <a href="#robo109">tsdevice</a>, now return float values
</li>
<li>   1.7.1  (170221) minor changes in util.<a href="#robo63">IniFile</a> (default encoding <a href="#robo92">utf</a>-8);
                     switch to unicode_literals in sim&amp;th, util and prot;
            (170223) added compiled util.<a href="#robo45">dist</a>, util.<a href="#robo45">dist_p_seg</a>, util.<a href="#robo45">dist_to_poly</a>
</li>
<li>   1.7.2  (170228) added OpenFileMMI.setlanguage function (FR/US or UK);
            (170304) fix <a href="#robo30">getMinMax</a>/<a href="#robo102">getallminmax</a> break in 1.7.0
</li>
<li>   1.7.3  (170313) added WQ, MOD and LNK <a href="#robo7">Constants</a>; added <a href="#robo35">DICT</a>.END;
                     added <a href="#robo59">modulekeyword</a> and <a href="#robo59">attrkeyword</a>;
            (170331) added <a href="#robo88">shearstr</a>; match Piccolo 2017 --&gt; NO !
</li>
<li>   1.7.4  (170407) added silent option to <a href="#robo64">init</a>;
            (170424) added default '@safege.com' domain to util.<a href="#robo47">envoi_msg</a>
</li>
<li>   1.7.5  (170426) improved util.<a href="#robo98">plotmes</a>(x) for horizon &gt; 24h;
            (170512) added module 'multithread';
            (170515) fix parent.inidir error in OpenFileMMI; added <a href="#robo107">solveH</a>
</li>
<li>   1.7.6  (170613) added <a href="#robo7">Constants</a> (STATIC, QUA.VISUSTEP) and util.<a href="#robo22">group</a>;
                     minor bug fix in <a href="#robo24">Selected</a>, <a href="#robo30">getMinMax</a> and <a href="#robo29">Dynamic_Stats</a>;
            (170618) added title to OpenFileMMI.SelectFile and SelectFolder;
                     added util.<a href="#robo98">pageplot</a>;
            (170620) replaced litteral symbols with <a href="#robo59">attrkeyword</a>();
            (170627) match Piccolo 2017 (apr 2017);
</li>
<li>   1.7.7  (170705) added <a href="#robo42">cwfold</a>;
            (170707) optional arg for sim&amp;th.<a href="#robo78">close</a>(arg) and prot.<a href="#robo78">close</a>(arg);
                     added C1 in util.<a href="#robo98">plotmes</a> for chlorine plots;
</li>
<li>   1.7.8pr1 (170808) doc update; upload to pypi
</li>
<li>   1.7.8  (170817) replaced <a href="#robo63">IniFile</a> with json/xml version
</li>
<li>   1.7.9pr1 (170824) prepared for Piccolo 2017b;
              (170830) added <a href="#robo60">getunitcoef</a>
</li>
<li>   1.8.0 (170907) sim.py split into core, core_sim, core_th; changed/fixed path lookup;
           (170918) added <a href="#robo81">resfile</a>, raw_getcmdw, raw_stat_duration, raw_stat_quantiles
</li>
<li>   1.8.1 (171004) added util.<a href="#robo90">update_package</a>
</li>
<li>   1.8.2 (171016) added util.<a href="#robo65">str2uni</a> (tries utf8 the cp1252 - reverse from <a href="#robo65">unistr</a>);
           (171018) minor bug fix for util.<a href="#robo90">update_package</a>;
           (171103) added sort.<a href="#robo33">HeapSort</a> class and <a href="#robo31">Graph</a>.<a href="#robo31">dtree</a>
</li>
<li>   1.8.3 (171109) added error msg when OpenFileMMI is imported before sim or th;
           (171110) fix _pyganutl import broken in 1.8.0 (util.<a href="#robo45">dist</a>, util.<a href="#robo45">dist_to_poly</a>);
           (171114) added multithread.<a href="#robo32">MultiProc</a> class
</li>
<li>   1.8.4 (171120) bug fix / changed multithread.<a href="#robo32">MultiProc</a>.<a href="#robo32">run</a> return values as 3 lists
</li>
<li>   1.8.5 (171120) added util.plot_close to avoid Fatal Python error at exit;
           (171128) added <a href="#robo69">linkbbox</a> and util.<a href="#robo61">gbool</a>
</li>
<li>   1.8.6 (171201) added progress keyword to parallel.<a href="#robo32">MultiProc</a>; <a href="#robo46">full_version</a>;
                    added util.send_report
</li>
<li>   1.8.7 (171208) fix <a href="#robo90">update_package</a> not succeeding in update 'ganessa'
</li>
<li>   1.8.8 (171212) improved <a href="#robo90">update_package</a> proxy configuration using .json files;
                    added Picwin32.dll lookup into PICCOLO_DIR environment variable
                    and '_ck' optional folder suffix
</li>
<li>   1.8.9 (171220) updated <a href="#robo46">full_version</a>; added UPN lookup in send_report;
           (180126) added <a href="#robo62">importEpanet</a> and <a href="#robo62">exportEpanet</a>
</li>
<li>   1.9.0 (180227) added <a href="#robo65">con2uni</a> for converting console output to unicode (cp850)
           (180305) fixes related to 2to3: _getdll: environ; util: <a href="#robo92">winstr</a> and <a href="#robo92">utf</a>,
                    <a href="#robo63">IniFile</a> encoding, cmp_version, added version_as_tuple
           (180328) send_report timeout to 2 seconds, added util.<a href="#robo65">is_text</a>;
                    2 and 3 <a href="#robo6">Compatibility</a> changes for <a href="#robo65">unistr</a>, <a href="#robo65">str2uni</a>, <a href="#robo65">utf2uni</a>, ascii.
</li>
<li>   1.9.1 (180418) added a reduce function to parallel.<a href="#robo32">MultiProc</a>; fix seq <a href="#robo32">run</a>
           (180502) <a href="#robo90">update_package</a> looks for package in current folder
</li>
<li>   1.9.2 (180514) fix python3 issue in parallel submodule; minor OpenFileMMI fixes
           (180518) fix <a href="#robo90">update_package</a> <a href="#robo6">Compatibility</a> with parallel
</li>
<li>   1.9.3 (180525) added epanet2 API and dll (py27 only); fix epanet.getlinknodes
           (180530) added util.<a href="#robo92">ws</a>
</li>
<li>   1.9.4 (180531) fix <a href="#robo92">utf</a>-8 decoding for Inifile1L
           (180604) fix <a href="#robo58">getindex</a>; added <a href="#robo58">exists</a>
</li>
<li>   1.9.5 (180607) added epanet2 API and dll (compiled from epanettools 0.4.2)
           (180608) added an example in README
           (180613) plot funcs moved from ganessa.util to ganessa.plot
</li>
<li>   1.9.6 (180615) fix sim.<a href="#robo64">init</a> handling non-ascii chars in folder name (uploaded 180621)
</li>
<li>   1.9.7 (180705) fix util.<a href="#robo63">IniFile</a> handling non-ascii chars in file name
           (180718) fix OpenFileMMI issue with inidir
           (180813) added support for Piccolo 2018 (released 2018-07-25) and uploaded
</li>
<li>   1.9.8 (180814) 64-bits version for Ganessa_SIM (python 3.6)
                    minor OpenFileMMI changes (clear_exe, bt_exe_state)
           (180815) upload wheels for python 3.7 (32 and 64 bits).
</li>
<li>   2.0.0 (180816) util.<a href="#robo22">group</a> fix (python 3.7); added verbose param in util.<a href="#robo90">update_package</a>
           (180820) added '<a href="#robo93">wqtracevectsize</a>' for returning the max size of WQ
                    concentration vector usable for tracing origin of water
           (180823) added geojsonfile for writing to geojson; fix minor midfile issue
           (180829) added C:/Program Files lookup in x64 env; geojson reader
           (180831) release and upload
</li>
<li>   2.0.1 (180910) util.<a href="#robo71">list2file</a> minor fix; doc fix; minor <a href="#robo21">Elements</a> changes
           (180919) fix ganessa.th break in 2.0.0
           (180924) added orient keyword in ganessa.plot <a href="#robo16">functions</a>; slight behavior change
</li>
<li>   2.0.2 (181003) added util.<a href="#robo50">strf2loc</a>; doc update
           (181011) minor change in sim.seleclen; added util.<a href="#robo39">call_until_false</a>
           (181025) minor fix in ganessa.prot
           (181030) release and upload
</li>
<li>   2.0.3 (181105) added plot.<a href="#robo98">pageplotx</a>; (13) added '.' at head of prot lookup folders
           (181119) changed geojson and midfile to conform to shapefile 2.0
           (181203) added '_cl' suffix option to the Piccolo lookup folder;
                    len for <a href="#robo24">Selected</a>, <a href="#robo21">Elements</a> and derived <a href="#robo17">iterators</a>
           (181207) fix util.Inifile1L.<a href="#robo83">save</a> with python 3.x
           (181209) doc updated; release and upload
</li>
<li>   2.0.4 (181218) debug mode for unicode control; util.<a href="#robo63">IniFile</a>.<a href="#robo63">get</a> returns ustr
           (181220) OpenFileMMI.ExecStatus.clear: remove 'all' kwarg;
                    added len to <a href="#robo30">getMinMax</a> and DynamicStats <a href="#robo17">iterators</a>
</li>
<li>   2.0.5 (181229) added util.perfs
           (190107) handle OpenFileMMI.SelectModel(usedef=False)
           (190109) changes in <a href="#robo90">update_package</a> permission lookup
           (190131) release and (190211) upload
</li>
<li>   2.0.6 (190411) minor fix in parallel.<a href="#robo96">required_cpu</a>
           (190416) minor evolution to parallel.<a href="#robo32">MultiProc</a>: alternate erfun call on Exception
           (190423) release and upload
</li>
<li>   2.0.7 (190617) added 'extra_data' keyword to sim.<a href="#robo83">savemodel</a>
           (190715) added DYNSTOP <a href="#robo91">SimulationError</a>; minor doc fix
           (190819) improved simulation error check in <a href="#robo101">full_solveH</a>, <a href="#robo107">solveH</a>, <a href="#robo110">solveTH</a>
           (190821) added util.<a href="#robo53">get_python_exe</a>
           (191007) minor fix in OpenFileMMI.SelectFile
           (191008) release and upload
</li>
<li>   2.0.8 (191015) fix README.rst
           (200106) added upstream and downstream methods to sim.<a href="#robo31">Graph</a>
           (200204) fix new python 3.8 dll directory search
                    release and upload (2.7-32 / 3.7 / 3.8 only)
</li>
<li>   2.0.9 (200205) fix prot with python 3.8 dll directory search + minor changes;
                    release and upload (2.7-32 / 3.7 / 3.8 only)
</li>
<li>   2.1.0 (200214) fix urllib3 requiring proxy scheme in <a href="#robo52">get_proxy</a>
           (200220) Piccolo versions 2017+ required for python 3.x+;
                    fix to dll directory search, related to FlexLM; fix Example.py;
                    release and upload (2.7-32 / 3.7 / 3.8 only)
</li>
<li>   2.1.1 (200306) new sim.<a href="#robo28">WQSources</a>() iterator
           (200313) fix util.<a href="#robo82">scaladjust</a> for range below 1;
                    fix chlorine (C1) plot.<a href="#robo98">plotmes</a>(x)
           (200314) add added util.<a href="#robo66">is_wq</a> and sim.<a href="#robo103">wqtslen</a>; fix sim.<a href="#robo103">tsval</a> for WQ TS
           (200323) doc fixes; add module constant KW (MOD kw, QUA, INV)
                    add optional return_type=True kw to sim.<a href="#robo24">Selected</a>
           (200324) fix workdir &amp; result file in virtualstore;
                    release and upload (2.7-32 / 3.7 / 3.8 only)
</li>
<li>   2.1.2 (200506) add util.<a href="#robo63">IniFile</a>.remove
           (200511) release and upload (2.7-32 / 3.7 / 3.8 only)
</li>
<li>   2.1.3 (200603) plot.<a href="#robo98">plotmes</a>: single (static) measurement plotted as an horizontal line
           (200604) OpenFileMMI.SelectModel: chdir to model folder to allow relative inner read
           (200619) added en2emu sim-like minimal <a href="#robo6">Compatibility</a> module
           (200622) added <a href="#robo75">nbvertices</a>() and fake get_labels()
           (200629) release and upload (2.7-32 / 3.7 / 3.8 only)
</li>
<li>   2.1.4 (200708) dll lookup in '.'
           (200819) minor fix on plot.<a href="#robo98">pageplot</a>
                    release and upload (2.7-32 / 3.7 / 3.8 only)
</li>
<li>   2.1.5 (200824) replace util.ascii with util.<a href="#robo65">myascii</a>
           (200915) plot.<a href="#robo98">pageplot</a>(x) allows multiple ts per <a href="#robo31">Graph</a>; fix <a href="#robo40">cmdfile</a>
           (200922) added demand profile query by zone and code/zone (<a href="#robo109">tsdemand</a>)
           (201109) added util.read_as_idpic
           (201119) release and upload  (2.7-32 / 3.7 / 3.8 only)
</li>
<li>   2.1.6 ()
</li>
</ul>
<p>
</p>
<pre>           postponed: &lt;&lt;add epanet 2.2.0 API as _epanet22 - same interface as _epanet2&gt;&gt;.
</pre>
<p></p>
<a name="robo5"></a>
<a name="ganessa2esim26th2fClasses"></a>
<h1>6.  ganessa.sim&amp;th/Classes [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   <strong>Classes</strong> available to ganessa.sim and ganessa.th
</p>
<a name="robo31"></a>
<a name="Classes2fGraph"></a>
<h2>6.1.  Classes/Graph, extrnodes,<br />adjlinks, adjnodes,<br />propagate, dtree,<br />PURPOSE [ Objects ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo5">Classes</a> ] [ Objects ]</p>
<p class="item_name">SYNTAX</p>
<p>   <strong>Graph</strong> = <strong>Graph</strong>([orientation])
</p>
<p class="item_name">METHODS</p>
<ul><li>   from_n, to_n = <strong>Graph</strong>.<strong>extrnodes</strong>(alink): returns the from and to <a href="#robo23">Nodes</a> of alink
</li>
<li>   linkset = <strong>Graph</strong>.<strong>adjlinks</strong>(anode): returns <a href="#robo18">Links</a> adjacent to anode as a <a href="#robo63">set</a>
</li>
<li>   nodeset = <strong>Graph</strong>.<strong>adjnodes</strong>(anode): returns <a href="#robo23">Nodes</a> adjacent to anode as a <a href="#robo63">set</a>
</li>
<li>   plist = <strong>Graph</strong>.oriented_links(anode): returns a list of (<a href="#robo34">LINK</a>, index) tuples
</li>
<li>   slinks, snodes = <strong>Graph</strong>.<strong>propagate</strong>(anode [, maxlen= -1]):
     returns the sets of <a href="#robo18">Links</a> and <a href="#robo23">Nodes</a> connected to 'anode' by a path of max length 'maxlen'
</li>
<li>   <strong>dtree</strong>, slinks = <strong>Graph</strong>.<strong>dtree</strong>(anode [, maxlen= -1]): returns a tree as an ordered <a href="#robo35">DICT</a>
</li>
<li>   linkset, nodeset = <strong>Graph</strong>.downstream(anode [, update='Q'] [, maxlen= -1]):
     returns downstream <a href="#robo21">Elements</a> with respect to 'update' attribute direction (default Q)
</li>
<li>   linkset, nodeset = <strong>Graph</strong>.upstream(anode [, update='Q'] [, maxlen= -1]):
     returns upstream <a href="#robo21">Elements</a> with respect to 'update' attribute direction (default Q)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   str orientation: the attribute sign will be used for orienting the <strong>Graph</strong>.
     (default <a href="#robo36">NONE</a>, orientation from -&gt; to)
</li>
<li>   str alink, anode: <a href="#robo34">LINK</a>, <a href="#robo34">NODE</a> ID
</li>
<li>   int maxlen: compute <strong>Graph</strong> propagation up to maxlen steps (&lt;0 if not limited)
</li>
<li>   str update: attribute to be used as <a href="#robo34">LINK</a> direction (defaut 'Q'; use '' or <a href="#robo36">NONE</a> to
     disable direction update)
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   The <strong>Graph</strong> is built from the current model <a href="#robo18">Links</a> and <a href="#robo23">Nodes</a>:
</p>
<ul><li>   <a href="#robo63">set</a> linkset: <a href="#robo63">set</a> of adjacent <a href="#robo18">Links</a> ID
</li>
<li>   <a href="#robo63">set</a> nodeset: <a href="#robo63">set</a> of adjacent <a href="#robo23">Nodes</a> ID
</li>
<li>   plist: list of tuples (ID alink, int idx) where idx is the index
     of the other <a href="#robo34">NODE</a> in <strong>Graph</strong>.edges[alink] (<strong>Graph</strong>.edges[alink][1-idx] == anode).
</li>
<li>   sets slinks, snodes: sets of <a href="#robo18">Links</a> and <a href="#robo23">Nodes</a> ID.
</li>
<li>   OrderedDict <strong>dtree</strong>: ordered <a href="#robo35">DICT</a> where key are <a href="#robo34">NODE</a> IDs, values are a <a href="#robo34">LINK</a> ID
     and a depth integer value. The <a href="#robo34">LINK</a> allows to connect the <a href="#robo34">NODE</a>.
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   first key, value returned by <strong>dtree</strong> is the root <a href="#robo34">NODE</a>, and ('', 0)
</p>
<p class="item_name">HISTORY</p>
<ul><li>   new in 1.3.7 (160706)
</li>
<li>   reviewed 1.7.6 (170620): use <a href="#robo59">attrkeyword</a>() for IN and FN
</li>
<li>   reviewed 1.8.2 (171103): added <strong>Graph</strong>.<strong>dtree</strong>
</li>
<li>   reviewed 1.8.5 (171128): updated <strong>dtree</strong>, added <strong>Graph</strong>.<strong>adjnodes</strong>
</li>
<li>   reviewed 2.0.8 (200106): added revert, upstream, downstream
                              discard degenerated <a href="#robo18">Links</a> (same from and to <a href="#robo34">NODE</a>)
                              changed internal representation
</li>
</ul>
<p></p>
<a name="robo6"></a>
<a name="ganessa2esim26th2fCompatibility"></a>
<h1>7.  ganessa.sim&amp;th/Compatibility [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">PURPOSE</p>
<p>   The installation of pyganessa is compatible with several versions of Picwin32.dll
  (regular Piccolo / Picalor). Missing <a href="#robo16">functions</a> in older versions should NOT be called.
</p>
<p class="item_name">HISTORY</p>
<ul><li>    2014  -&gt; 141203 Piccolo5 -- release 2014
</li>
<li>   (2015a -&gt; 151217 Piccolo6 &amp; Picalor6 -- release 2015 (<a href="#robo27">Unstable</a>)) - discarded
</li>
<li>    2015  -&gt; 160121 Piccolo6 -- release 2015 sp1
</li>
<li>    2016  -&gt; 160419 Piccolo6 &amp; Picalor6 -- release 2016
</li>
<li>    2016a -&gt; 160930 Piccolo6 release 2016b (incomplete; compatible with 1.4.2)
</li>
<li>    2016b -&gt; 161216 Piccolo6 &amp; Picalor6 -- release 2016b (1.5.0 - 1.5.2)
</li>
<li>    2017  -&gt; 170627 Piccolo6 &amp; Picalor6 -- release 2017  (1.7.7 - 1.7.8)
</li>
<li>    2017b -&gt; 1709xx Piccolo6 &amp; Picalor6 -- release 2017b (1.8.0 - 1.9.6)
</li>
<li>    2018  -&gt; 180725 Piccolo6 &amp; Picalor6 -- release 2018  (1.9.7 - )
</li>
<li>    2020  -&gt; 200306 Piccolo6 &amp; Picalor6 -- release 2020  (2.1.1 - )
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   pyganessa is compatible with matching or newer versions of Ganessa_SIM/Ganessa_TH.dll only;
   except a <strong>Compatibility</strong> break on 170117.
</p>
<a name="robo7"></a>
<a name="ganessa2esim26th2fConstants"></a>
<h1>8.  ganessa.sim&amp;th/Constants [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   Several categories of <strong>Constants</strong> are available:
</p>
<ul><li>   <strong>Constants</strong> defining a type of element: see <a href="#robo34">BRANCH</a> or <a href="#robo34">LINK</a>, <a href="#robo34">NODE</a>, <a href="#robo34">RESERVOIR</a> or <a href="#robo34">TANK</a>
</li>
<li>   <strong>Constants</strong> defining a command module: <a href="#robo36">M</a>.COM or <a href="#robo36">M</a>.ROOT, <a href="#robo36">M</a>.GEN, <a href="#robo36">M</a>.SIM etc.
</li>
<li>   <strong>Constants</strong> defining a command within a module: <a href="#robo36">M</a>.SIM.EXEC
</li>
<li>   keywords
</li>
</ul>
<p></p>
<a name="robo34"></a>
<a name="Constants2fBRANCH"></a>
<h2>8.1.  Constants/BRANCH, LINK,<br />NODE, NOEUD,<br />TANK, RESERVOIR,<br />RSV [ Constants ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo7">Constants</a> ] [ Constants ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   Those <a href="#robo7">Constants</a> allow to <a href="#robo84">select</a> one of the three types of model <a href="#robo21">Elements</a>:
</p>
<ul><li>   <strong>LINK</strong> or <strong>BRANCH</strong>: <a href="#robo18">Branches</a> <a href="#robo21">Elements</a> such as pipes, pumps, valves
</li>
<li>   <strong>NODE</strong> or <strong>NOEUD</strong>
</li>
<li>   <strong>TANK</strong> or <strong>RESERVOIR</strong> or or <strong>RSV</strong>
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   <a href="#robo36">M</a>.LNK, <a href="#robo36">M</a>.NOD and <a href="#robo36">M</a>.<strong>RSV</strong> are object <a href="#robo7">Constants</a> for calling <strong>BRANCH</strong>, <strong>NODE</strong> and <strong>RESERVOIR</strong> modules
</p>
<a name="robo35"></a>
<a name="Constants2fDICT"></a>
<h2>8.2.  Constants/DICT [ Constants ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo7">Constants</a> ] [ Constants ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   The <strong>DICT</strong> class provide a dictionnary tree for keywords
</p>
<p class="item_name">SYNTAX</p>
<p>   <strong>DICT</strong>.SYMBOLIC_NAME
</p>
<p class="item_name">CONTENT</p>
<ul><li>   FULLPER: extended simulation (ENCHAINE in French)
</li>
<li>   EXPORT
</li>
<li>   INSTANT
</li>
</ul>
<p></p>
<a name="robo36"></a>
<a name="Constants2fM"></a>
<h2>8.3.  Constants/M, NONE [ Constants ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo7">Constants</a> ] [ Constants ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   The <strong>M</strong> class provide a dictionnary tree for modules. It provides a
   hierarchical naming of the commands by modules, for building
   language-independant commands using  <a href="#robo51">gencmd</a>, <a href="#robo51">gencmdw</a>, <a href="#robo51">_gencmdw</a> <a href="#robo16">functions</a>.
</p>
<p class="item_name">SYNTAX</p>
<p>   One of the following:
</p>
<ul><li>   <strong>M</strong>.MODULE_SYMBOLIC_NAME
</li>
<li>   <strong>M</strong>.MODULE_SYMBOLIC_NAME.COMMAND__SYMBOLIC_NAME or
</li>
<li>   <strong>M</strong>.MODULE_SYMBOLIC_NAME..<strong>NONE</strong> or <strong>M</strong>.<strong>NONE</strong> or <strong>M</strong>.VOID
</li>
</ul>
<p></p>
<p class="item_name">CONTENT</p>
<p>   The available MODULE_SYMBOLIC_NAME are:
</p>

<p>   ROOT: modules names: BRA, NOD, <a href="#robo34">RSV</a>, DYN, MOD, SIM, QUA, MES, LAB, FIR, INV, OPT.
   They can be used in three forms, as first argument for the <a href="#robo16">functions</a> above:
</p>
<ul><li>   <strong>M</strong>.ROOT.SIM or <strong>M</strong>.SIM.ROOT: equals the index of the module name
</li>
<li>   <strong>M</strong>.SIM: can be used in <a href="#robo51">gencmd</a> and <a href="#robo51">gencmdw</a> only as first argument
</li>
</ul>
<p>
   GEN: general <a href="#robo31">PURPOSE</a> commands:
</p>
<ul><li>   LOAD: load a binary file
</li>
<li>   OPEN and <a href="#robo78">close</a>: open and <a href="#robo78">close</a> an output file
</li>
<li>   <a href="#robo78">quit</a>: the <a href="#robo78">quit</a> command
</li>
<li>   READ: read a command language or data file
<br>example: <i>gencmd(M.GEN, M.GEN.OPEN, DICT.EXPORT, 'filename.txt')</i>
</li>
<li>   EXPORT, <a href="#robo63">save</a>: export or <a href="#robo83">save</a> to a (previously opened) file
</li>
<li>   IMPORT: import attributes for a type of element from a file
</li>
<li>   FIND: command for retrieving a given period or instant
</li>
<li>   MESSAGE: writes a message to the console
</li>
<li>   DEFPARAM, DEFVAR: define a positional parameter (%1 ... %9) or variable
</li>
<li>   UNIT: redefine units name and coef
</li>
<li>   EOF: the end-of-file command
</li>
</ul>
<p>   LNK: <a href="#robo34">LINK</a> commands and submodules, including <a href="#robo34">LINK</a> types (.PIPE .PUMP .NRV .PRV .PSV .FCV .TCV etc.)
</p>

<p>   NOD: <a href="#robo34">NODE</a> commands and submodules:
</p>
<ul><li>   CONS: demand acquisition submodule
</li>
<li>   COEF, AREA: demand coefficient by demand type and area
</li>
<li>   TOPO: topograpy submodule
</li>
</ul>
<p>   <a href="#robo34">RSV</a>: <a href="#robo34">RESERVOIR</a> command and submodules:
</p>
<ul><li>   CHAR: characteristics
</li>
<li>   LEVEL: initial level acquisition submodule
</li>
</ul>
<p>   MES: measurement commands:
</p>
<ul><li>   SMOOTH: allow to define the smoothing interval
</li>
</ul>
<p>   SIM: simulation commands:
</p>
<ul><li>   FILE: define a result file name
</li>
<li>   EXEC: runs the simulation
</li>
</ul>
<p>   QUA: Water quality module commands
</p>
<p class="item_name">REMARK</p>
<p>   The above codes are not exhaustive. Please refer to the script.
</p>
<a name="robo8"></a>
<a name="ganessa2esim26th2fFunctions"></a>
<h1>9.  ganessa.sim&amp;th/Functions [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   <strong>Functions</strong> available to ganessa.sim and ganessa.th
</p>
<a name="robo37"></a>
<a name="Functions2faddSHLtype"></a>
<h2>9.1.  Functions/addSHLtype, addSHL,<br />updateSHL, delSHL [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>addSHLtype</strong>: Add / modify a single head losses (SHL) from the SHL <a href="#robo25">Table</a>
</li>
<li>   <strong>addSHL</strong>, <strong>updateSHL</strong>, <strong>delSHL</strong>: Add / modify / delete single head losses (SHL)
     objects for a given pipe
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   istat = <strong>addSHLtype</strong>(shltype, values [, comment])
</li>
<li>   istat = <strong>addSHL</strong>(id, shltype, nb)
</li>
<li>   istat = <strong>updateSHL</strong>(id, shltype, nb)
</li>
<li>   istat = <strong>delSHL</strong>(id [, shltype])
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string shltype: type of shl to be added/modified
</li>
<li>   float values: direct and reverse SHL coefficients
</li>
<li>   string comment: long name of the SHL type
</li>
<li>   string id: id of pipe
</li>
<li>   int nb: number of SHL of type shltype to be added / updated with
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
 COMMENTS
   If shltype is not given or is '' for <strong>delSHL</strong> then all SHL are removed from pipe.
</p>
<p class="item_name">REMARK</p>
<ul><li>   these <a href="#robo16">functions</a> require version 2015/12 or higher of Piccolo/Ganessa dll
</li>
</ul>
<p></p>
<a name="robo38"></a>
<a name="Functions2fareas"></a>
<h2>9.2.  Functions/areas [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   return <strong>areas</strong> associated with <a href="#robo23">Nodes</a>/<a href="#robo18">Links</a>
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   area = <strong>areas</strong>(typelt, <a href="#robo68">attr</a>)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   int typelt: type of object (<a href="#robo34">NODE</a> or <a href="#robo34">LINK</a>)
</li>
<li>   str <a href="#robo68">attr</a> (optional): area attribute to be returned (ZN or ZP). Default to 'ZN'
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   counter area: dictionary of <a href="#robo34">NODE</a>/<a href="#robo34">LINK</a> counts by area
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) area are returned as unicode strings.
</p>
<a name="robo40"></a>
<a name="Functions2fcmd"></a>
<h2>9.3.  Functions/cmd, addcmdw,<br />execute, cmdfile [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   istat = <strong>cmd</strong>(scmd)
</li>
<li>   istat = <strong>cmdfile</strong>(fname [, args])
</li>
<li>   istat = <strong>addcmdw</strong>(scmd)
</li>
<li>   istat = <strong>execute</strong>(scmd1 [ ..., scmdn][, dbg= True])
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string scmd: command line to be executed
</li>
<li>   string fname: data/command file name to be read/executed
</li>
<li>   string args: optional argument(s) to the command file, as one single string
</li>
<li>   string scmd1: command line(s) to be executed ('\n' is handled as a command delimiter)
</li>
<li>   string scmdn: optional command lines(s) to be executed (same as scmd1)
</li>
<li>   boolean dbg: optional, makes commands to be echoed in the log file.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARKS</p>
<ul><li>   <strong>cmd</strong> executes the given command
</li>
<li>   <strong>cmdfile</strong> reads/executes the commands from the file.
</li>
<li>   <strong>addcmdw</strong> pushes the command onto the command stack.
</li>
<li>   <strong>execute</strong> pushes the given commands on the stack and executes them
</li>
</ul>
<p>
   If an error occurs while reading a file or nested files, the execution stops.
   If the useException mode is <a href="#robo63">set</a>, the error will raise a <a href="#robo91">GanessaError</a>
</p>
<p class="item_name">HISTORY</p>
<ul><li>   1.9.6 (180615): convert str to cp1252
</li>
<li>   2.1.5 (200915): extend <strong>cmdfile</strong> to allow <strong>cmdfile</strong>(file, arg1, arg2, ..)
</li>
</ul>
<p></p>
<a name="robo41"></a>
<a name="Functions2fcommit"></a>
<h2>9.4.  Functions/commit [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Executes all the commands available on the stack (first in, first executed)
</p>
<p class="item_name">SYNTAX</p>
<p>   istat = <strong>commit</strong>()
</p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARK</p>
<p>   If an error occurs, the remaining part of the stack is cleared
</p>
<a name="robo42"></a>
<a name="Functions2fcwfold"></a>
<h2>9.5.  Functions/cwfold [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   ret = <strong>cwfold</strong>(folder)
</p>
<p class="item_name">ARGUMENT</p>
<p>   str folder: folder name where journal (piccolo.jnl) and work files will be created
</p>
<p class="item_name">RESULT</p>
<p>   bool ret: True if folder <a href="#robo58">exists</a>; False otherwise
</p>
<p class="item_name">HISTORY</p>
<p>   introduced in 1.7.7 (170705)
   * 1.9.6 (180615): fix non-ascii folder str converted to cp1252
</p>
<a name="robo44"></a>
<a name="Functions2fdist2link"></a>
<h2>9.6.  Functions/dist2link [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the distance and curvilinear abcissae of a point from the given <a href="#robo34">LINK</a>
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   d, s1, s2 = <strong>dist2link</strong>(id, x, y)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string id: id of <a href="#robo34">LINK</a> element
</li>
<li>   double x, y: coordinates of the point
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   double d: distance of the point to the <a href="#robo34">LINK</a> polyline
</li>
<li>   double s1, s2: curvilinear distance of the projection from each extremity
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   introduced in 1.3.7 (160706)
</p>
<p class="item_name">REMARKS</p>
<ul><li>   <strong>dist2link</strong> requires version 2016b or higher of Piccolo/Ganessa dll;
     if not a pure python calculation is made using <a href="#robo70">linkXYZV</a>
</li>
<li>   the polyline length is s1 + s2;
     s1= 0 or s2= 0 when the point projection is outside the polyline
</li>
<li>   if the id does not <a href="#robo58">exists</a> the return value is (-1, -1, -1)
</li>
</ul>
<p></p>
<a name="robo46"></a>
<a name="Functions2fdll5fversion"></a>
<h2>9.7.  Functions/dll_version, full_version [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   yyyymmdd = <strong>dll_version</strong>()
</li>
<li>   text = <strong>full_version</strong>()
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int yymmdd = dll version()
</li>
<li>   str text = <strong>full_version</strong>()
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   <strong>dll_version</strong> introduced in 1.8.0 (170907)
</li>
<li>   <strong>full_version</strong> introduced in 1.8.6 (171201)
</li>
</ul>
<p></p>
<a name="robo48"></a>
<a name="Functions2fextrnodes"></a>
<h2>9.8.  Functions/extrnodes [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the from and to <a href="#robo34">NODE</a> (indexes) form <a href="#robo34">LINK</a> index
</p>
<p class="item_name">SYNTAX</p>
<p>   i_from, i_to = <strong>extrnodes</strong>(i_link)
</p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   int i_link: index of the <a href="#robo34">LINK</a>
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int i_from: index of from <a href="#robo34">NODE</a>
</li>
<li>   int i_to:   index of to <a href="#robo34">NODE</a>
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   Internal indexes start with 1
</li>
<li>   Internal index of an element may change after a simulation
     or a modification of the model.
</li>
</ul>
<p></p>
<a name="robo51"></a>
<a name="Functions2fgencmd"></a>
<h2>9.9.  Functions/gencmd, gencmdw,<br />raw_gencmdw, _gencmdw [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Those fuctions allow to generate a language independant command line
   based upon the keywords id of a module and its commands (see <a href="#robo36">M</a>).
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   istat =  <strong>gencmd</strong> (module, icmd, [word, scmd, extmode])
</li>
<li>   istat =  <strong>gencmdw</strong>(module, icmd, [word, scmd, extmode])
</li>
<li>   istat = <strong>_gencmdw</strong>(module, icmd, [word, scmd, extmode])
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   module: constant id for the module
</li>
<li>   icmd:   constant id for the command in the module (or <a href="#robo36">NONE</a>)
</li>
<li>   word:   constant id for a keyword (or <a href="#robo36">NONE</a>) (optional)
</li>
<li>   scmd:   additional string (optional)
</li>
<li>   extmode: if <a href="#robo63">set</a> to 1, the command is appended to the previous one (optional)
</li>
<li>   string scmd: command line to be executed
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARKS</p>
<ul><li>   <strong>gencmd</strong> builds and executes the given command
</li>
<li>   <strong>gencmdw</strong> and <strong>_gencmdw</strong> build the command and push it onto the command stack
</li>
<li>   <strong>gencmd</strong> and <strong>gencmdw</strong> allow a more flexible entry of the first 2 arguments
</li>
<li>   If the useException mode is <a href="#robo63">set</a>, an error will raise a <a href="#robo91">GanessaError</a>
</li>
<li>   <strong>raw_gencmdw</strong> is an exported version of <strong>_gencmdw</strong>
</li>
</ul>
<p></p>
<p class="item_name">EXAMPLES</p>
<p>   The following are equivalent:
</p>
<ul><li>   istat = <strong>_gencmdw</strong>(<a href="#robo36">M</a>.SIM.ROOT, <a href="#robo36">M</a>.SIM.EXEC, <a href="#robo35">DICT</a>.FULLPER)
</li>
<li>   istat = <strong>gencmdw</strong>(<a href="#robo36">M</a>.SIM, "EXEC", <a href="#robo35">DICT</a>.FULLPER)
</li>
</ul>
<p>   The following are equivalent:
</p>
<ul><li>   istat = <strong>_gencmdw</strong>(<a href="#robo36">M</a>.SIM.ROOT, <a href="#robo36">M</a>.SIM.EXEC, scmd="15:30")
</li>
<li>   istat = <strong>gencmdw</strong>(<a href="#robo36">M</a>.SIM, "EXEC", scmd="15:30")
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   1.8.0 (170908): added <strong>raw_gencmdw</strong>
</p>
<a name="robo54"></a>
<a name="Functions2fgetall"></a>
<h2>9.10.  Functions/getall [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>getall</strong> returns the value for all objects of the given type
     for all objects of the given type
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   vect = <strong>getall</strong>(typelt, <a href="#robo68">attr</a>)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   int typelt: type of element (<a href="#robo34">LINK</a>, <a href="#robo34">NODE</a>, <a href="#robo34">TANK</a>)
</li>
<li>   string <a href="#robo68">attr</a>: attribute (result) for which value is requested
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float[] vect: vector of values
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<p>   <strong>getall</strong>(typelt, <a href="#robo68">attr</a>): when typelt =1 (<a href="#robo18">Links</a>), <a href="#robo68">attr</a> can be either a regular attribute
   ('Q', 'V', 'D', etc.) or a <a href="#robo34">NODE</a>-based attribute such as 'P:<a href="#robo36">M</a>' for mean pressure,
   'P:G' for geometric mean, 'P:N' for min and 'p:X' for max.
</p>
<a name="robo55"></a>
<a name="Functions2fgetcodescount"></a>
<h2>9.11.  Functions/getcodescount, nextcode [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>getcodescount</strong>: returns count of used demand codes
</li>
<li>   <strong>nextcode</strong>: returns the list of used codes with <a href="#robo34">NODE</a> count
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   ncodes = <strong>getcodescount</strong>(used_only)
</li>
<li>   code, demand, count, nbchar  = <strong>nextcode</strong>()
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   bool used_only: if True, only codes associated with at least
     one <a href="#robo34">NODE</a> will be returned
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int ncodes: number of codes to be returned
</li>
<li>   str code: demand codes
</li>
<li>   float demand: total nominal demand for the code
</li>
<li>   int count: <a href="#robo34">NODE</a> count
</li>
<li>   int nbchar: nb of chars in the demand code string
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   these <a href="#robo16">functions</a> require version 2016 or higher of Piccolo/Ganessa dll
</li>
<li>   If the GanSim Dll is too old those function will not return data
</li>
<li>   See also the <a href="#robo20">Demands</a>(id) iterator
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) codes are returned as unicode strings.
</p>
<a name="robo56"></a>
<a name="Functions2fgetdemandbycode"></a>
<h2>9.12.  Functions/getdemandbycode, getcodedemandinit,<br />nextcodedemand [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>getdemandbycode</strong>: returns demand for a given <a href="#robo34">NODE</a> and consumer code by id
</li>
<li>   <strong>getcodedemandinit</strong>: initialises and returns the number of pairs
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   demand, istat = <strong>getdemandbycode</strong>(id, code)
</li>
<li>   nbpairs = <strong>getcodedemandinit</strong>(id)
</li>
<li>   code, demand, codelen = <strong>nextcodedemand</strong>()
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string id: id of <a href="#robo34">NODE</a>
</li>
<li>   string code: code for which demand value is requested
</li>
<li>   int nbpairs: number of demand, csm pairs for the <a href="#robo34">NODE</a>
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float demand: value of the demand (0 if not available)
</li>
<li>   int istat: return code (0= 0K -1= unknown code 1= unknown <a href="#robo34">NODE</a> 3= dll too old)
</li>
<li>   int nbpairs: number of code, demand pairs for the <a href="#robo34">NODE</a>
</li>
<li>   string code: demand code
</li>
<li>   int codelen: length of code string
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   these <a href="#robo16">functions</a> require version 2016 or higher of the Piccolo/Ganessa dll
</li>
<li>   If the GanSim Dll is too old those function will not return data
</li>
<li>   See also the <a href="#robo20">Demands</a>(id) iterator
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) codes are returned as unicode strings.
</p>
<a name="robo57"></a>
<a name="Functions2fgetid"></a>
<h2>9.13.  Functions/getid [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the id of an element by type and index
</p>
<p class="item_name">SYNTAX</p>
<p>   id = <strong>getid</strong>(typelt, numelt)
</p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   int typelt: type of element
</li>
<li>   int numelt: index of element
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   unicode string id: id of the element
</p>
<p class="item_name">REMARKS</p>
<ul><li>   Internal index starts with 1
</li>
<li>   Internal index of an element may change after a simulation or
     a modification of the model.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) ids are returned as unicode strings.
</p>
<a name="robo58"></a>
<a name="Functions2fgetindex"></a>
<h2>9.14.  Functions/getindex, exists [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   num = <strong>getindex</strong>(typelt, sid)
</li>
<li>   bret = <strong>exists</strong>(typelt, sid)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   int typelt: type of element
</li>
<li>   string sid: ID of element
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int num: index of element ID (starting at pos 1)
</li>
<li>   bool bret: indicates if the element <strong>exists</strong> in the model
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   <strong>getindex</strong> new in 1.3.3 but not working !
</li>
<li>   <strong>getindex</strong> fixed in 1.9.4 (180604)
</li>
<li>   <strong>exists</strong> created in 1.9.4 (180604)
</li>
</ul>
<p></p>
<a name="robo59"></a>
<a name="Functions2fgetkeyword"></a>
<h2>9.15.  Functions/getkeyword, modulekeyword,<br />attrkeyword [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   <a href="#robo63">get</a> keyword or command name by index  - for building
   command language independant <a href="#robo16">functions</a>
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   sret = <strong>getkeyword</strong>(code)
</li>
<li>   sret = <strong>modulekeyword</strong>(module, submodule)
</li>
<li>   sret = <strong>attrkeyword</strong>(<a href="#robo68">attr</a>)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   code: int code of the keyword (&gt;0) or global command (&lt;0)
</li>
<li>   module: int code of the module (&lt;0 for the submodule alone)
</li>
<li>   submodule: int code of the module (0 for the module alone)
</li>
<li>   <a href="#robo68">attr</a>: int code of the attribute
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   str sret: trimmed value of the keyword or global command or module submodule
</p>
<pre>         (null string if the code or module/submodule is not recognised)
</pre>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   <strong>getkeyword</strong> introduced in 1.4.2 (161010)
</li>
<li>   <strong>modulekeyword</strong> and <strong>attrkeyword</strong> intoduced in 1.7.3 (170313)
</li>
<li>   From version 1.9.0 (05/04/2018) results are returned as unicode strings.
</li>
</ul>
<p></p>
<a name="robo60"></a>
<a name="Functions2fgetvar"></a>
<h2>9.16.  Functions/getvar, getunitname,<br />getunitcoef [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the value of a Piccolo expression or variable
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   str_val = <strong>getvar</strong>(expression)
</li>
<li>   str_val = <strong>getunitname</strong>(<a href="#robo68">attr</a>)
</li>
<li>   coef = <strong>getunitcoef</strong>(<a href="#robo68">attr</a>)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string expression: the expression or variable to be returned
</li>
<li>   string <a href="#robo68">attr</a>: attribute
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   string str_val: a string containing the expected value
</li>
<li>   float coef: a float giving the unit coefficient / internal units
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   Unit coefficient of a given attribute can also be returned with
     the adequate <strong>getvar</strong>('unite.'+<a href="#robo68">attr</a>).
</li>
<li>   The unit coefficient is the number of internal units per user units:
     1 (user unit) = coef (internal unit).
</li>
</ul>
<p>   Internal units are SI units excepted:
</p>
<ul><li>   diameter and roughness:  mm
</li>
<li>   pressure: mwc
</li>
<li>   concentrations: mg/l (or ppm)
</li>
<li>   consumed mass (D1): g
</li>
</ul>
<p></p>
<p class="item_name">EXAMPLE</p>
<p>    If the user flow unit is 'l/s', since internal flow unit is 'm3/s',
    <strong>getunitcoef</strong>('Q') returns 0.001
</p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) info returned as unicode strings.
</p>
<a name="robo62"></a>
<a name="Functions2fimportEpanet"></a>
<h2>9.17.  Functions/importEpanet, exportEpanet [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   istat = <strong>importEpanet</strong>(fname)
</li>
<li>   istat = <strong>exportEpanet</strong>(fname)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<p>   string fname: file name to import from / export to (should be an .inp)
</p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARK</p>
<p>   At import, .inp file is first converted to a .inp_cvt.dat Piccolo file,
   then this file is read. Syntax error if any will refer to the converted .dat file.
</p>
<a name="robo64"></a>
<a name="Functions2finit"></a>
<h2>9.18.  Functions/init [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   <strong>init</strong>([folder])
</p>
<p class="item_name">ARGUMENT</p>
<p>   str folder: optional folder name where journal and work files will be created
</p>
<p class="item_name">DESCRIPTION</p>
<p>   Initialises the ganessa simulation/command language engine.
</p>
<p class="item_name">REMARKS</p>
<ul><li>   Starting with version 1.3.5, a session should be started by calling <strong>init</strong>() or <strong>init</strong>(folder).
     however for <a href="#robo6">Compatibility</a> with previous releases where <strong>init</strong> was called at import time,
     <strong>init</strong> is automatically called at 1st call of <a href="#robo40">cmd</a>, <a href="#robo40">cmdfile</a>, <a href="#robo40">execute</a>, load, <a href="#robo72">loadbin</a>
</li>
<li>   A session should be terminated by calling <a href="#robo78">quit</a>() or typing &lt;Ctrl&gt;+Z
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   introduced in 1.3.5
</li>
<li>   1.9.6 (180615): fix non-ascii folder str converted to cp1252
</li>
</ul>
<p></p>
<a name="robo68"></a>
<a name="Functions2flinkattr"></a>
<h2>9.19.  Functions/linkattr, nodeattr,<br />tankattr, linkattrs,<br />nodeattrs, tankattrs,<br />attr, attrs,<br />meanattr [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>linkattr</strong>, <strong>nodeattr</strong>, rsvattr, <strong>attr</strong>: return numerical attributes
     of a given element by id
</li>
<li>   <strong>linkattrs</strong>, <strong>nodeattrs</strong>, <strong>attrs</strong>: return text attributes of a
     given element by id
</li>
<li>   <strong>meanattr</strong>: return mean attribute of from and to <a href="#robo23">Nodes</a> given by <a href="#robo34">BRANCH</a> id
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   val = <strong>linkattr</strong>(id, <strong>attr</strong>)
</li>
<li>   val = <strong>nodeattr</strong>(id, <strong>attr</strong>)
</li>
<li>   val = <strong>tankattr</strong>(id, <strong>attr</strong>)
</li>
<li>   txt = <strong>linkattrs</strong>(id, <strong>attr</strong>)
</li>
<li>   txt = <strong>nodeattrs</strong>(id, <strong>attr</strong>)
</li>
<li>   txt = <strong>tankattrs</strong>(id, <strong>attr</strong>)
</li>
<li>   val = <strong>attr</strong>[typelt](id, <strong>attr</strong>)
</li>
<li>   btxt, sz = <strong>attrs</strong>(typelt, id, <strong>attr</strong>)
</li>
<li>   val = <strong>meanattr</strong>(id, <strong>attr</strong>)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string id: id of element
</li>
<li>   string <strong>attr</strong>: attribute (data or result) for which value is requested
</li>
<li>   int typelt: type of element
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float val: value of the numerical attribute (0. if not available)
</li>
<li>   string txt: value of the text attribute (empty string '' if
     undefined or not available)
</li>
<li>   byte btxt: value of the text attribute, as a byte (python3) or str(python2)
</li>
<li>   int sz: length of the returned string
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   Numerical attributes are returned converted in the actual unit system.
</li>
<li>   <a href="#robo34">RESERVOIR</a> text attributes are identical to the underlying <a href="#robo34">NODE</a> id
</li>
<li>   <strong>meanattr</strong> requires version 2016 or higher of Piccolo/Ganessa dll
</li>
<li>   branchattr, rsvattr and branchattrs are synonyms for <strong>linkattr</strong>, <strong>tankattr</strong> and <strong>linkattrs</strong>
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) ids and attributes are returned as unicode strings.
</p>
<a name="robo69"></a>
<a name="Functions2flinkbbox"></a>
<h2>9.20.  Functions/linkbbox [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the <a href="#robo34">LINK</a> bounding box
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   xmin, xmax, ymin, ymax, num = <strong>linkbbox</strong>(id)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string id: id of element
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int num: <a href="#robo34">LINK</a> internal number (0 if not found)
</li>
<li>   double xmin, xmax, ymin, ymax: bounding box
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   Created in 1.8.5 (171128)
</p>
<a name="robo70"></a>
<a name="Functions2flinkXYZV"></a>
<h2>9.21.  Functions/linkXYZV, branchXYZV [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the XYZ polyline representing a <a href="#robo34">LINK</a>, and eventually
   an additional <a href="#robo34">NODE</a> attribute
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   vec_x, vec_y, vec_z, vec_v, len = <strong>linkXYZV</strong>(id, [<a href="#robo68">attr</a>], [include_depth])
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string id: id of element
</li>
<li>   string <a href="#robo68">attr</a>: optional attribute for which value is requested
</li>
<li>   bool include_depth: optional attribute, defaults to False
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int len: number of points for the polyline
</li>
<li>   double[] vec_x, vec_y: vector of coordinates
</li>
<li>   float[] vec_z: vector of interpolated elevations (minus depth if include_depth= True)
</li>
<li>   float[] vec_v: vector of interpolated attribute
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   optional argument include_depth introduced in 1.4.2 (160908)
</p>
<p class="item_name">REMARKS</p>
<ul><li>   Z and V are interpolated from initial and final <a href="#robo23">Nodes</a>
</li>
<li>   if attribute is missing or not recognised vec_v is null.
</li>
<li>   if the <a href="#robo34">LINK</a> has no vertice, len=2 and the function returns values
     from ending <a href="#robo23">Nodes</a>
</li>
<li>   if the id does not <a href="#robo58">exists</a> the return value is (<a href="#robo36">NONE</a>, <a href="#robo36">NONE</a>, <a href="#robo36">NONE</a>, <a href="#robo36">NONE</a>, 0)
</li>
<li>   <strong>branchXYZV</strong> is a synonym of <strong>linkXYZV</strong>.
</li>
</ul>
<p></p>
<a name="robo72"></a>
<a name="Functions2floadbin"></a>
<h2>9.22.  Functions/loadbin [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Clears (removes) all model objects and loads a binary file
</p>
<p class="item_name">SYNTAX</p>
<p>   istat = <strong>loadbin</strong>(fname)
</p>
<p class="item_name">ARGUMENT</p>
<p>   string fname: binary data/result file name to be loaded
</p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARKS</p>
<ul><li>   The current model is discarded before the new one is loaded.
</li>
<li>   If the file content is not a Piccolo binary file an error occurs.
</li>
<li>   Binary result files also contain all data describing the model.
</li>
<li>   The filename is quoted if necessary
</li>
</ul>
<p></p>
<a name="robo73"></a>
<a name="Functions2floadres"></a>
<h2>9.23.  Functions/loadres [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Loads the default binary result file.
</p>
<p class="item_name">SYNTAX</p>
<p>   istat = <strong>loadres</strong>()
</p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARK</p>
<p>   The current model is discarded before the data corresponding to
   the last simulation making use of the default result file is loaded.
</p>
<a name="robo74"></a>
<a name="Functions2fnbobjects"></a>
<h2>9.24.  Functions/nbobjects [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the number of model <a href="#robo21">Elements</a> in the given type
</p>
<p class="item_name">SYNTAX</p>
<p>   nb = <strong>nbobjects</strong>(typelt)
</p>
<p class="item_name">ARGUMENT</p>
<p>   int typelt: type of element (<a href="#robo34">LINK</a>, <a href="#robo34">NODE</a>, <a href="#robo34">TANK</a>)
</p>
<p class="item_name">RESULT</p>
<p>   int nb: number of element in that type
</p>
<a name="robo75"></a>
<a name="Functions2fnbvertices"></a>
<h2>9.25.  Functions/nbvertices [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the number of <a href="#robo18">Links</a> with vertices (bends)
</p>
<p class="item_name">SYNTAX</p>
<p>   nb = <strong>nbvertices</strong>()
</p>
<p class="item_name">RESULT</p>
<p>   int nb: number of <a href="#robo18">Links</a> with vertices
</p>
<a name="robo76"></a>
<a name="Functions2fnlinkattr"></a>
<h2>9.26.  Functions/nlinkattr, nnodeattr,<br />ntankattr, nlinkattrs,<br />nnodeattrs, ntankattrs,<br />nattr, nattrs [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>nlinkattr</strong>, <strong>nnodeattr</strong>, nrsvattr, <strong>nattr</strong>: return numerical attributes
     of a given element by index
</li>
<li>   <strong>nlinkattrs</strong>, <strong>nnodeattrs</strong>, <strong>nattrs</strong>: return text attributes of a
     given element by index
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   val = <strong>nlinkattr</strong>(num, <a href="#robo68">attr</a>)
</li>
<li>   val = <strong>nnodeattr</strong>(num, <a href="#robo68">attr</a>)
</li>
<li>   val = <strong>ntankattr</strong>(num, <a href="#robo68">attr</a>)
</li>
<li>   txt = <strong>nlinkattrs</strong>(num, <a href="#robo68">attr</a>)
</li>
<li>   txt = <strong>nnodeattrs</strong>(num, <a href="#robo68">attr</a>)
</li>
<li>   txt = <strong>ntankattrs</strong>(num, <a href="#robo68">attr</a>)
</li>
<li>   val = <strong>nattr</strong>[typelt](num, <a href="#robo68">attr</a>)
</li>
<li>   btxt, sz = <strong>nattrs</strong>(typelt, num, <a href="#robo68">attr</a>)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string num: index of element (stating at 1)
</li>
<li>   string id_or_num: id or index of element
</li>
<li>   string <a href="#robo68">attr</a>: attribute (data or result) for which value is requested
</li>
<li>   int typelt: type of element
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float val: value of the numerical attribute (0. if not available)
</li>
<li>   string txt: value of the text attribute (empty string '' if
     undefined or not available)
</li>
<li>   int sz: length of the returned string
</li>
<li>   byte btxt: value of the text attribute, as a byte (python3) or str(python2)
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   Numerical attributes are returned converted in the actual unit system.
</li>
<li>   <a href="#robo34">TANK</a> text attributes are identical to the underlying <a href="#robo34">NODE</a> id
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) ids and attributes are returned as unicode strings.
</p>
<a name="robo77"></a>
<a name="Functions2fnodeXYZ"></a>
<h2>9.27.  Functions/nodeXYZ [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the XYZ coordinates and depth of a <a href="#robo34">NODE</a>
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   x, y, z, dz = <strong>nodeXYZ</strong>(id)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string id: id of element
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   double x, y: coordinates
</li>
<li>   float z, dz: elevation and depth
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   <strong>nodeXYZ</strong> requires version 2016 or higher of Piccolo/Ganessa dll
</li>
<li>   if the id does not <a href="#robo58">exists</a> the return value is (<a href="#robo36">NONE</a>, <a href="#robo36">NONE</a>, <a href="#robo36">NONE</a>, <a href="#robo36">NONE</a>)
</li>
<li>   In most cases dz is 0.0
</li>
</ul>
<p></p>
<a name="robo78"></a>
<a name="Functions2fquit"></a>
<h2>9.28.  Functions/quit, close [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   ret = <strong>quit</strong>([True])
</p>
<p class="item_name">ARGUMENT</p>
<p>   optional bool verbose: if <a href="#robo63">set</a> to True, a message is printed.
   Defaults to False.
</p>
<p class="item_name">RESULT</p>
<p>   text ret: text string telling that he module has been unloaded.
   Terminates the ganessa session and unloads the module ganessa.sim&amp;th
</p>
<p class="item_name">REMARKS</p>
<ul><li>   <strong>quit</strong>() is automatically called when quitting with &lt;Ctrl&gt;+Z
</li>
<li>   <strong>close</strong>() is a synonym for <strong>quit</strong>()
</li>
<li>   A session should be terminated by calling <strong>quit</strong>() or typing &lt;Ctrl&gt;+Z
</li>
<li>   sys.exit() automatically trigers <strong>quit</strong>()
</li>
</ul>
<p></p>
<a name="robo80"></a>
<a name="Functions2freset"></a>
<h2>9.29.  Functions/reset [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Clears (removes) all model objects
</p>
<p class="item_name">SYNTAX</p>
<p>   istat = <strong>reset</strong>()
</p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<a name="robo81"></a>
<a name="Functions2fresfile"></a>
<h2>9.30.  Functions/resfile [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the name of the default binary result file.
</p>
<p class="item_name">SYNTAX</p>
<p>   name = <strong>resfile</strong>()
</p>
<p class="item_name">RESULT</p>
<p>   str name: file name or '' if undefined
</p>
<p class="item_name">HISTORY</p>
<p>   Introduced in version 1.8.0 (170919)
</p>
<a name="robo83"></a>
<a name="Functions2fsave"></a>
<h2>9.31.  Functions/save, savemodel [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   istat = <strong>save</strong>(fname [, version])
</li>
<li>   istat = <strong>savemodel</strong>(fname [, version] [, extra_data])
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string fname: file name to <strong>save</strong> to
</li>
<li>   string version: optional version string "x.yz" for writing compatible file format,
     for text file only.
</li>
<li>   list extra_data: list of (selection, attribute_keyword) to be saved.
     Selection is a string describing a valid selection at <strong>save</strong> time; attribute_keyword
     is a string name of a valid ttribute for import, such as XX, YY, ZZ, K (<a href="#robo18">Links</a>), Z (<a href="#robo23">Nodes</a>).
     Multiple attributes can be provided separated by blanks.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARKS</p>
<ul><li>   '<strong>save</strong>' uses the same procedure as Piccolo MMI.
</li>
<li>   '<strong>savemodel</strong>' is pure python and produces the same hydraulic content;
     exotic options and cost data are not saved.
</li>
<li>   If filename ends with '.bin' then data is saved as binary. Otherwise data is
     saved as text (.dat mode) file.
</li>
<li>   If the useException mode is <a href="#robo63">set</a>, any error will raise <a href="#robo91">GanessaError</a> exception.
</li>
</ul>
<p></p>
<p class="item_name">EXAMPLE</p>
<p>   <strong>savemodel</strong>('myModel.dat', version='3.95', extra_data=[('<a href="#robo34">NOEUD</a>', 'YY ZZ')])
</p>
<p class="item_name">HISTORY</p>
<ul><li>   190617: added extra_data keyword parameter to <strong>savemodel</strong> (2.0.7)
</li>
</ul>
<p></p>
<a name="robo84"></a>
<a name="Functions2fselectlen"></a>
<h2>9.32.  Functions/selectlen, select [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>selectlen</strong> returns the number and type of model <a href="#robo21">Elements</a> in the given selection
</li>
<li>   <strong>select</strong>: returns the index vector, number and type of <a href="#robo21">Elements</a> in the selection
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   nb, typelt = <strong>selectlen</strong>(sname)
</li>
<li>   vect_idx, nb, typelt = <strong>select</strong>(sname)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<p>   string sname: name of selection
</p>
<p class="item_name">RESULT</p>
<ul><li>   int nb: number of element in that selection
</li>
<li>   int typelt: type of element of that selection
</li>
<li>   int vect_idx[]: index vector of <a href="#robo21">Elements</a> in the selection
</li>
</ul>
<p></p>
<a name="robo85"></a>
<a name="Functions2fsetbatchmode"></a>
<h2>9.33.  Functions/setbatchmode [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   oldmode = <strong>setbatchmode</strong>(mode)
</p>
<p class="item_name">ARGUMENT</p>
<p>   int mode: batch mode to activate
</p>
<p class="item_name">RESULT</p>
<p>   int oldmode: batch mode that was in effect
</p>
<p class="item_name">REMARK</p>
<p>   Defaults to 1 (True)
</p>
<a name="robo86"></a>
<a name="Functions2fsetlang"></a>
<h2>9.34.  Functions/setlang [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   oldlang = <strong>setlang</strong>(new_lang)
</p>
<p class="item_name">ARGUMENT</p>
<p>   str new_lang: one of 'English', 'French', 'Spanish'
</p>
<p class="item_name">RESULT</p>
<p>   str old_lang: previous language
</p>
<p class="item_name">DESCRIPTION</p>
<p>   Modifiy the current command language to new_lang (console version and macros only).
   If the language name is misspelled, it will be ignored withour raising an error.
</p>
<p class="item_name">HISTORY</p>
<p>   introduced in 1.8.0 (170912)
</p>
<a name="robo87"></a>
<a name="Functions2fsetlinkattr"></a>
<h2>9.35.  Functions/setlinkattr, setbranchattr,<br />setnodeattr [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   istat = <strong>setlinkattr</strong>(id, <a href="#robo68">attr</a>, val)
</li>
<li>   istat = <strong>setnodeattr</strong>(id, <a href="#robo68">attr</a>, val)
</li>
<li>   istat = <strong>setbranchattr</strong>(id, <a href="#robo68">attr</a>, val)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string id: id of element
</li>
<li>   string <a href="#robo68">attr</a>: attribute (data or result) to be <a href="#robo63">set</a> to val
</li>
<li>   float val: new value for <a href="#robo68">attr</a>
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status:
</p>
<ul><li>   0 if OK
</li>
<li>   1 if the attribute is not defined for the type of <a href="#robo34">LINK</a>/<a href="#robo34">NODE</a>
</li>
<li>   -1 if the attribute is not recognised
</li>
<li>   -2 if the <a href="#robo34">LINK</a>/<a href="#robo34">NODE</a> does not exist
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   <strong>setbranchattr</strong> requires version 2015/12 or higher of Piccolo/Ganessa dll
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   <strong>setlinkattr</strong> is a synonym that has been introduced as 22/09/2016
</li>
<li>   <strong>setnodeattr</strong> has been introduced on 22/06/2020 (2.1.3)
</li>
</ul>
<p></p>
<a name="robo88"></a>
<a name="Functions2fshearstr"></a>
<h2>9.36.  Functions/shearstr [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the shear stress associated with a velocity for the given pipe
</p>
<p class="item_name">SYNTAX</p>
<p>   val, grad = <strong>shearstr</strong>(id, v)
</p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string id: id of element
</li>
<li>   float v: velocity for which value is requested
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float val: value of the shear stress
</li>
<li>   float grad: value of ds/dv
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   val is not defined if id is not a pipe
</li>
<li>   requires Piccolo 2017
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   31.03.2017: function created (1.7.3)
</li>
</ul>
<p></p>
<a name="robo91"></a>
<a name="Functions2fuseExceptions"></a>
<h2>9.37.  Functions/useExceptions, GanessaError,<br />SimulationError [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   oldstat = <strong>useExceptions</strong>([status])
</li>
<li>   try: ... except <strong>GanessaError</strong>:
</li>
<li>   try: ... except <strong>SimulationError</strong> [as exc]:
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<p>   bool status: if True, errors will raise exceptions
</p>
<p class="item_name">RESULT</p>
<ul><li>   bool oldstat: previous error handling mode
</li>
<li>   exception exc: excetion object. The attribute exc.reason will provide
     additional information on the origin of error
</li>
</ul>
<p></p>
<p class="item_name">DESCRIPTION</p>
<p>   <strong>SimulationError</strong> is a derived class of <strong>GanessaError</strong>.
   The simulation error subtypes are the following:
</p>
<ul><li>   SIMERR.ISOL: Isolated <a href="#robo23">Nodes</a>
</li>
<li>   SIMERR.SLOW_CV: Slow convergence (convergence not obtained within max iteration count)
</li>
<li>   SIMERR.<a href="#robo27">Unstable</a>: Unstability (flip between 2 or more equilibrium points)
</li>
<li>   SIMERR.FCTAPP: Equipment(s) or storage(s) do not operate properly;
     they can be retrieved with the <a href="#robo27">Unstable</a>() iterator
</li>
<li>   SIMERR.DIVERGE: Divergence (convergence error increase)
</li>
<li>   SIMERR.DYNSTOP: The simulation did not complete
</li>
<li>   SIMERR.STRUCT: Structural inconsistency
</li>
<li>   SIMERR.MEMALLOC: Memory allocation error (WQ or inverse problem)
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   Defaults to False: errors do not raise '<strong>GanessaError</strong>' exceptions. If <a href="#robo63">set</a> to True,
   errors raise exceptions with a string name giving the error message and a int reason
   giving the type of exception.
</p>
<p class="item_name">HISTORY</p>
<ul><li>   190715: added SIMERR.DYNSTOP
</li>
</ul>
<p></p>
<a name="robo93"></a>
<a name="Functions2fwqtracevectsize"></a>
<h2>9.38.  Functions/wqtracevectsize [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo8">Functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>wqtracevectsize</strong> returns the max count of water quality concentrations allowed,
     including chlorine (C1).
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   n = <strong>wqtracevectsize</strong>()
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int n: max count
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   One may expect a return value of either 9 (C1 .. C9)
   or 45 (C1 .. C9 + $0 .. $9 + $A .. $Z).
</p>
<p class="item_name">HISTORY</p>
<p>   introduced 2.0.0 (180820)
</p>
<a name="robo9"></a>
<a name="ganessa2esim26th2fIterators"></a>
<h1>10.  ganessa.sim&amp;th/Iterators [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   <strong>Iterators</strong> available to ganessa.sim and ganessa.th
</p>
<a name="robo18"></a>
<a name="Iterators2fBranches"></a>
<h2>10.1.  Iterators/Branches, Links [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   for id in <strong>Branches</strong>():
</li>
<li>   for id in <strong>Links</strong>():
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   string id: returns each <a href="#robo34">BRANCH</a> id in turn
</p>
<p class="item_name">REMARK</p>
<p>   <strong>Branches</strong> and <strong>Links</strong> are synonyms
</p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) ids are returned as unicode strings.
</p>
<a name="robo19"></a>
<a name="Iterators2fDemandCodes"></a>
<h2>10.2.  Iterators/DemandCodes [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<p>   for code, demand, nodecount in <strong>DemandCodes</strong>():
</p>
<p class="item_name">RESULT</p>
<p>   Returns each demand code and <a href="#robo34">NODE</a> count in turn:
</p>
<ul><li>   string code: demand code
</li>
<li>   float demand: total demand value for the code
</li>
<li>   int count: <a href="#robo34">NODE</a> count associated with the code
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<ul><li>   <strong>DemandCodes</strong> requires version 2016 or higher of Piccolo/Ganessa dll
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   Added 11/09/2015
</p>
<a name="robo20"></a>
<a name="Iterators2fDemands"></a>
<h2>10.3.  Iterators/Demands [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<p>   for code, csm in <strong>Demands</strong>(node_id):
</p>
<p class="item_name">ARGUMENT</p>
<p>   string node_id: id of <a href="#robo34">NODE</a>
</p>
<p class="item_name">RESULT</p>
<p>   Returns each demand code and nominal value for the <a href="#robo34">NODE</a> in turn:
</p>
<ul><li>   string code: demand code
</li>
<li>   float csm: demand value for this code
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<ul><li>   requires version 2016 or higher of Piccolo/Ganessa dll
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) codes are returned as unicode strings.
</p>
<a name="robo21"></a>
<a name="Iterators2fElements"></a>
<h2>10.4.  Iterators/Elements [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<p>   for id in <strong>Elements</strong>(typelt):
</p>
<p class="item_name">ARGUMENT</p>
<p>   int typelt: type element <a href="#robo7">Constants</a> <a href="#robo34">LINK</a>, <a href="#robo34">NODE</a>, <a href="#robo34">TANK</a>
</p>
<p class="item_name">RESULT</p>
<p>   string id: id of each element of the given type in turn
</p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (2018/04/05) ids are returned as unicode strings.
   From version 2.0.3 (2018/12/03) len <a href="#robo6">Compatibility</a> with python3
</p>
<a name="robo23"></a>
<a name="Iterators2fNodes"></a>
<h2>10.5.  Iterators/Nodes [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<p>   for id in <strong>Nodes</strong>():
</p>
<p class="item_name">RESULT</p>
<p>   Returns each <a href="#robo34">NODE</a> id in turn
</p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) ids are returned as unicode strings.
</p>
<a name="robo24"></a>
<a name="Iterators2fSelected"></a>
<h2>10.6.  Iterators/Selected [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<p>   for id, typelt in <strong>Selected</strong>(sname [, return_type=True]):
</p>
<p class="item_name">ARGUMENT</p>
<p>   string sname: name of a selection
   bool return_type: if False, the type is not returned (default True)
</p>
<p class="item_name">RESULT</p>
<p>   Returns the id [and type] of each element in the selection in turn:
</p>
<ul><li>   string id: id of the next element in the selection
</li>
<li>   int type: element type (the same for all ids), if return_type is True
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   2.0.3 (2018/12/03) len <a href="#robo6">Compatibility</a> with python3
</li>
<li>   2.1.1 (2020/03/20) add return_type optional keyword argument
</li>
</ul>
<p></p>
<a name="robo25"></a>
<a name="Iterators2fTable"></a>
<h2>10.7.  Iterators/Table [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<p>   for item, objcount in <strong>Table</strong>(<strong>Table</strong>, typelt):
</p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string <strong>Table</strong>: requested <strong>Table</strong> (2 char symbol or <strong>Table</strong> name)
</li>
<li>   int typelt: type of element (<a href="#robo34">LINK</a> or <a href="#robo34">NODE</a>), if <strong>Table</strong> is ZN or ZP.
     Defaults to <a href="#robo34">LINK</a>.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   Returns each <strong>Table</strong> entry and associated object count in turn:
</p>
<ul><li>   string item: <strong>Table</strong> entry
</li>
<li>   int objcount: <a href="#robo34">NODE</a> count associated with the code
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<ul><li>   <strong>Table</strong> requires version 2015/12 or higher of Piccolo/Ganessa dll
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) items are returned as unicode strings.
</p>
<a name="robo26"></a>
<a name="Iterators2fTanks"></a>
<h2>10.8.  Iterators/Tanks, Reservoirs [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   for id in <strong>Tanks</strong>():
</li>
<li>   for id in <strong>Reservoirs</strong>():
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   string id: returns each <a href="#robo34">RESERVOIR</a> id in turn
</p>
<p class="item_name">HISTORY</p>
<p>   From version 1.9.0 (05/04/2018) ids are returned as unicode strings.
</p>
<a name="robo27"></a>
<a name="Iterators2fUnstable"></a>
<h2>10.9.  Iterators/Unstable [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">PURPOSE</p>
<p>   Provide access to the list of <a href="#robo21">Elements</a> which status cannot be determined
   thus causing a simulation not converge.
</p>
<p class="item_name">SYNTAX</p>
<p>   for item, typelt in <strong>Unstable</strong>():
</p>
<p class="item_name">ARGUMENTS</p>
<p>   <a href="#robo36">NONE</a>
</p>
<p class="item_name">RESULT</p>
<p>   Returns each <strong>Unstable</strong> element in turn:
</p>
<ul><li>   string item: element ID
</li>
<li>   int typelt: element type
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<ul><li>   <strong>Unstable</strong> requires version 2016 (160118) or higher of Piccolo/Ganessa dll
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   new in 1.3.2
</li>
<li>   From version 1.9.0 (05/04/2018) items are returned as unicode strings.
</li>
</ul>
<p></p>
<a name="robo28"></a>
<a name="Iterators2fWQSources"></a>
<h2>10.10.  Iterators/WQSources [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo9">Iterators</a> ] [ Iterator ]</p>
<p class="item_name">PURPOSE</p>
<p>   Provide access to the sequence of source items
</p>
<p class="item_name">SYNTAX</p>
<p>   for <a href="#robo34">NODE</a>, code, <a href="#robo68">attr</a>, tvec, cvec, nvec in <strong>WQSources</strong>(<a href="#robo34">NODE</a>=<a href="#robo36">NONE</a>):
</p>
<p class="item_name">ARGUMENTS</p>
<p>   string <a href="#robo34">NODE</a>: specific <a href="#robo34">NODE</a> to look for, or '' for all <a href="#robo23">Nodes</a>.
</p>
<p class="item_name">RESULT</p>
<p>   Returns each source boundary condition in turn:
</p>
<ul><li>   string <a href="#robo34">NODE</a>: <a href="#robo34">NODE</a> ID
</li>
<li>   string code: code associated to the source (or '' if forcing)
</li>
<li>   string <a href="#robo68">attr</a>: WQ attribute (T, C0 ... C9, $0 ... $9, $A ...$ Z)
</li>
<li>   float tvec[], cvec[]: time and quantity vector (time serie)
</li>
<li>   int nvec : TS size
</li>
</ul>
<p>   If <a href="#robo34">NODE</a> is given (non blank string):
</p>
<ul><li>   if it <a href="#robo58">exists</a>, data will be returned for this <a href="#robo34">NODE</a> only
</li>
<li>   if the <a href="#robo34">NODE</a> does not <a href="#robo58">exists</a>, the return sequence is empty
</li>
</ul>
<p>   If the <a href="#robo34">NODE</a> is not given, all WQ data will be returned
</p>
<p class="item_name">REMARK</p>
<ul><li>   <strong>WQSources</strong> requires version 2020 (200306) or higher of Piccolo/Ganessa dll
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   new in 2.1.1
</li>
</ul>
<p></p>
<a name="robo10"></a>
<a name="ganessa2esim2fsFunctions"></a>
<h1>11.  ganessa.sim/sFunctions [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   <a href="#robo8">Functions</a> available to ganessa.sim ONLY.
</p>
<a name="robo99"></a>
<a name="sFunctions2fbrowseH"></a>
<h2>11.1.  sFunctions/browseH, browseWQ [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Retrieves and interpolate results from a given time step or instant:
</p>
<ul><li>   <strong>browseH</strong> retrieves hydraulic results
</li>
<li>   <strong>browseWQ</strong> retrieves hydraulic
<b>and</b> water quality results
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   istat = <strong>browseH</strong>(time_step)
</li>
<li>   istat = <strong>browseH</strong>(instant)
</li>
<li>   istat = <strong>browseWQ</strong>(time_step)
</li>
<li>   istat = <strong>browseWQ</strong>(instant)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   int time_step: time step to load (seconds)
</li>
<li>   string instant: instant to load, in the form hh:mm:ss
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARKS</p>
<p>   For hydraulic results, two <a href="#robo63">set</a> of results may be available at a given instant:
</p>
<ul><li>   at boudary of time steps, except beginning and end of the simulation,
     results ending the previous time step and results starting the next time step.
</li>
<li>   at internal time steps when a state transition occured (pump start/stop etc.).
</li>
</ul>
<p>   In such a situation the results are those from the end of the previous interval.
</p>
<a name="robo100"></a>
<a name="sFunctions2fdefcalind"></a>
<h2>11.2.  sFunctions/defcalind, getcalind [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Compute and return calibration indicators
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   <strong>defcalind</strong>(br_threshold, no_threshold, rsv_threshold)
</li>
<li>   val, ival = <strong>getcalind</strong>(typelt, numelt)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   br_*** : thresholds for computing indicators
</li>
<li>   int typelt: type of element
</li>
<li>   string id: id of element
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   val:  percentage of values below threshold
   ival: indicator rank, from 1 (best) to 4 (worse) (-1 if not defined)
</p>
<p class="item_name">REMARK</p>
<p>   <strong>defcalind</strong> actually compute all indicators; <strong>getcalind</strong> returns them.
</p>
<a name="robo101"></a>
<a name="sFunctions2ffull5fsolveH"></a>
<h2>11.3.  sFunctions/full_solveH [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Runs the full simulation and loads the result file for browsing results
</p>
<p class="item_name">SYNTAX</p>
<p>   istat = <strong>full_solveH</strong>([resultfile] [, silent] [, iverb] [, retry])
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   string resultfile: if provided, the results will be written in the file
     instead of the default 'result.bin'. If the file <a href="#robo58">exists</a> it will be superseded.
     If not it will be created.
</li>
<li>   bool silent: if <a href="#robo63">set</a> to True, simulation runs without any output.
     Optional - if False or not <a href="#robo63">set</a>, leaves 'iverb' unchanged.
</li>
<li>   integer iverb: if provided, controls the amount of output during simulation
     (SIM IVERB parameter). The defaults is -1.
</li>
<li>   bool retry: if <a href="#robo63">set</a> to True, the simulation is <a href="#robo32">run</a> again if it fails
     because of isolated <a href="#robo23">Nodes</a>. Optional -  defaults to False
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">REMARKS</p>
<ul><li>   Unless explicitely disabled, results are saved to a binary file,
     which defaults to the file 'result.bin' in the ganessa work directory.
</li>
<li>   Binary result files also contain all data describing the model.
</li>
<li>   silent=True overrides iverb setting if provided.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   optional argument 'retry' added in 1.5.1
</li>
<li>   improved error check in 2.0.7 (19/08/19)
</li>
</ul>
<p></p>
<a name="robo102"></a>
<a name="sFunctions2fgetallminmax"></a>
<h2>11.4.  sFunctions/getallminmax [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>getallminmax</strong> returns the min, max, average and mindate, maxdate
     for all objects of the given type
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   vec_min, vec_max, vec_avg, vec_tmin, vec_tmax = <strong>getallminmax</strong>(typelt, <a href="#robo68">attr</a>)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   int typelt: type of element (<a href="#robo34">LINK</a>, <a href="#robo34">NODE</a>, <a href="#robo34">TANK</a>)
</li>
<li>   string <a href="#robo68">attr</a>: attribute (result) for which value is requested
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float[] vec_min, vec_max, vec_avg: min, max and avg values for all <a href="#robo21">Elements</a>
</li>
<li>   float[] vec_tmin, vec_tmax: vector of instants where the min, max value is reached
</li>
</ul>
<p></p>
<a name="robo103"></a>
<a name="sFunctions2fhstepcount"></a>
<h2>11.5.  sFunctions/hstepcount, tslen,<br />mslen, tsval,<br />msval, tsvalbymts,<br />tsinterv, wqtslen,<br />refdate [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>hstepcount</strong>: returns the number of user time steps
</li>
<li>   <strong>tslen</strong>, <strong>mslen</strong>: return number of <a href="#robo21">Elements</a> in the time serie
</li>
<li>   <strong>tsval</strong>, <strong>msval</strong>: return the time series of results and measurements
</li>
<li>   <strong>tsvalbymts</strong>: return the time series of results at measurement time steps
     for a given element type, id and attribute
</li>
<li>   <strong>refdate</strong>: return date corresponding to the beginning of simulation
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   hsc = <strong>hstepcount</strong>()
</li>
<li>   len = <strong>tslen</strong>()
</li>
<li>   len = <strong>mslen</strong>(typelt, id, <a href="#robo68">attr</a>)
</li>
<li>   vec_tim, vec_val, len = <strong>tsval</strong>(typelt, id, <a href="#robo68">attr</a>, [interval])
</li>
<li>   vec_tim, vec_mes, len = <strong>msval</strong>(typelt, id, <a href="#robo68">attr</a>, [interval])
</li>
<li>   vec_tim, vec_val, len = <strong>tsvalbymts</strong>(typelt, id, <a href="#robo68">attr</a>)
</li>
<li>   tmin, tmax, len = <strong>tsinterv</strong>()
</li>
<li>   len, tmax = <strong>wqtslen</strong>(typelt)
</li>
<li>   sdate = <strong>refdate</strong>()
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   int typelt: type of element
</li>
<li>   string id: id of element
</li>
<li>   string <a href="#robo68">attr</a>: attribute (data or result) for which value is requested
</li>
<li>   float interval (optional): if present, requests the time serie
     at given fixed interval in seconds
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int hsc: number of user time steps
</li>
<li>   int len: number of values for the time serie
</li>
<li>   float[] vec_tim: vector of instants in seconds
</li>
<li>   float[] vec_val: vector of simulated results at the instants vec_tim
</li>
<li>   float[] vec_mes: vector of measurements at the instants vec_tim
</li>
<li>   float tmin and tmax: first (vec_tim[0]) and last (vec_tim[-1])
     instants available in the result time series
</li>
<li>   string sdate: date time at beginning of the simulation (iso format)
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   The time vector is identical for simulation results of all <a href="#robo21">Elements</a> of all types ,
     and can be much larger than the number of (user) time steps
</li>
<li>   two consecutive instants in the time vector for simulation results may
     be identical at time step boundaries, change status instants etc.
</li>
<li>   Each element may have a different measurement time vector form the others
</li>
<li>   Measurements time series may have different begin and end dates from results
</li>
<li>   Add 'sdate' in order to <a href="#robo63">get</a> absolute date time
</li>
<li>   <strong>hstepcount</strong> requires version 2016 or higher of Piccolo/Ganessa dll
</li>
</ul>
<p> HISTOTY
  12/12/2016 (1.5.1): bug fix when no simulation result available
  15/03/2020 (2.1.1): added <strong>wqtslen</strong>; fix <strong>tsval</strong> for WQ ts
</p>
<a name="robo104"></a>
<a name="sFunctions2finv5fsummary"></a>
<h2>11.6.  sFunctions/inv_summary [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   iter, iter100, fobjmin, fobj100, fobj0, flambda = <strong>inv_summary</strong>()
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<p>   <a href="#robo36">NONE</a>
</p>
<p class="item_name">RESULT</p>
<ul><li>   int iter: number of iterations
</li>
<li>   int iter100: number of iterations required to <a href="#robo63">get</a> 1.01 * min
</li>
<li>   float fobjmin: minimum value of misfit function
</li>
<li>   float fobj100: misfit function at iteration iter100
</li>
<li>   float fobj0: misfit function before fitting
</li>
<li>   float flambda: Levenberg-Marquardt multiplier
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<ul><li>   <strong>inv_summary</strong> requires version 2016 (160309) or higher of Piccolo/Ganessa dll
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   new in 1.3.4
</p>
<a name="robo105"></a>
<a name="sFunctions2fmsmooth"></a>
<h2>11.7.  sFunctions/msmooth [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Defines the smoothing time width for time series of measurements
</p>
<p class="item_name">SYNTAX</p>
<p>   <strong>msmooth</strong>(twidth)
</p>
<p class="item_name">ARGUMENTS</p>
<p>   twidth: characteristic time window for smoothing, in seconds
</p>
<p class="item_name">REMARKS</p>
<ul><li>   The smoothing algorithm is a convolution with exp(-(t/twidth)^2).
</li>
<li>   Best results are expected when twidth is in the order of magnitude
     or larger than the sampling interval.
</li>
<li>   call <strong>msmooth</strong>(0.0) in order to cancel smoothing.
</li>
</ul>
<p></p>
<a name="robo106"></a>
<a name="sFunctions2fsetWQresultfile"></a>
<h2>11.8.  sFunctions/setWQresultfile [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Defines the binary result file(s) for WQ simulation.
</p>
<p class="item_name">SYNTAX</p>
<p>   <strong>setWQresultfile</strong>([fnode] , [flink])
</p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   str fnode: name of the <a href="#robo34">NODE</a> WQ result file
</li>
<li>   str flink: name of the <a href="#robo34">LINK</a> WQ result file (optional)
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<ul><li>   if fnode is omitted, either use <a href="#robo36">NONE</a> or flink=filename
</li>
<li>   this command can be used either before running the simulation, for writing
     the file(s), or afterwards, in order to choose which result file(s) to browse.
</li>
</ul>
<p></p>
<a name="robo107"></a>
<a name="sFunctions2fsolveH"></a>
<h2>11.9.  sFunctions/solveH [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Runs the simulation at a given instant
</p>
<p class="item_name">SYNTAX</p>
<p>   istat = <strong>solveH</strong>(time [, retry])
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   int or str time: instant to <a href="#robo32">run</a> the simulation - default to 0.
     if int: time in seconds; if str: time in the format hh:mm[:ss]
</li>
<li>   bool silent: if <a href="#robo63">set</a> to True, simulation runs without any output.
     Optional - if False or not <a href="#robo63">set</a>, leaves 'iverb' unchanged.
</li>
<li>   integer iverb: if provided, controls the amount of output during simulation
     (SIM IVERB parameter). If not <a href="#robo63">set</a>, leaves 'iverb' unchanged.
</li>
<li>   bool retry: if <a href="#robo63">set</a> to True, the simulation is <a href="#robo32">run</a> again if it fails
     because of isolated <a href="#robo23">Nodes</a>. Optional -  defaults to False
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">HISTORY</p>
<ul><li>   added 2017.05.15 - version 1.7.5
</li>
<li>   changed 2019.04.23 - version 2.0.6 - added a third retry
</li>
<li>   changed 2019.08.19 - version 2.0.7 - improved error check
</li>
</ul>
<p></p>
<a name="robo108"></a>
<a name="sFunctions2fstat5fquantiles"></a>
<h2>11.10.  sFunctions/stat_quantiles, stat_duration [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   <strong>stat_quantiles</strong> and <strong>stat_duration</strong> returns stat info associated with result TS
   of a given attribute for all <a href="#robo21">Elements</a> in a selection.
   raw_stat_quantiles and raw_stat_duration are pass_thru versions where
   the selection is provided as its type, buffer and length
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   quantiles = <strong>stat_quantiles</strong>(sel, <a href="#robo68">attr</a>, qtl)
</li>
<li>   duration = <strong>stat_duration</strong>(sel, <a href="#robo68">attr</a>, sop, threshold)
</li>
<li>   quantiles = raw_stat_quantiles(typelt, <a href="#robo68">attr</a>, qtl, bufsel, nb)
</li>
<li>   duration = raw_stat_duration(typelt, <a href="#robo68">attr</a>, sop, threshold, bufsel, nb)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string sel: selection of <a href="#robo21">Elements</a> for which stats are expected
</li>
<li>   string <a href="#robo68">attr</a>: attribute over which the stat is computed
</li>
<li>   float iterable qtl: quantiles to be computed (0 &lt;= qtl[i] &lt;= 1)
</li>
<li>   string sop: comparison operator '&lt;' or '&gt;'
</li>
<li>   float threshold: comparison threshold (expressed in attribute unit)
</li>
<li>   int typelt: selection object type
</li>
<li>   int nb: selection count
</li>
<li>   int[] bufsel: selection vector of indices
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float[:,:] quantiles: 2-dim array of quantiles - shape (#sel, #qtl).
     quantiles[i] is the array of quantiles for the element in position i;
     quantiles[:, k] is the array of quantile qtl[k] for all <a href="#robo21">Elements</a>
</li>
<li>   float[:] duration: array of cumulated duration (att sop threshold) - shape (#sel, ).
</li>
</ul>
<p>   The <a href="#robo16">functions</a> return an empty list if the selection or qtl is empty .
</p>
<p class="item_name">EXAMPLE</p>
<ul><li>   cd = <strong>stat_duration</strong>('<a href="#robo34">BRANCH</a> (d &gt; 500) end', 'V', '&gt;', 0.7)
</li>
<li>   qtl = <strong>stat_quantiles</strong>('<a href="#robo34">BRANCH</a> (d &gt; 500) end', 'V', [0.5, 0.95, 1.0])
     will return median, 95% quantile and maximum for velocity.
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   Allowed attributes are:
</p>
<ul><li>   <a href="#robo18">Links</a>: flow (Q), velocity (V), head loss (PC / HL), gradient (GR)
</li>
<li>   <a href="#robo23">Nodes</a>: Head (HH / CH), pressure (P) and pipe pressure (PP)
</li>
<li>   <a href="#robo26">Tanks</a>: level (NC / CL), height (H), volume (CV / VC), volume percentage (V%),
     flow (Q), filling flow (IQ / QR), draught flow (OQ / QV),
</li>
<li>   all: water quality attributes T, C0 ... C9.
</li>
</ul>
<p>   See also: <a href="#robo102">getallminmax</a>, <a href="#robo30">getMinMax</a>, <a href="#robo29">Dynamic_Stats</a>
</p>
<p class="item_name">HISTORY</p>
<ul><li>   new in 1.5.0 (161124) - should be compatible with 2016b kernel.
</li>
<li>   1.8.0 (170908): added raw_stat_quantiles and raw_stat_duration
</li>
</ul>
<p></p>
<a name="robo109"></a>
<a name="sFunctions2ftsdemand"></a>
<h2>11.11.  sFunctions/tsdemand, tsdevice,<br />tsdemandlen, tsdevicelen [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo10">sFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<ul><li>   <strong>tsdemandlen</strong>: returns the number of values in the profile (demand code)
</li>
<li>   <strong>tsdevicelen</strong>: returns the number of values in the device state TS
</li>
<li>   <strong>tsdemand</strong>: return the profile time series (demand type)
</li>
<li>   <strong>tsdevice</strong>: return the device state time series(boundary conditions)
</li>
</ul>
<p></p>
<p class="item_name">SYNTAX</p>
<ul><li>   <a href="#robo103">tslen</a> = <strong>tsdemandlen</strong>(code [, zone])
</li>
<li>   vec_tim, vec_val, len, mode = <strong>tsdemand</strong>(code, [,zone])
</li>
<li>   <a href="#robo103">tslen</a> = <strong>tsdevicelen</strong>(sid[, <a href="#robo68">attr</a>])
</li>
<li>   vec_tim, vec_val, len, mode = <strong>tsdevice</strong>(sid [, <a href="#robo68">attr</a>] [, fixed_interval])
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   string code: demand type of element
</li>
<li>   string zone: area of element
</li>
<li>   string sid: device element ID
</li>
<li>   string <a href="#robo68">attr</a>: pump attribute (speed or number of units) or ''
</li>
<li>   float fixed_interval (optional): if present and &gt; 0, return values at the give time step
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   int <a href="#robo103">tslen</a>: number of values for the time serie (0 if <a href="#robo36">NONE</a>)
</li>
<li>   float[] vec_tim: vector of instants in seconds
</li>
<li>   float[] vec_val: vector of demand coefficients (not percentages) or settings
    (for pumps: 0= off, 1 or higher= open/active)
</li>
<li>   int mode: type of demand profile (&lt;0 as time series, &gt;0 based on time steps)
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   These <a href="#robo16">functions</a> require version 2016 or higher of Piccolo/Ganessa dll
</li>
<li>   Demand zones require version 2020b or higher
</li>
<li>   when the demand code or equipment does not exist or has no forcing TS associated,
     the value (<a href="#robo36">NONE</a>, <a href="#robo36">NONE</a>, 0, 0) is returned.
</li>
<li>   The demand coefficient for the demand type 'code' can be retrieved
     as float(<a href="#robo60">getvar</a>('coefficient:' + code))
</li>
<li>   A pump is shut off when the number of units running is 0, even if rotation speed is &gt; 0.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   25.01.2017: added 'fixed_interval' parameter to tsdevide; changed return value to float
</li>
<li>   22.09.2020: added the query of demand profile by zone
</li>
</ul>
<p></p>
<a name="robo11"></a>
<a name="ganessa2esim2fsIterators"></a>
<h1>12.  ganessa.sim/sIterators [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   <a href="#robo9">Iterators</a> available to ganessa.sim ONLY
</p>
<a name="robo29"></a>
<a name="sIterators2fDynamic5fStats"></a>
<h2>12.1.  sIterators/Dynamic_Stats [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo11">sIterators</a> ] [ Iterator ]</p>
<p class="item_name">PURPOSE</p>
<p>   Iterator which returns stat info associated with result TS
   of a given attribute for all <a href="#robo21">Elements</a> in a selection in turn.
</p>
<p class="item_name">SYNTAX</p>
<p>   for id, retval in <strong>Dynamic_Stats</strong>(sel, <a href="#robo68">attr</a> [, quantile= qtl] [, duration= (sop, threshold)]):
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   string sel: selection
</li>
<li>   string <a href="#robo68">attr</a>: attribute
</li>
<li>   float iterable qtl: quantiles to be computed (0 &lt;= qtl[i] &lt;= 1)
</li>
<li>   string sop: comparison operator '&lt;' or '&gt;'
</li>
<li>   float threshold: comparison threshold (expressed in attribute unit)
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   Returns the id and type of each element in the selection in turn:
</p>
<ul><li>   string id: id of the next element in the selection
</li>
<li>   retval: result of the requested stat.
</li>
</ul>
<p>   The return value depends on the input parameters:
</p>
<ul><li>   if duration= (sop, threshold) is present, returns the cumulated duration for which attribute (sop) threshold.
</li>
<li>   if not, if quantile= qtl is present, returns a numpy array of the quantiles for the element id.
</li>
<li>   without duration and quantile keywords, the return value is [minval, maxval, avg] over the result TS.
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   See also <a href="#robo102">getallminmax</a>, <a href="#robo108">stat_quantiles</a>, <a href="#robo108">stat_duration</a>, <a href="#robo30">getMinMax</a>
</p>
<p class="item_name">HISTORY</p>
<ul><li>   new in 1.5.0 (161124) - should be compatible with 2016b kernel.
</li>
<li>   181220: added __len__
</li>
</ul>
<p></p>
<a name="robo30"></a>
<a name="sIterators2fgetMinMax"></a>
<h2>12.2.  sIterators/getMinMax [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo11">sIterators</a> ] [ Iterator ]</p>
<p class="item_name">PURPOSE</p>
<p>   Returns the id, min, max, avg value reached by the attribute for each object
   of the given type or selection in turn
</p>
<p class="item_name">SYNTAX</p>
<p>   for id, vmin, vmax, vavg in <strong>getMinMax</strong>(typelt or selection, sattr):
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   int typelt: type element <a href="#robo7">Constants</a> <a href="#robo34">BRANCH</a>, <a href="#robo34">NODE</a>, <a href="#robo34">RESERVOIR</a>
</li>
<li>   string selection: name of a selection
</li>
<li>   string <a href="#robo68">attr</a>: attribute (result) for which value is requested
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   id, vmin, vmax, vavg: str element id, minimum, maximum and average values
   for the attribute over the simulation
</p>
<p class="item_name">HISTORY</p>
<ul><li>  181220: added len method
</li>
</ul>
<p></p>
<a name="robo12"></a>
<a name="ganessa2esort2fAbout"></a>
<h1>13.  ganessa.sort/About [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">PURPOSE</p>
<p>   The module ganessa.sort provides sorting <a href="#robo16">functions</a> and <a href="#robo5">Classes</a> used by the Ganessa tools.
</p>
<a name="robo13"></a>
<a name="ganessa2esort2fsClasses"></a>
<h1>14.  ganessa.sort/sClasses [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<a name="robo33"></a>
<a name="sClasses2fHeapSort"></a>
<h2>14.1.  sClasses/HeapSort [ Objects ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo13">sClasses</a> ] [ Objects ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   hs = <strong>HeapSort</strong>([key]): creates the heap structure.
</li>
</ul>
<p>   Instances provide the following methods:
</p>
<ul><li>   hs.remove(item): removes item - raise KeyError if not found
</li>
<li>   item, rank = hs.pop(): removes and returns the item of lowest rank.
</li>
<li>   hs.push(item [, rank]): inserts or replace item with given rank.
     If the item is already present, its rank and position are updated.
</li>
<li>   hs.update(item [, rank]): same as push but does nothing if rank unchanged
</li>
<li>   hs.update_if_lower(item [, rank]): same as push but does nothing if new rank
     is higher or equal than the actual rank.
</li>
<li>   hs.update_if_higher(item [, rank]): same as push but does nothing if new rank
     is lower or equal than the actual rank.
</li>
<li>   count = len(hs): returns the item count in the heap structure
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   optional function key: function allowing to compare items being inserted
</li>
<li>   item: item to be pushed / popped
</li>
<li>   number rank (optional if key function has been provided to the constructor):
     defines the ordering of items
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   hs: <strong>HeapSort</strong> class member
</li>
<li>   int count: remaining item count in the heap structure.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   Introduced in 1.8.2 (171031)
</p>
<a name="robo14"></a>
<a name="ganessa2eth2ftFunctions"></a>
<h1>15.  ganessa.th/tFunctions [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">DESCRIPTION</p>
<p>   <a href="#robo8">Functions</a> available to ganessa.th ONLY
</p>
<a name="robo110"></a>
<a name="tFunctions2fsolveTH"></a>
<h2>15.1.  tFunctions/solveTH [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo14">tFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Runs the thermo-hydraulic simulation
</p>
<p class="item_name">SYNTAX</p>
<p>   istat = <a href="#robo107">solveH</a>([silent=False [, iverb=-1 [, retry=True]]])
</p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   bool silent: if <a href="#robo63">set</a> to True, simulation runs without any output.
     Optional - if False or not <a href="#robo63">set</a>, leaves 'iverb' unchanged.
</li>
<li>   integer iverb: if provided, controls the amount of output during simulation
     (SIM IVERB parameter). If not <a href="#robo63">set</a>, leaves 'iverb' unchanged.
</li>
<li>   bool retry: if <a href="#robo63">set</a> to True, the simulation is <a href="#robo32">run</a> again if it fails
     because of isolated <a href="#robo23">Nodes</a>. Optional - defaults to False
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int istat: error status (0 if OK)
</p>
<p class="item_name">HISTORY</p>
<ul><li>   added 2017.05.15 - version 1.7.5
</li>
<li>   changed 2019.08.19 - version 2.0.7 - improved error check
</li>
</ul>
<p></p>
<a name="robo111"></a>
<a name="tFunctions2fsymmetric5fnode"></a>
<h2>15.2.  tFunctions/symmetric_node [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo14">tFunctions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   ids = <strong>symmetric_node</strong>(sid)
</p>
<p class="item_name">ARGUMENTS</p>
<p>   string sid: <a href="#robo34">NODE</a> ID for which the symmetric (counterpart <a href="#robo34">NODE</a> on
   the other circuit) is looked for
</p>
<p class="item_name">RESULT</p>
<ul><li>   string sid: id of the counterpart <a href="#robo34">NODE</a>. '' if not found.
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   always returns '' with Piccolo/Ganessa_SIM
</li>
<li>   the counterpart can be found only if the hot and cold circuits are almost symmetric
</li>
<li>   <strong>symmetric_node</strong> requires version 2016B (160511) or higher of Picalor/Ganessa TH dll
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   new in 1.3.6
</p>
<a name="robo15"></a>
<a name="ganessa2eutil2fAbout"></a>
<h1>16.  ganessa.util/About [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<p class="item_name">PURPOSE</p>
<p>   The module ganessa.util provides useful <a href="#robo16">functions</a> used by the Ganessa tools.
</p>
<p class="item_name">REMARK</p>
<p>   Some of the <a href="#robo16">functions</a> must be preceded by  'import ganessa.sim'
</p>
<a name="robo16"></a>
<a name="ganessa2eutil2ffunctions"></a>
<h1>17.  ganessa.util/functions [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<a name="robo39"></a>
<a name="functions2fcall5funtil5ffalse"></a>
<h2>17.1.  functions/call_until_false [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Calls a function with args until return is false
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   res = <strong>call_until_false</strong>(func, args [, maxcount= -1])
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   callable func: function to be called with args
</li>
<li>   args: *args to func
</li>
<li>   int maxcount: optional max count (defaults to -1:
     infinite sequence)
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   tuple of sucessive return values
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   Use of this function is meaningful with side-effect <a href="#robo16">functions</a>.
   The function is repeatedly called with the same argument list; the result
   is not just duplicated.
</p>
<p class="item_name">HISTORY</p>
<ul><li>   introduced 2.0.3 (1801011)
</li>
</ul>
<p></p>
<a name="robo43"></a>
<a name="functions2fdecode5ftime"></a>
<h2>17.2.  functions/decode_time, decode_date [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   fval = <strong>decode_time</strong>(input_tstring [, factor])
</li>
<li>   dval = <strong>decode_date</strong>(input_dstring)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   string input_tstr: duration in the form of float or hh:mm:ss or XML duration string.
</li>
<li>   optional float factor: multiplier (default to 1)
</li>
<li>   string input_dstr: date in a versatile format YYYY/MM/DD hh:mm:ss or DD/MM/YYYY hh:mm:ss
     or the iso format YYYY-MM-DDThh:mm:ss where 'T' can be replaced with a blank ' '.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float fval: number of seconds. The result is multiplied by factor only if input_string is a float.
</li>
<li>   date dval: date. The exception 'ValueError' is raised if the date cannot be read.
</li>
</ul>
<p></p>
<a name="robo45"></a>
<a name="functions2fdist5fto5fpoly"></a>
<h2>17.3.  functions/dist_to_poly, dist_p_seg,<br />dist [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Computes the distance of a point (xn, yn) to a polyline or a segment
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   d, s1, s2 = <strong>dist_to_poly</strong>(xn, yn, nbpoly, xpoly, ypoly)
</li>
<li>   d, s1, s2 = <strong>dist_to_poly</strong>(xn, yn, points)
</li>
<li>   d, s, slen = <strong>dist_p_seg</strong>(xn, yn, x1, y1, x2, y2)
</li>
<li>   d = <strong>dist</strong>(x1, y1, x2, y2)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   double xn, yn: point coordinates
</li>
<li>   int nbpoly: number of points
</li>
<li>   double[] xpoly, ypoly: vertices of the polyline
     (number of vertices in the polyline &gt;= 2; 2 for a plain segment)
</li>
<li>   sequence points: sequence of pairs of float or double
</li>
<li>   double x1, y1, x2, y2: coordinates of a segment extremities
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   double d: distance of point to the polyline or segment
</li>
<li>   double s1, s2: curvilinear position of the point projection on the polyline, from each extremity
</li>
<li>   double s: curvilinear position of the point projection on the segment, starting from (x1, y1)
</li>
<li>   double slen: length of the segment (x1, y1), (x2, y2)
</li>
</ul>
<p></p>
<p class="item_name">REMARKS</p>
<ul><li>   d= 0 means that the point is on the polyline.
</li>
<li>   s1&gt;0 and s2&gt;0 means that the point projection is at least on one of the segments.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   1.7.1 (170223) introduced compiled versions of these 3 <a href="#robo16">functions</a>;
                    pure python versions names are prefixed with '_'
</li>
</ul>
<p></p>
<a name="robo47"></a>
<a name="functions2fenvoi5fmsg"></a>
<h2>17.4.  functions/envoi_msg [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   status = <strong>envoi_msg</strong>(exp, dst, objet, texte [, serveur=smtp.safege.net] [, pwd=<a href="#robo36">NONE</a>])
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   string exp: adresse expediteur du message
</li>
<li>   string dst: adresse destinataire (ou [dst1, dst2 ... ])
</li>
<li>   string objet: objet
</li>
<li>   string texte: texte du message
</li>
<li>   string serveur (optionnel): serveur d'envoi
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   bool status: True si le message est parti sans erreur
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   171201: added pwd kwarg
</li>
</ul>
<p></p>
<a name="robo49"></a>
<a name="functions2fFichInfo"></a>
<h2>17.5.  functions/FichInfo, banner [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   fi = <strong>FichInfo</strong>(filename)
</li>
<li>   txt = fi.<strong>banner</strong>()
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<p>   string filename: input file name - expects the name of the caller '__file__'
</p>
<p class="item_name">RESULT</p>
<p>   a class member containing the following fields and method:
</p>
<ul><li>   nom: basename of the input filename without extension
</li>
<li>   vers: date of last modification of filename in the form 'YYMMDD'
</li>
<li>   pyvers: current version of python 'x.y.z'
</li>
<li>   <strong>banner</strong>() returns a string containing all the <a href="#robo21">Elements</a> above
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   180814 (1.9.8): appended '32/64 bits' to <strong>banner</strong> info
</li>
</ul>
<p></p>
<a name="robo50"></a>
<a name="functions2fformatting3a20strf2"></a>
<h2>17.6.  functions/formatting: strf2, strf3,<br />strf2loc, strf3loc,<br />stri, hhmmss,<br />strd [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   txt = strf2(fval)
</li>
<li>   txt = <strong>strf3</strong>(fval)
</li>
<li>   txt = <strong>stri</strong>(ival)
</li>
<li>   hms = <strong>hhmmss</strong>(val [, rounded= False])
</li>
<li>   dmy = <strong>strd</strong>(dval)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   int or float val: number of seconds
</li>
<li>   int ival: integer input value
</li>
<li>   float fval: float input value
</li>
<li>   date dval: datetime input value
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   string txt: string representation of the input value
</li>
<li>   string hms: representation of time in the form 'hh:mm:ss'
</li>
<li>   string dmy: date time in the isoformat except TZ: YYYY-MM-DDTHH:MM:SS
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<ul><li>   strf2 and <strong>strf3</strong>: values larger that 1 are written with at most 2 or 3 digits after decimal dot.
</li>
<li>   <strong>strf2loc</strong> and <strong>strf3loc</strong> use the local decimal dot (. or ,).
</li>
<li>   <strong>strd</strong>: the value 'val' is rounded to seconds id rounded= True
</li>
</ul>
<p></p>
<a name="robo52"></a>
<a name="functions2fget5fproxy"></a>
<h2>17.7.  functions/get_proxy [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   proxy = <strong>get_proxy</strong>([folder= <a href="#robo36">NONE</a>] [, default_proxy= ''])
</p>
<p class="item_name">ARGUMENTS</p>
<ul><li>   optional string folder: folder to search for proxy .json file
</li>
<li>   optional string default_proxy: default value for proxy
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   string proxy: value of the proxy, False if not found
</p>
<p class="item_name">REMARKS</p>
<p>   The .json configuration files are searched for either a "proxy" key
   or the first element of the first list. Files names are:
   'https_proxy', 'Mise_a_jour_packages', 'proxy'.
</p>
<p class="item_name">HISTORY</p>
<p>   1.8.8 (171212) created <strong>get_proxy</strong>
   2.1.0 (200214) fix urllib3 requiring proxy scheme (https://)
</p>
<a name="robo53"></a>
<a name="functions2fget5fpython5fexe"></a>
<h2>17.8.  functions/get_python_exe [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   name = <strong>get_python_exe</strong>()
</p>
<p class="item_name">RESULT</p>
<p>   str name: path/name to the python executable in use, possibly without extension
</p>
<p class="item_name">HISTORY</p>
<p>   2.0.7 (190821) created
</p>
<a name="robo61"></a>
<a name="functions2fgfloat"></a>
<h2>17.9.  functions/gfloat, gint,<br />gbool [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   fval = <strong>gfloat</strong>(input_string)
</li>
<li>   ival = <strong>gint</strong>(input_string)
</li>
<li>   bval = <strong>gbool</strong>(input_string)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<p>   string input_str: string value to be converted to a float or int or bool.
   The decimal separator can either be '.' or ','.
</p>
<p class="item_name">RESULT</p>
<ul><li>   float fval or int ival: numerical value after conversion
</li>
<li>   bool bval: semantic boolean value.
     Unlike bool builtin, <strong>gbool</strong>('False'), <strong>gbool</strong>('n') and <strong>gbool</strong>('0') return False
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<p>   171127: <strong>gbool</strong> added
</p>
<a name="robo63"></a>
<a name="functions2fIniFile"></a>
<h2>17.10.  functions/IniFile, get,<br />set, getall,<br />setall, save [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   mycfg = <strong>IniFile</strong>(filename)
</li>
<li>   txt = mycfg.<strong>get</strong>(<a href="#robo22">group</a>, key, default)
</li>
<li>   obj = mycfg.<strong>getall</strong>(<a href="#robo22">group</a>)
</li>
<li>   mycfg.<strong>set</strong>(<a href="#robo22">group</a>, key, value)
</li>
<li>   mycfg.<strong>set</strong>(<a href="#robo22">group</a>, obj)
</li>
<li>   value = mycfg.remove(<a href="#robo22">group</a>, key)
</li>
<li>   mycfg.<strong>save</strong>()
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   string filename: input file name - expects the name of the caller '__file__'
     in order to <strong>get</strong> the same file path and name with extension .json
</li>
<li>   string <a href="#robo22">group</a>: <a href="#robo22">group</a> of keys
</li>
<li>   string key, value: value of key to be stored/retrieved
</li>
<li>   object obj: object to be stored; may be a <a href="#robo35">DICT</a> of lists.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   mycfg = <strong>IniFile</strong>(filename): loads the <a href="#robo64">init</a> file and returns the groups of keys
</li>
<li>   val = mycfg.<strong>get</strong>(<a href="#robo22">group</a>, key, val) allows to update val if the value of <a href="#robo22">group</a>/key
     is defined.
</li>
<li>   object obj: object retrieved.
</li>
<li>   <strong>set</strong>() allows to <strong>set</strong> key with value
</li>
<li>   <strong>save</strong>() saves the files back
</li>
<li>   remove() returns the mapping or <a href="#robo36">NONE</a> if not found
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   Default format changed from .xml to .json in aug 2017;
     previous settings will be converted.
</li>
<li>   <strong>getall</strong> and <strong>setall</strong> added in march 2018.
</li>
<li>   180705 (1.9.7) <strong>IniFile</strong> handles non-ascii filenames
</li>
<li>   181218 (2.0.4) <strong>get</strong> returns unicode strings
</li>
<li>   200506 (2.1.2) remove method
</li>
</ul>
<p></p>
<a name="robo65"></a>
<a name="functions2fis5ftext"></a>
<h2>17.11.  functions/is_text, myascii,<br />unistr, str2uni,<br />utf2uni, con2uni [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   bret = <strong>is_text</strong>(input_str)
</li>
<li>   atxt = <strong>myascii</strong>(input_str)
</li>
<li>   utxt = <strong>unistr</strong>(input_str)
</li>
<li>   utxt = <strong>str2uni</strong>(input_str)
</li>
<li>   utxt = <strong>utf2uni</strong>(input_str)
</li>
<li>   utxt = <strong>con2uni</strong>(input_str)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<p>   input_str: value to be converted. Can be of any type:
   non text input are first converted to unicode.
</p>
<p class="item_name">RESULT</p>
<ul><li>   bool bret: indicator telling if the object item is a  string (unicode or byte).
     Equivalent to isinstance(input_str, basestring) in python 2.7
</li>
<li>   unicode or string atxt: string of same type as input_str where non-ascii charcacters
     have been replaced with the best match (i.e. 'é' is replaced with 'e').
</li>
<li>   unicode utxt: unicode string decoded from input_str (multiple codecs tried in turn);
     <strong>unistr</strong> tries 'cp1252', '<a href="#robo92">utf</a>-8', 'cp850', 'iso-8859-1';
     <strong>str2uni</strong> tries '<a href="#robo92">utf</a>-8', 'cp1252', 'cp850', 'iso-8859-1';
     tostr acts as <strong>unistr</strong> in python2 and as <strong>str2uni</strong> in python3;
     <strong>con2uni</strong> tries cp850 then tostr.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   in version 1.9.0, those <a href="#robo16">functions</a> are defined separately for python2 and python3.
</li>
<li>   since version 1.9.1, the definitions have been merged.
</li>
<li>   since version 2.1.5 (2020/08/24), 'ascii' replaced with '<strong>myascii</strong>'
</li>
</ul>
<p></p>
<a name="robo66"></a>
<a name="functions2fis5fwq"></a>
<h2>17.12.  functions/is_wq [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   bret = <strong>is_wq</strong>(<a href="#robo68">attr</a>)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<p>   unicode or byte string <a href="#robo68">attr</a>: attribute
</p>
<p class="item_name">RESULT</p>
<p>   bool bret: true if att in T, C0 .. C9, $0 .. $9, $A .. $Z
</p>
<p class="item_name">HISTORY</p>
<ul><li>   introduced 14.03.2020 - 2.1.1
</li>
</ul>
<p></p>
<a name="robo67"></a>
<a name="functions2flec5fcsv"></a>
<h2>17.13.  functions/lec_csv [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   header, content = <strong>lec_csv</strong>(filename [, sep=',']
   [, skip_before=0] [, skip_after=0] [, as_tuple=False])
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   string filename: input file name
</li>
<li>   string sep: optional column separator. Default ','.
</li>
<li>   int skip_before: optional number of lines to be skipped before reading header.
</li>
<li>   int skip_after: optional number of lines to be skipped after reading header.
</li>
<li>   bool as_tuple: optional bool indicating if records are lists (default) or tuples.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   header: list/tuple of strings read from the 1st line
</li>
<li>   content: list of lines, each being a list/tuple of text fields
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   The entire file is read into 'content'
</p>
<a name="robo71"></a>
<a name="functions2flist2file"></a>
<h2>17.14.  functions/list2file [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   fname = <strong>list2file</strong>(idlist [, header] [, footer] [, folder] [, suffix])
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   idlist: list of id (unicode str).
</li>
<li>   header: optional string to be placed before the list
</li>
<li>   footer: optional string to be placed after the list
</li>
<li>   folder: optional folder to create the file (default temp folder).
</li>
<li>   suffix: optional string to be used as a suffix for fname. Defaults to 'IDs.txt'
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   str fname: name of a temporary file containing header if any, <a href="#robo21">Elements</a> of idlist,
   footer if any, one per line.
</p>
<a name="robo79"></a>
<a name="functions2fquotefilename"></a>
<h2>17.15.  functions/quotefilename [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   txt = <strong>quotefilename</strong>(name)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   str name: file name
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   string txt: file name quoted with double quotes if it contains a whitespace.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   added 11/09/2015.
</li>
</ul>
<p></p>
<a name="robo82"></a>
<a name="functions2froundval"></a>
<h2>17.16.  functions/roundval, scaladjust [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">PURPOSE</p>
<p>   Computes a rounded approximation of a float number
</p>
<p class="item_name">SYNTAX</p>
<ul><li>   rmin, rbest, rmax = <strong>roundval</strong>(val, reltol= 0.01)
</li>
<li>   rval = <strong>scaladjust</strong>(val)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<ul><li>   float val: value to be rounded
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<ul><li>   float rmin, rmax: lower and upper values approximations (rmax - rmin &lt; reltol*|val|)
</li>
<li>   float rbest: best approximation (one of rmin, rmax)
</li>
<li>   float rval: value rounded at 1., 2. or 5. in the order of magnitude of val.
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   <strong>scaladjust</strong> is used to determine the grid interval for plots as <strong>scaladjust</strong>(0.25*(ymax-ymin))
 HISTORY:
   * 20.03.13 (2.1.1) fixed rounding when val &lt; 1
</p>
<a name="robo89"></a>
<a name="functions2ftoidpic"></a>
<h2>17.17.  functions/toidpic [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   out_str = <strong>toidpic</strong>(input_str)
</p>
<p class="item_name">ARGUMENT</p>
<p>   unicode or string input_str: string value to be converted to a Piccolo ID
</p>
<p class="item_name">RESULT</p>
<p>   ascii string where blank, comma, equal are replaced with underscore, other
   non litteral or digit are replaced with minus.
</p>
<a name="robo90"></a>
<a name="functions2fupdate5fpackage"></a>
<h2>17.18.  functions/update_package [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   stat = <strong>update_package</strong>(package_name [, minvers=''] [, pypi_name=<a href="#robo36">NONE</a>]
   [, deps= False] [, https_proxy= <a href="#robo36">NONE</a>] [, verbose= True])
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   string package_name: name of the package as used in the import statement
</li>
<li>   optional string minvers: minimum version required, in the form x.y[.z]
</li>
<li>   optional string pypi_name: package name in pypi, if different from package_name
</li>
<li>   optional bool deps: <a href="#robo63">set</a> to True to install the dependencies
</li>
<li>   optional string https_proxy: url and port of the proxy if required.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   bool stat: true if the package has been installed or updated
</p>
<p class="item_name">REMARKS</p>
<ul><li>   minvers can also be provided as a list or tuple of ints
</li>
<li>   proxy lookup starts with HTTPS_PROXY environment variable, then
     configuration files lookup using <a href="#robo52">get_proxy</a>() function.
</li>
</ul>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>   1.8.1 (171009) added
</li>
<li>   1.8.7 (171208) revised to allow ganessa to update itself
</li>
<li>   1.8.8 (171212) proxy config .json files lookup added
</li>
<li>   1.9.1 (180502) python3
</li>
<li>   1.9.2 (180518) use tempfile for testing access (MT <a href="#robo6">Compatibility</a>)
</li>
<li>   2.0.0 (180818) added verbose parameter
</li>
<li>   2.0.5 (190109) remove testing access
</li>
<li>   2.0.7 (190821) modified python exe lookup for venv <a href="#robo6">Compatibility</a>
</li>
<li>   2.0.9 (200205) minor fix in version_as_tuple: remove 4th level (post)
</li>
</ul>
<p></p>
<a name="robo92"></a>
<a name="functions2fwinstr"></a>
<h2>17.19.  functions/winstr, utf,<br />ws, aws,<br />codewinfile [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<ul><li>   out_txt = <strong>winstr</strong>(input_str)
</li>
<li>   out_txt = <strong>utf</strong>(input_str)
</li>
<li>   out_str = <strong>ws</strong>(input_str)
</li>
<li>   out_astr = <strong>aws</strong>(input_str)
</li>
</ul>
<p></p>
<p class="item_name">ARGUMENT</p>
<p>   unicode or byte string input_str: string value to be encoded to windows-compatible string
</p>
<p class="item_name">RESULT</p>
<ul><li>   out_txt encoded into Windows-1252 or <strong>utf</strong>-8 (no change if no accent or special character)
</li>
<li>   out_str: (unicode) string in python3, Windows-1252 encoded string in python2
</li>
<li>   out_astr: (unicode) string in python3, ascii unicode string in python2
</li>
</ul>
<p></p>
<p class="item_name">REMARK</p>
<p>   <strong>codewinfile</strong> and <strong>winstr</strong> are synonyms
</p>
<p class="item_name">HISTORY</p>
<ul><li>   <strong>ws</strong> has been introduced 30.05.2018 - 1.9.3
</li>
<li>   <strong>aws</strong> has been introduced 12.06.2018 - 1.9.5
</li>
</ul>
<p></p>
<a name="robo94"></a>
<a name="functions2fXMLduration"></a>
<h2>17.20.  functions/XMLduration [ Fonctions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo16">functions</a> ] [ Fonctions ]</p>
<p class="item_name">SYNTAX</p>
<p>   ival = <strong>XMLduration</strong>(input_string)
</p>
<p class="item_name">ARGUMENT</p>
<p>   string input_str: XML duration string value to be converted to a number of seconds.
</p>

<p>   The input format is [-]PnYnMnDTnHnMnS where:
</p>
<ul><li>   leading 'P' is mandatory,
</li>
<li>   at least one duration item must be present
</li>
<li>   'T' is mandatory if any hour, minute, second is present
</li>
<li>   all items are integers except second that may be either int or float.
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   int ival: number of seconds
</p>
<a name="robo17"></a>
<a name="ganessa2eutil2fiterators"></a>
<h1>18.  ganessa.util/iterators [ Introduction ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Introduction ]</p>
<a name="robo22"></a>
<a name="iterators2fgroup"></a>
<h2>18.1.  iterators/group [ Iterator ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo17">iterators</a> ] [ Iterator ]</p>
<p class="item_name">SYNTAX</p>
<p>   for items in <strong>group</strong>(iterable, count= 2):
</p>
<p class="item_name">ARGUMENT</p>
<ul><li>   iterable: iterable
</li>
<li>   int count: <strong>group</strong> size
</li>
</ul>
<p></p>
<p class="item_name">RESULT</p>
<p>   this iterator allows to return the <a href="#robo21">Elements</a> of iterable grouped
   by lists of size count. The last list may contain less than <strong>group</strong> <a href="#robo21">Elements</a>
</p>
<p class="item_name">HISTORY</p>
<ul><li>   1.7.6 (170613): iterator added
</li>
<li>   2.0.0 (180816): python 3.7 <a href="#robo6">Compatibility</a>
</li>
</ul>
<p></p>
<div id="footer">
<p>Generated from ./ganessa/ with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.41 on Thu Nov 19 2020 11:30:14
</p>
</div> <!-- footer -->
</body>
</html>
