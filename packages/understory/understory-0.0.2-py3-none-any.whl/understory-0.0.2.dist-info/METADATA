Metadata-Version: 2.1
Name: understory
Version: 0.0.2
Summary: The tools that power the canopy.
License: AGPL-3.0-or-later
Author: Angelo Gladding
Author-email: self@angelogladding.com
Requires-Python: >=3.9,<4.0
Classifier: License :: OSI Approved :: GNU Affero General Public License v3 or later (AGPLv3+)
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Requires-Dist: Pillow (>=8.1.0,<9.0.0)
Requires-Dist: PySocks (>=1.7.1,<2.0.0)
Requires-Dist: PyVirtualDisplay (>=2.0,<3.0)
Requires-Dist: Pygments (>=2.8.1,<3.0.0)
Requires-Dist: Unidecode (>=1.2.0,<2.0.0)
Requires-Dist: acme-tiny (>=4.1.0,<5.0.0)
Requires-Dist: argcomplete (>=1.12.2,<2.0.0)
Requires-Dist: beautifulsoup4 (>=4.9.3,<5.0.0)
Requires-Dist: cryptography (>=3.4.6,<4.0.0)
Requires-Dist: cssselect (>=1.1.0,<2.0.0)
Requires-Dist: dnspython (>=2.1.0,<3.0.0)
Requires-Dist: feedparser (>=6.0.2,<7.0.0)
Requires-Dist: flake8 (>=3.8.4,<4.0.0)
Requires-Dist: flake8-docstrings (>=1.5.0,<2.0.0)
Requires-Dist: gevent (>=21.1.2,<22.0.0)
Requires-Dist: ghdiff (>=0.4,<0.5)
Requires-Dist: gnupg (>=2.3.1,<3.0.0)
Requires-Dist: gunicorn (>=20.0.4,<21.0.0)
Requires-Dist: hiredis (>=1.1.0,<2.0.0)
Requires-Dist: hstspreload (>=2020.12.22,<2021.0.0)
Requires-Dist: html5lib (>=1.1,<2.0)
Requires-Dist: httpagentparser (>=1.9.1,<2.0.0)
Requires-Dist: ipython (>=7.20.0,<8.0.0)
Requires-Dist: keyring (>=22.0.1,<23.0.0)
Requires-Dist: lxml (>=4.6.2,<5.0.0)
Requires-Dist: mf2py (>=1.1.2,<2.0.0)
Requires-Dist: mf2util (>=0.5.1,<0.6.0)
Requires-Dist: networkx (>=2.5,<3.0)
Requires-Dist: pendulum (>=2.1.2,<3.0.0)
Requires-Dist: pep8-naming (>=0.11.1,<0.12.0)
Requires-Dist: pip (>=21.0.1,<22.0.0)
Requires-Dist: pss (>=1.43,<2.0)
Requires-Dist: pycryptodome (>=3.10.1,<4.0.0)
Requires-Dist: pyparsing (>=2.4.7,<3.0.0)
Requires-Dist: pyscreenshot (>=2.3,<3.0)
Requires-Dist: pytest (>=6.2.2,<7.0.0)
Requires-Dist: pytest-cov (>=2.11.1,<3.0.0)
Requires-Dist: pytest-pep8 (>=1.0.6,<2.0.0)
Requires-Dist: python-mimeparse (>=1.6.0,<2.0.0)
Requires-Dist: pyxdg (>=0.27,<0.28)
Requires-Dist: redis (>=3.5.3,<4.0.0)
Requires-Dist: regex (>=2020.11.13,<2021.0.0)
Requires-Dist: requests (>=2.25.1,<3.0.0)
Requires-Dist: scrypt (>=0.8.17,<0.9.0)
Requires-Dist: selenium (>=3.141.0,<4.0.0)
Requires-Dist: semver (>=2.13.0,<3.0.0)
Requires-Dist: sh (>=1.14.1,<2.0.0)
Requires-Dist: stem (>=1.8.0,<2.0.0)
Requires-Dist: watchdog (>=2.0.0,<3.0.0)
Requires-Dist: youtube_dl (>=2021.2.10,<2022.0.0)
Project-URL: Homepage, https://angelogladding.com/code/understory
Description-Content-Type: text/markdown

# understory
the tools that power the canopy

## web
tools for metamodern web development

    >>> import web

### Browser

uses Firefox via Selenium

    >>> browser = web.browser()
    >>> browser.go("en.wikipedia.org/wiki/Pasta")
    >>> browser.shot("wikipedia-pasta.png")

### Cache

uses SQLite

    >>> cache = web.cache()
    >>> cache["indieweb.org/note"].entry["summary"]
    "A note is a post that is typically short unstructured* plain text, written & posted quickly, that has its own permalink page."
    >>> cache["indieweb.org/note"].entry["summary"]  # served from cache
    "A note is a post that is typically short unstructured* plain text, written & posted quickly, that has its own permalink page."

### Application

WSGI-compatible

In `hello.py`:

    import web

    app = web.application("HelloWorld")

    @app.route(r"")
    class HelloWorld:
        def _get(self):
            return "Hello World!"

In `setup.py`:

    ...
    setup(install_requires=["web"],
          entry_points={"web.apps": ["hello:app"]},
          ...)

### Templating

Full Python inside string templates.

    >>> web.template("$def with (name)\n$name")("Alice")
    "Alice"

### Markdown

Strict syntax subset (there should be one and only one way).

Picoformat support eg. @person, @@org, #tag, %license

    >>> str(web.mkdn("*lorem* ipsum."))
    "<p><em>lorem</em> ipsum. </p>"

### URL parsing

Defaults to safe-mode and raises DangerousURL eagerly. Up-to-date public suffix and HSTS support.

    >>> url = web.uri("example.cnpy.gdn/foo/bar?id=38")
    >>> url.host
    "example.cnpy.gdn"
    >>> url.suffix
    "cnpy.gdn"
    >>> url.is_hsts()
    True

### IndieWeb

Supported: IndieAuth client/server, Micropub client/server, Microsub :construction:, WebSub :construction:, Webmention :construction:

    >>> app.mount(web.indieauth.server)
    >>> app.mount(web.micropub.server)

#### Microformats

Parse `mf2` from HTML. Analyze vocabularies for stability/interoperability.

